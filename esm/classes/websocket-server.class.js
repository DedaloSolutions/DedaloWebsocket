const a12_0x5ed5a6=a12_0x20c3;(function(_0x43505e,_0x14edf4){const _0x2c87fe=a12_0x20c3,_0x4b037e=_0x43505e();while(!![]){try{const _0x1b956d=-parseInt(_0x2c87fe(0x173))/0x1+-parseInt(_0x2c87fe(0x172))/0x2+-parseInt(_0x2c87fe(0x169))/0x3*(-parseInt(_0x2c87fe(0x167))/0x4)+-parseInt(_0x2c87fe(0x16e))/0x5+parseInt(_0x2c87fe(0x16f))/0x6+parseInt(_0x2c87fe(0x15a))/0x7*(parseInt(_0x2c87fe(0x154))/0x8)+parseInt(_0x2c87fe(0x175))/0x9*(parseInt(_0x2c87fe(0x162))/0xa);if(_0x1b956d===_0x14edf4)break;else _0x4b037e['push'](_0x4b037e['shift']());}catch(_0x57557f){_0x4b037e['push'](_0x4b037e['shift']());}}}(a12_0x2a09,0x5c934),function(_0x1b6316,_0x1d1273){const _0x55b52f=a12_0x20c3,_0xb6fbfa=a6_0x2ceb,_0x3dc625=_0x1b6316();while(!![]){try{const _0x396b1c=parseInt(_0xb6fbfa(0x9b))/0x1*(parseInt(_0xb6fbfa(0x99))/0x2)+parseInt(_0xb6fbfa(0x8a))/0x3*(parseInt(_0xb6fbfa(0x9d))/0x4)+-parseInt(_0xb6fbfa(0x98))/0x5+parseInt(_0xb6fbfa(0x9c))/0x6+-parseInt(_0xb6fbfa(0x90))/0x7*(-parseInt(_0xb6fbfa(0x97))/0x8)+parseInt(_0xb6fbfa(0x9a))/0x9+-parseInt(_0xb6fbfa(0x91))/0xa*(parseInt(_0xb6fbfa(0x88))/0xb);if(_0x396b1c===_0x1d1273)break;else _0x3dc625[_0x55b52f(0x15b)](_0x3dc625[_0x55b52f(0x155)]());}catch(_0x23fd38){_0x3dc625['push'](_0x3dc625['shift']());}}}(a6_0x57a3,0x7d1c3));function a12_0x2a09(){const _0x3f4683=['1023cFnXYM','1QTwqxU','raise','203lKBaWC','push','listen','4170475IBLNzn','fromUpgradeRequest','findIndex','4209366NuvIPu','upgrade','10zSEgzl','off','1088397ooRKoW','handlers','splice','1156qegGQH','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','1254oAgcHg','clients','680aGJpar','call','close','1082570OxRJfc','2800980lnMHOl','8wkXvYG','99490bTVsMM','1041326uxNFBq','274388pMZSkh','8187QQVFKW','5402394wDwtRX','3049102KLkTAI','55960azloul','shift','connection'];a12_0x2a09=function(){return _0x3f4683;};return a12_0x2a09();}import a12_0x371412 from'crypto';function a12_0x20c3(_0x481396,_0x41f4fc){const _0x2a09ea=a12_0x2a09();return a12_0x20c3=function(_0x20c39d,_0x88e5e6){_0x20c39d=_0x20c39d-0x154;let _0x4692f2=_0x2a09ea[_0x20c39d];return _0x4692f2;},a12_0x20c3(_0x481396,_0x41f4fc);}function a6_0x2ceb(_0x352f70,_0x521d5d){const _0x252a3b=a6_0x57a3();return a6_0x2ceb=function(_0x1d3674,_0x4c067f){_0x1d3674=_0x1d3674-0x88;let _0x2129fc=_0x252a3b[_0x1d3674];return _0x2129fc;},a6_0x2ceb(_0x352f70,_0x521d5d);}import a12_0x58f3f6 from'./websocket-client-server.class';function a6_0x57a3(){const _0x556267=a12_0x20c3,_0x5ce779=['1099586vjGHuL',_0x556267(0x164),_0x556267(0x158),_0x556267(0x160),_0x556267(0x16b),'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found',_0x556267(0x157),_0x556267(0x156),_0x556267(0x174),_0x556267(0x15e),_0x556267(0x16a),'randomUUID',_0x556267(0x165),_0x556267(0x15b),_0x556267(0x176),_0x556267(0x171),_0x556267(0x15f),_0x556267(0x16c),_0x556267(0x159),_0x556267(0x166),_0x556267(0x16d),_0x556267(0x170),_0x556267(0x15d)];return a6_0x57a3=function(){return _0x5ce779;},a6_0x57a3();}export default class WebsocketServer{constructor(){const _0x17f5fd=a12_0x20c3,_0x2986b7=a6_0x2ceb;this[_0x2986b7(0x8c)]={},this[_0x17f5fd(0x165)]={};}[a12_0x5ed5a6(0x15c)](_0x205866){const _0x2f2de4=a12_0x5ed5a6;_0x205866['on'](_0x2f2de4(0x161),(_0x246c68,_0x57ae49)=>{const _0x598059=a6_0x2ceb,_0x117ea4=a12_0x58f3f6[_0x598059(0x8b)](_0x246c68,_0x57ae49),_0x276531=a12_0x371412[_0x598059(0x8d)]();if(_0x117ea4===null)return;this[_0x598059(0x8c)][_0x276531]=_0x117ea4,_0x117ea4['on'](_0x598059(0x96),()=>{const _0x153f52=_0x598059;delete this[_0x153f52(0x8c)][_0x276531];}),this[_0x598059(0x94)](_0x598059(0x89),[_0x117ea4,_0x276531]);});}['on'](_0x1c476c,_0x5799d2){const _0x2f66d1=a6_0x2ceb;if(this[_0x2f66d1(0x8e)][_0x1c476c]==undefined)this[_0x2f66d1(0x8e)][_0x1c476c]=[];this[_0x2f66d1(0x8e)][_0x1c476c][_0x2f66d1(0x8f)](_0x5799d2);}[a12_0x5ed5a6(0x163)](_0x5d08ba,_0x17924f){const _0x26c4b4=a12_0x5ed5a6,_0x34955b=a6_0x2ceb;if(_0x17924f==undefined){this[_0x34955b(0x8e)][_0x5d08ba]=[];return;}const _0x2171ae=this[_0x34955b(0x8e)][_0x5d08ba],_0x3873f1=(_0x2171ae!==null&&_0x2171ae!==void 0x0?_0x2171ae:[])[_0x34955b(0x92)](_0x225952=>_0x225952===_0x17924f);if(_0x3873f1===-0x1)throw new Error(_0x26c4b4(0x168)+_0x5d08ba+_0x34955b(0x9e));_0x2171ae[_0x34955b(0x95)](_0x3873f1,0x1);}[a12_0x5ed5a6(0x159)](_0x11bb51,[_0x4d0602,_0x4085d4]){const _0x144c98=a6_0x2ceb;var _0x53dfbc;const _0xb09e89=(_0x53dfbc=this['handlers'][_0x11bb51])!==null&&_0x53dfbc!==void 0x0?_0x53dfbc:[];for(const _0x4e80a0 of _0xb09e89){_0x4e80a0[_0x144c98(0x93)](undefined,...[_0x4d0602,_0x4085d4]);}}}