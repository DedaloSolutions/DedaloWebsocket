const a6_0x437328=a6_0x8360;function a6_0x8360(_0x4163f7,_0x13a9f0){const _0x498302=a6_0x4983();return a6_0x8360=function(_0x836041,_0x1e7894){_0x836041=_0x836041-0x86;let _0x426470=_0x498302[_0x836041];return _0x426470;},a6_0x8360(_0x4163f7,_0x13a9f0);}(function(_0x197cff,_0x3edc25){const _0x3493d1=a6_0x8360,_0xe7f8be=_0x197cff();while(!![]){try{const _0x527411=-parseInt(_0x3493d1(0x9d))/0x1*(parseInt(_0x3493d1(0x98))/0x2)+-parseInt(_0x3493d1(0x9e))/0x3*(parseInt(_0x3493d1(0x9c))/0x4)+parseInt(_0x3493d1(0x94))/0x5*(-parseInt(_0x3493d1(0x93))/0x6)+-parseInt(_0x3493d1(0x8a))/0x7+-parseInt(_0x3493d1(0x8f))/0x8*(parseInt(_0x3493d1(0x96))/0x9)+-parseInt(_0x3493d1(0x86))/0xa+parseInt(_0x3493d1(0x9b))/0xb;if(_0x527411===_0x3edc25)break;else _0xe7f8be['push'](_0xe7f8be['shift']());}catch(_0x687d3a){_0xe7f8be['push'](_0xe7f8be['shift']());}}}(a6_0x4983,0x1f415));import a6_0x35039c from'crypto';function a6_0x4983(){const _0x20f347=['raise','1304590ADMXMu','clients','open','randomUUID','call','1064wOgZnw','off','upgrade','splice','110994SdrfUn','55kVqxiF','findIndex','7002AeslSq','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','24014ekKWog','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','fromUpgradeRequest','11662431sabseI','28LSFXFE','19wWMisd','18381VKQPcc','handlers','1678450HZeipQ','close','push'];a6_0x4983=function(){return _0x20f347;};return a6_0x4983();}import a6_0x4f8264 from'./websocket-client-server.class';export default class WebsocketServer{constructor(){const _0x392aae=a6_0x8360;this[_0x392aae(0x8b)]={},this[_0x392aae(0x9f)]={};}['listen'](_0x5546be){const _0x462521=a6_0x8360;_0x5546be['on'](_0x462521(0x91),(_0x52d82a,_0x303bf6)=>{const _0x13d93a=_0x462521,_0x2934b6=a6_0x4f8264[_0x13d93a(0x9a)](_0x52d82a,_0x303bf6),_0x430e4a=a6_0x35039c[_0x13d93a(0x8d)]();if(_0x2934b6===null)return;this[_0x13d93a(0x8b)][_0x430e4a]=_0x2934b6,_0x2934b6['on'](_0x13d93a(0x87),()=>{const _0x43036a=_0x13d93a;delete this[_0x43036a(0x8b)][_0x430e4a];}),this['raise'](_0x13d93a(0x8c),[_0x2934b6,_0x430e4a]);});}['on'](_0x2d551d,_0x585e54){const _0x524705=a6_0x8360;if(this['handlers'][_0x2d551d]==undefined)this[_0x524705(0x9f)][_0x2d551d]=[];this[_0x524705(0x9f)][_0x2d551d][_0x524705(0x88)](_0x585e54);}[a6_0x437328(0x90)](_0x1e453a,_0x3da277){const _0x4e8f05=a6_0x437328;if(_0x3da277==undefined){this[_0x4e8f05(0x9f)][_0x1e453a]=[];return;}const _0x4cb63e=this[_0x4e8f05(0x9f)][_0x1e453a],_0x144515=(_0x4cb63e!==null&&_0x4cb63e!==void 0x0?_0x4cb63e:[])[_0x4e8f05(0x95)](_0x34b6bf=>_0x34b6bf===_0x3da277);if(_0x144515===-0x1)throw new Error(_0x4e8f05(0x97)+_0x1e453a+_0x4e8f05(0x99));_0x4cb63e[_0x4e8f05(0x92)](_0x144515,0x1);}[a6_0x437328(0x89)](_0xa4cd40,[_0x4e6ab0,_0x5bd8e3]){const _0x4e34dc=a6_0x437328;var _0x4a8eeb;const _0x134508=(_0x4a8eeb=this[_0x4e34dc(0x9f)][_0xa4cd40])!==null&&_0x4a8eeb!==void 0x0?_0x4a8eeb:[];for(const _0x3fb883 of _0x134508){_0x3fb883[_0x4e34dc(0x8e)](undefined,...[_0x4e6ab0,_0x5bd8e3]);}}}