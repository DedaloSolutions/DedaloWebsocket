function a6_0x3085(){const _0xd53558=['441bZGlal','push','splice','findIndex','14iMdumz','1474840Lskubt','close','clients','1996422nvSqcE','195560dqKlpZ','handlers','raise','randomUUID','off','8525320htyKRg','fromUpgradeRequest','10zfFTvk','3413748pouiUV','upgrade','593796OrXQCm','143768LbCNKd'];a6_0x3085=function(){return _0xd53558;};return a6_0x3085();}const a6_0x5dfc82=a6_0x3178;(function(_0x15a450,_0x3b6c40){const _0xad9ed7=a6_0x3178,_0x227577=_0x15a450();while(!![]){try{const _0x2ba8cd=-parseInt(_0xad9ed7(0xb4))/0x1*(-parseInt(_0xad9ed7(0xc5))/0x2)+-parseInt(_0xad9ed7(0xb1))/0x3+parseInt(_0xad9ed7(0xb3))/0x4+parseInt(_0xad9ed7(0xba))/0x5+-parseInt(_0xad9ed7(0xbd))/0x6*(-parseInt(_0xad9ed7(0xb9))/0x7)+-parseInt(_0xad9ed7(0xc3))/0x8+-parseInt(_0xad9ed7(0xb5))/0x9*(-parseInt(_0xad9ed7(0xbe))/0xa);if(_0x2ba8cd===_0x3b6c40)break;else _0x227577['push'](_0x227577['shift']());}catch(_0x6fbbfe){_0x227577['push'](_0x227577['shift']());}}}(a6_0x3085,0x8e2fa));function a6_0x3178(_0x5a211d,_0x527828){const _0x30851e=a6_0x3085();return a6_0x3178=function(_0x3178f3,_0x318457){_0x3178f3=_0x3178f3-0xb1;let _0x47f1e1=_0x30851e[_0x3178f3];return _0x47f1e1;},a6_0x3178(_0x5a211d,_0x527828);}import a6_0x2e4282 from'crypto';import a6_0x5a124a from'./websocket-client-server.class';export default class WebsocketServer{constructor(_0x4aec9f){const _0x39c9b0=a6_0x3178;this[_0x39c9b0(0xbc)]={},this[_0x39c9b0(0xbf)]={},_0x4aec9f['on'](_0x39c9b0(0xb2),(_0x4fd367,_0x308d15)=>{const _0x432aa7=_0x39c9b0,_0x5b63dd=a6_0x5a124a[_0x432aa7(0xc4)](_0x4fd367,_0x308d15),_0x506e8e=a6_0x2e4282[_0x432aa7(0xc1)]();if(_0x5b63dd===null)return;this[_0x432aa7(0xbc)][_0x506e8e]=_0x5b63dd,_0x5b63dd['on'](_0x432aa7(0xbb),()=>{delete this['clients'][_0x506e8e];}),this[_0x432aa7(0xc0)]('open',_0x5b63dd);});}['on'](_0x3778f2,_0x35e4de){const _0x31c727=a6_0x3178;if(this[_0x31c727(0xbf)][_0x3778f2]==undefined)this['handlers'][_0x3778f2]=[];this[_0x31c727(0xbf)][_0x3778f2][_0x31c727(0xb6)](_0x35e4de);}[a6_0x5dfc82(0xc2)](_0x2b95f1,_0x5a06ae){const _0x71664d=a6_0x5dfc82;if(_0x5a06ae==undefined){this[_0x71664d(0xbf)][_0x2b95f1]=[];return;}const _0x515d1d=this['handlers'][_0x2b95f1],_0x1e1dd9=(_0x515d1d!==null&&_0x515d1d!==void 0x0?_0x515d1d:[])[_0x71664d(0xb8)](_0x14011d=>_0x14011d===_0x5a06ae);if(_0x1e1dd9===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x2b95f1+'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found');_0x515d1d[_0x71664d(0xb7)](_0x1e1dd9,0x1);}[a6_0x5dfc82(0xc0)](_0xc4a7a0,_0x40abf7){const _0x1e2b2e=a6_0x5dfc82;var _0x320c8c;const _0x14f9f6=(_0x320c8c=this[_0x1e2b2e(0xbf)][_0xc4a7a0])!==null&&_0x320c8c!==void 0x0?_0x320c8c:[];for(const _0xc6065a of _0x14f9f6){_0xc6065a(_0x40abf7);}}}