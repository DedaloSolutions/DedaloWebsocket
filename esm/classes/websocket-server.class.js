(function(_0x53d9ab,_0x1ba9ae){const _0x554156=a6_0x2ceb,_0x2219af=_0x53d9ab();while(!![]){try{const _0x1ff17f=parseInt(_0x554156(0x9b))/0x1*(parseInt(_0x554156(0x99))/0x2)+parseInt(_0x554156(0x8a))/0x3*(parseInt(_0x554156(0x9d))/0x4)+-parseInt(_0x554156(0x98))/0x5+parseInt(_0x554156(0x9c))/0x6+-parseInt(_0x554156(0x90))/0x7*(-parseInt(_0x554156(0x97))/0x8)+parseInt(_0x554156(0x9a))/0x9+-parseInt(_0x554156(0x91))/0xa*(parseInt(_0x554156(0x88))/0xb);if(_0x1ff17f===_0x1ba9ae)break;else _0x2219af['push'](_0x2219af['shift']());}catch(_0x9ef3c3){_0x2219af['push'](_0x2219af['shift']());}}}(a6_0x57a3,0x7d1c3));import a6_0x1affb8 from'crypto';function a6_0x2ceb(_0xf37ddc,_0x72bbe){const _0x57a379=a6_0x57a3();return a6_0x2ceb=function(_0x2ceb05,_0x539ee5){_0x2ceb05=_0x2ceb05-0x88;let _0x467b87=_0x57a379[_0x2ceb05];return _0x467b87;},a6_0x2ceb(_0xf37ddc,_0x72bbe);}import a6_0x29d585 from'./websocket-client-server.class';function a6_0x57a3(){const _0x25dbb6=['1099586vjGHuL','1088397ooRKoW','1QTwqxU','4209366NuvIPu','680aGJpar','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','1023cFnXYM','connection','8187QQVFKW','fromUpgradeRequest','clients','randomUUID','handlers','push','3049102KLkTAI','99490bTVsMM','findIndex','call','raise','splice','close','8wkXvYG','4170475IBLNzn'];a6_0x57a3=function(){return _0x25dbb6;};return a6_0x57a3();}export default class WebsocketServer{constructor(){const _0x25bb3f=a6_0x2ceb;this[_0x25bb3f(0x8c)]={},this['handlers']={};}['listen'](_0xa7c043){_0xa7c043['on']('upgrade',(_0x51b85d,_0x244384)=>{const _0x45befd=a6_0x2ceb,_0x180c06=a6_0x29d585[_0x45befd(0x8b)](_0x51b85d,_0x244384),_0x4988ac=a6_0x1affb8[_0x45befd(0x8d)]();if(_0x180c06===null)return;this[_0x45befd(0x8c)][_0x4988ac]=_0x180c06,_0x180c06['on'](_0x45befd(0x96),()=>{const _0x30fa65=_0x45befd;delete this[_0x30fa65(0x8c)][_0x4988ac];}),this[_0x45befd(0x94)](_0x45befd(0x89),[_0x180c06,_0x4988ac]);});}['on'](_0x178a9e,_0x68f932){const _0x19c004=a6_0x2ceb;if(this[_0x19c004(0x8e)][_0x178a9e]==undefined)this[_0x19c004(0x8e)][_0x178a9e]=[];this[_0x19c004(0x8e)][_0x178a9e][_0x19c004(0x8f)](_0x68f932);}['off'](_0x436acb,_0x550a90){const _0x2afa74=a6_0x2ceb;if(_0x550a90==undefined){this[_0x2afa74(0x8e)][_0x436acb]=[];return;}const _0x10e2da=this[_0x2afa74(0x8e)][_0x436acb],_0x293505=(_0x10e2da!==null&&_0x10e2da!==void 0x0?_0x10e2da:[])[_0x2afa74(0x92)](_0x101bbd=>_0x101bbd===_0x550a90);if(_0x293505===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x436acb+_0x2afa74(0x9e));_0x10e2da[_0x2afa74(0x95)](_0x293505,0x1);}['raise'](_0x4b49fc,[_0x109ffa,_0x12dc89]){const _0x3c4e86=a6_0x2ceb;var _0x2ed0b8;const _0x44d486=(_0x2ed0b8=this['handlers'][_0x4b49fc])!==null&&_0x2ed0b8!==void 0x0?_0x2ed0b8:[];for(const _0x49eea0 of _0x44d486){_0x49eea0[_0x3c4e86(0x93)](undefined,...[_0x109ffa,_0x12dc89]);}}}