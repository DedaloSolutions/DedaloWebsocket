function a9_0x3df4(_0x31dd24,_0x207c88){const _0xc54642=a9_0xc546();return a9_0x3df4=function(_0x3df430,_0x34a161){_0x3df430=_0x3df430-0xb1;let _0x48fba6=_0xc54642[_0x3df430];return _0x48fba6;},a9_0x3df4(_0x31dd24,_0x207c88);}function a9_0xc546(){const _0x3a8077=['connection','fromUpgradeRequest','raise','off','sockets','findIndex','handshake','close','handlers','351344cbsbkq','call','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','2119720VLOQpb','1128051bkwtSm','8182272VAzpvo','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','listen','5853162PaeCoV','2840410FeSTCw','randomUUID','155692UdfkFw'];a9_0xc546=function(){return _0x3a8077;};return a9_0xc546();}const a9_0x5753b9=a9_0x3df4;(function(_0x4824a8,_0x53c4ab){const _0x46a42d=a9_0x3df4,_0x1f7800=_0x4824a8();while(!![]){try{const _0x29d3bd=parseInt(_0x46a42d(0xc1))/0x1+parseInt(_0x46a42d(0xb6))/0x2+parseInt(_0x46a42d(0xba))/0x3+-parseInt(_0x46a42d(0xb9))/0x4+parseInt(_0x46a42d(0xbf))/0x5+parseInt(_0x46a42d(0xbe))/0x6+-parseInt(_0x46a42d(0xbb))/0x7;if(_0x29d3bd===_0x53c4ab)break;else _0x1f7800['push'](_0x1f7800['shift']());}catch(_0x2030d5){_0x1f7800['push'](_0x1f7800['shift']());}}}(a9_0xc546,0x86ce4));import a9_0x154d93 from'crypto';import a9_0xb2c638 from'./socket.class';export default class Server{constructor(){const _0x2e9d4d=a9_0x3df4;this[_0x2e9d4d(0xb1)]={},this[_0x2e9d4d(0xb5)]={};}[a9_0x5753b9(0xbd)](_0x2bfd34){_0x2bfd34['on']('upgrade',(_0x170594,_0x1e302a)=>{const _0x2ac913=a9_0x3df4,_0x1b3eca=a9_0xb2c638[_0x2ac913(0xc3)](_0x170594,_0x1e302a),_0x558990=a9_0x154d93[_0x2ac913(0xc0)]();if(_0x1b3eca===null)return;this[_0x2ac913(0xb1)][_0x558990]=_0x1b3eca,_0x1b3eca['on'](_0x2ac913(0xb3),_0x550305=>{const _0x49f166=_0x2ac913;this[_0x49f166(0xc4)](_0x49f166(0xc2),[_0x558990,_0x1b3eca,_0x550305]);}),_0x1b3eca['on'](_0x2ac913(0xb4),()=>{const _0x1dc109=_0x2ac913;delete this[_0x1dc109(0xb1)][_0x558990];});});}['on'](_0x1275c7,_0x5150cd){const _0x30cfd1=a9_0x5753b9;if(this[_0x30cfd1(0xb5)][_0x1275c7]==undefined)this[_0x30cfd1(0xb5)][_0x1275c7]=[];this[_0x30cfd1(0xb5)][_0x1275c7]['push'](_0x5150cd);}[a9_0x5753b9(0xc5)](_0xe748b6,_0x4dd172){const _0x1c1453=a9_0x5753b9;if(_0x4dd172==undefined){this[_0x1c1453(0xb5)][_0xe748b6]=[];return;}const _0x5ea308=this[_0x1c1453(0xb5)][_0xe748b6],_0x4931da=(_0x5ea308!==null&&_0x5ea308!==void 0x0?_0x5ea308:[])[_0x1c1453(0xb2)](_0x34a81e=>_0x34a81e===_0x4dd172);if(_0x4931da===-0x1)throw new Error(_0x1c1453(0xb8)+_0xe748b6+_0x1c1453(0xbc));_0x5ea308['splice'](_0x4931da,0x1);}[a9_0x5753b9(0xc4)](_0x2e474b,[_0x3e355b,_0x3aa542,_0x2fda03]){const _0x1fa1f3=a9_0x5753b9;var _0x513285;const _0x1ea68c=(_0x513285=this['handlers'][_0x2e474b])!==null&&_0x513285!==void 0x0?_0x513285:[];for(const _0x1df67f of _0x1ea68c){_0x1df67f[_0x1fa1f3(0xb7)](undefined,...[_0x3e355b,_0x3aa542,_0x2fda03]);}}}