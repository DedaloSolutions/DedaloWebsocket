function a8_0x8b71(_0x32bbba,_0x17db57){const _0x475b34=a8_0x475b();return a8_0x8b71=function(_0x8b713c,_0x401f6c){_0x8b713c=_0x8b713c-0xaf;let _0x182147=_0x475b34[_0x8b713c];return _0x182147;},a8_0x8b71(_0x32bbba,_0x17db57);}const a8_0x515b13=a8_0x8b71;(function(_0x2c5ba1,_0x5467ef){const _0x1e39f3=a8_0x8b71,_0x121f13=_0x2c5ba1();while(!![]){try{const _0x4d27de=-parseInt(_0x1e39f3(0xba))/0x1*(parseInt(_0x1e39f3(0xaf))/0x2)+-parseInt(_0x1e39f3(0xb2))/0x3*(parseInt(_0x1e39f3(0xbf))/0x4)+parseInt(_0x1e39f3(0xbb))/0x5+-parseInt(_0x1e39f3(0xc3))/0x6*(-parseInt(_0x1e39f3(0xc0))/0x7)+-parseInt(_0x1e39f3(0xbc))/0x8+parseInt(_0x1e39f3(0xbd))/0x9*(-parseInt(_0x1e39f3(0xb0))/0xa)+parseInt(_0x1e39f3(0xc4))/0xb;if(_0x4d27de===_0x5467ef)break;else _0x121f13['push'](_0x121f13['shift']());}catch(_0x40a586){_0x121f13['push'](_0x121f13['shift']());}}}(a8_0x475b,0x8ebb2));function a8_0x475b(){const _0xfb9b35=['1029494MKXftK','5715410GUHmlj','handshake','3fWtPbz','listen','sockets','push','findIndex','raise','upgrade','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','1ksBrvU','5306000hWSbTC','3527040GHnLqg','18VTqArU','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','3877028zvIZqZ','347774QfkYGF','handlers','call','48XoBxhI','24133296XszMmF'];a8_0x475b=function(){return _0xfb9b35;};return a8_0x475b();}import a8_0x3658bd from'crypto';import a8_0x268dc9 from'./socket.class';export default class Server{constructor(){const _0x35e109=a8_0x8b71;this[_0x35e109(0xb4)]={},this[_0x35e109(0xc1)]={};}[a8_0x515b13(0xb3)](_0xe4d2c4){const _0x17c703=a8_0x515b13;_0xe4d2c4['on'](_0x17c703(0xb8),(_0x1b37a2,_0x359ce3)=>{const _0x359211=_0x17c703,_0x1c7ecf=a8_0x268dc9['fromUpgradeRequest'](_0x1b37a2,_0x359ce3),_0x5deae1=a8_0x3658bd['randomUUID']();if(_0x1c7ecf===null)return;this['sockets'][_0x5deae1]=_0x1c7ecf,_0x1c7ecf['on'](_0x359211(0xb1),_0x4e8587=>{const _0x5bcbfc=_0x359211;this[_0x5bcbfc(0xb7)]('connection',[_0x5deae1,_0x1c7ecf,_0x4e8587]);}),_0x1c7ecf['on']('close',()=>{const _0x127148=_0x359211;delete this[_0x127148(0xb4)][_0x5deae1];});});}['on'](_0x2012a2,_0x37db8a){const _0x122a9c=a8_0x515b13;if(this[_0x122a9c(0xc1)][_0x2012a2]==undefined)this[_0x122a9c(0xc1)][_0x2012a2]=[];this['handlers'][_0x2012a2][_0x122a9c(0xb5)](_0x37db8a);}['off'](_0x49398a,_0x858014){const _0x51354f=a8_0x515b13;if(_0x858014==undefined){this['handlers'][_0x49398a]=[];return;}const _0x2432df=this[_0x51354f(0xc1)][_0x49398a],_0x69ea52=(_0x2432df!==null&&_0x2432df!==void 0x0?_0x2432df:[])[_0x51354f(0xb6)](_0x2ba750=>_0x2ba750===_0x858014);if(_0x69ea52===-0x1)throw new Error(_0x51354f(0xb9)+_0x49398a+_0x51354f(0xbe));_0x2432df['splice'](_0x69ea52,0x1);}[a8_0x515b13(0xb7)](_0x1f2729,[_0x484158,_0x38d729,_0x189e30]){const _0x370af9=a8_0x515b13;var _0x5cc3e3;const _0x34c029=(_0x5cc3e3=this[_0x370af9(0xc1)][_0x1f2729])!==null&&_0x5cc3e3!==void 0x0?_0x5cc3e3:[];for(const _0xe6ddfe of _0x34c029){_0xe6ddfe[_0x370af9(0xc2)](undefined,...[_0x484158,_0x38d729,_0x189e30]);}}}