const a8_0x398801=a8_0x169c;function a8_0x169c(_0x1150b3,_0xddf6da){const _0x4598cb=a8_0x4598();return a8_0x169c=function(_0x169c59,_0x31da02){_0x169c59=_0x169c59-0x15c;let _0x24f4df=_0x4598cb[_0x169c59];return _0x24f4df;},a8_0x169c(_0x1150b3,_0xddf6da);}(function(_0x29354d,_0x3859bb){const _0x2fa778=a8_0x169c,_0x31c202=_0x29354d();while(!![]){try{const _0xa9647=parseInt(_0x2fa778(0x15c))/0x1+-parseInt(_0x2fa778(0x16a))/0x2*(parseInt(_0x2fa778(0x15e))/0x3)+parseInt(_0x2fa778(0x173))/0x4+parseInt(_0x2fa778(0x15f))/0x5*(-parseInt(_0x2fa778(0x16d))/0x6)+-parseInt(_0x2fa778(0x162))/0x7*(parseInt(_0x2fa778(0x171))/0x8)+-parseInt(_0x2fa778(0x15d))/0x9*(-parseInt(_0x2fa778(0x170))/0xa)+-parseInt(_0x2fa778(0x16c))/0xb*(-parseInt(_0x2fa778(0x161))/0xc);if(_0xa9647===_0x3859bb)break;else _0x31c202['push'](_0x31c202['shift']());}catch(_0x1052ff){_0x31c202['push'](_0x31c202['shift']());}}}(a8_0x4598,0x30930));function a8_0x4598(){const _0x193bbd=['raise','29292ZiWUhv','1407511qiAOQZ','call','splice','handlers','listen','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','connection','upgrade','376690xIOQBk','push','1089NqAcTs','84RTytgZ','fromUpgradeRequest','off','747200IeHbcU','8zenpwA','sockets','563896xEzNrU','170949ViyDZG','27nXXMAU','3fJIxeO','67630bApRLN'];a8_0x4598=function(){return _0x193bbd;};return a8_0x4598();}import a8_0x2df1c6 from'crypto';import a8_0x4c4957 from'./socket.class';export default class Server{constructor(){const _0x4a987c=a8_0x169c;this[_0x4a987c(0x172)]={},this[_0x4a987c(0x165)]={};}[a8_0x398801(0x166)](_0x3bfbfc){const _0x26e31b=a8_0x398801;_0x3bfbfc['on'](_0x26e31b(0x169),(_0x45863c,_0x288d5f)=>{const _0x19f029=_0x26e31b,_0x2470f3=a8_0x4c4957[_0x19f029(0x16e)](_0x45863c,_0x288d5f),_0x4423c2=a8_0x2df1c6['randomUUID']();if(_0x2470f3===null)return;this[_0x19f029(0x172)][_0x4423c2]=_0x2470f3,_0x2470f3['on']('handshake',_0x4ff783=>{const _0x325b1f=_0x19f029;this[_0x325b1f(0x160)](_0x325b1f(0x168),[_0x4423c2,_0x2470f3,_0x4ff783]);}),_0x2470f3['on']('close',()=>{const _0x302ff8=_0x19f029;delete this[_0x302ff8(0x172)][_0x4423c2];});});}['on'](_0x43723c,_0x5271f1){const _0x2d0897=a8_0x398801;if(this['handlers'][_0x43723c]==undefined)this[_0x2d0897(0x165)][_0x43723c]=[];this[_0x2d0897(0x165)][_0x43723c][_0x2d0897(0x16b)](_0x5271f1);}[a8_0x398801(0x16f)](_0x252d9f,_0x4e2bc0){const _0x16620c=a8_0x398801;if(_0x4e2bc0==undefined){this[_0x16620c(0x165)][_0x252d9f]=[];return;}const _0x512b8d=this[_0x16620c(0x165)][_0x252d9f],_0xb5bd5d=(_0x512b8d!==null&&_0x512b8d!==void 0x0?_0x512b8d:[])['findIndex'](_0x115a8c=>_0x115a8c===_0x4e2bc0);if(_0xb5bd5d===-0x1)throw new Error(_0x16620c(0x167)+_0x252d9f+'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found');_0x512b8d[_0x16620c(0x164)](_0xb5bd5d,0x1);}[a8_0x398801(0x160)](_0xf6a4cd,[_0x52a6e2,_0x1cba93,_0x22ed78]){const _0x969a69=a8_0x398801;var _0x1d0b60;const _0x28cd19=(_0x1d0b60=this['handlers'][_0xf6a4cd])!==null&&_0x1d0b60!==void 0x0?_0x1d0b60:[];for(const _0x3f5c8d of _0x28cd19){_0x3f5c8d[_0x969a69(0x163)](undefined,...[_0x52a6e2,_0x1cba93,_0x22ed78]);}}}