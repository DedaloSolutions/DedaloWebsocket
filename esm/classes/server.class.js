const a8_0x4162fc=a8_0x5b2a;(function(_0x558b45,_0x297f62){const _0x5f3828=a8_0x5b2a,_0x10b116=_0x558b45();while(!![]){try{const _0x274f4c=parseInt(_0x5f3828(0x17b))/0x1+parseInt(_0x5f3828(0x179))/0x2*(-parseInt(_0x5f3828(0x177))/0x3)+parseInt(_0x5f3828(0x180))/0x4+-parseInt(_0x5f3828(0x188))/0x5+-parseInt(_0x5f3828(0x187))/0x6+-parseInt(_0x5f3828(0x17c))/0x7*(parseInt(_0x5f3828(0x185))/0x8)+parseInt(_0x5f3828(0x17f))/0x9;if(_0x274f4c===_0x297f62)break;else _0x10b116['push'](_0x10b116['shift']());}catch(_0x3115f1){_0x10b116['push'](_0x10b116['shift']());}}}(a8_0x15e1,0x22e82));function a8_0x15e1(){const _0x331335=['splice','call','201KMfVRd','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','6308OgwcpQ','listen','87211xpUfOt','8239FBBldx','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','randomUUID','4118778RUenQT','167900UidmUa','sockets','handlers','off','upgrade','8nTDOVM','push','478764ilEcwR','757805IyuZLY','close','raise'];a8_0x15e1=function(){return _0x331335;};return a8_0x15e1();}import a8_0x199792 from'crypto';function a8_0x5b2a(_0x5a8e81,_0x34ecb9){const _0x15e1e9=a8_0x15e1();return a8_0x5b2a=function(_0x5b2a5d,_0x526e53){_0x5b2a5d=_0x5b2a5d-0x175;let _0x5b7eb3=_0x15e1e9[_0x5b2a5d];return _0x5b7eb3;},a8_0x5b2a(_0x5a8e81,_0x34ecb9);}import a8_0x17d6fa from'./socket.class';export default class Server{constructor(){const _0x43727f=a8_0x5b2a;this[_0x43727f(0x181)]={},this[_0x43727f(0x182)]={};}[a8_0x4162fc(0x17a)](_0x4d38a5){const _0x104488=a8_0x4162fc;_0x4d38a5['on'](_0x104488(0x184),(_0xdfe9bf,_0x235b48)=>{const _0x2ffff7=_0x104488,_0x1873b2=a8_0x17d6fa['fromUpgradeRequest'](_0xdfe9bf,_0x235b48),_0x5a005e=a8_0x199792[_0x2ffff7(0x17e)]();if(_0x1873b2===null)return;this[_0x2ffff7(0x181)][_0x5a005e]=_0x1873b2,_0x1873b2['on']('handshake',_0x281700=>{const _0x18f8ce=_0x2ffff7;this[_0x18f8ce(0x18a)]('connection',[_0x5a005e,_0x1873b2,_0x281700]);}),_0x1873b2['on'](_0x2ffff7(0x189),()=>{const _0x2bd802=_0x2ffff7;delete this[_0x2bd802(0x181)][_0x5a005e];});});}['on'](_0xa27a7a,_0x5b222a){const _0x36d275=a8_0x4162fc;if(this['handlers'][_0xa27a7a]==undefined)this['handlers'][_0xa27a7a]=[];this[_0x36d275(0x182)][_0xa27a7a][_0x36d275(0x186)](_0x5b222a);}[a8_0x4162fc(0x183)](_0x5e40b7,_0x9afa3d){const _0x13e756=a8_0x4162fc;if(_0x9afa3d==undefined){this[_0x13e756(0x182)][_0x5e40b7]=[];return;}const _0x4d86ba=this[_0x13e756(0x182)][_0x5e40b7],_0x59de39=(_0x4d86ba!==null&&_0x4d86ba!==void 0x0?_0x4d86ba:[])['findIndex'](_0x249d29=>_0x249d29===_0x9afa3d);if(_0x59de39===-0x1)throw new Error(_0x13e756(0x17d)+_0x5e40b7+_0x13e756(0x178));_0x4d86ba[_0x13e756(0x175)](_0x59de39,0x1);}['raise'](_0x527b8e,[_0x87a0b0,_0x58afc2,_0x1470a3]){const _0x5408c1=a8_0x4162fc;var _0x2cc5de;const _0x11406f=(_0x2cc5de=this[_0x5408c1(0x182)][_0x527b8e])!==null&&_0x2cc5de!==void 0x0?_0x2cc5de:[];for(const _0x2b8447 of _0x11406f){_0x2b8447[_0x5408c1(0x176)](undefined,...[_0x87a0b0,_0x58afc2,_0x1470a3]);}}}