const a9_0x335faa=a9_0x2233;(function(_0x51e1f5,_0x4678e7){const _0x2d8e8f=a9_0x2233,_0x340204=_0x51e1f5();while(!![]){try{const _0x3901df=-parseInt(_0x2d8e8f(0x1f8))/0x1*(parseInt(_0x2d8e8f(0x1ed))/0x2)+parseInt(_0x2d8e8f(0x1f7))/0x3+-parseInt(_0x2d8e8f(0x1f4))/0x4*(-parseInt(_0x2d8e8f(0x1e7))/0x5)+-parseInt(_0x2d8e8f(0x1f1))/0x6*(parseInt(_0x2d8e8f(0x1fe))/0x7)+-parseInt(_0x2d8e8f(0x1f9))/0x8*(parseInt(_0x2d8e8f(0x1ec))/0x9)+-parseInt(_0x2d8e8f(0x1ea))/0xa*(-parseInt(_0x2d8e8f(0x1f5))/0xb)+parseInt(_0x2d8e8f(0x1e9))/0xc*(parseInt(_0x2d8e8f(0x1f6))/0xd);if(_0x3901df===_0x4678e7)break;else _0x340204['push'](_0x340204['shift']());}catch(_0x25aa3e){_0x340204['push'](_0x340204['shift']());}}}(a9_0x4991,0x70be9));import a9_0xa9eba1 from'crypto';import a9_0x495ed5 from'./socket.class';function a9_0x2233(_0x4b4567,_0x3b1385){const _0x49911e=a9_0x4991();return a9_0x2233=function(_0x223378,_0x1e679a){_0x223378=_0x223378-0x1e7;let _0x531e5c=_0x49911e[_0x223378];return _0x531e5c;},a9_0x2233(_0x4b4567,_0x3b1385);}function a9_0x4991(){const _0x286a0f=['sockets','30oxImPS','connection','raise','96wsQtwH','133045exBKkR','13CiujAA','2271456iIoSSf','2AsPoVD','952TQxQOQ','fromUpgradeRequest','randomUUID','handshake','handlers','976409rnxKrP','70065uUnWUi','splice','10551012aLcsCe','380ysIeam','call','52929PRZgIQ','573250INVUxO','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','listen'];a9_0x4991=function(){return _0x286a0f;};return a9_0x4991();}export default class Server{constructor(){const _0x4670fd=a9_0x2233;this['sockets']={},this[_0x4670fd(0x1fd)]={};}[a9_0x335faa(0x1ef)](_0x4371c4){_0x4371c4['on']('upgrade',(_0x3eb0e9,_0x368f3b)=>{const _0x2bc109=a9_0x2233,_0x1d6f88=a9_0x495ed5[_0x2bc109(0x1fa)](_0x3eb0e9,_0x368f3b),_0x65fc44=a9_0xa9eba1[_0x2bc109(0x1fb)]();if(_0x1d6f88===null)return;this[_0x2bc109(0x1f0)][_0x65fc44]=_0x1d6f88,_0x1d6f88['on'](_0x2bc109(0x1fc),_0x280ca8=>{const _0x2c9555=_0x2bc109;this['raise'](_0x2c9555(0x1f2),[_0x65fc44,_0x1d6f88,_0x280ca8]);}),_0x1d6f88['on']('close',()=>{delete this['sockets'][_0x65fc44];});});}['on'](_0x31f8c5,_0x421a4f){const _0x33aa0f=a9_0x335faa;if(this[_0x33aa0f(0x1fd)][_0x31f8c5]==undefined)this[_0x33aa0f(0x1fd)][_0x31f8c5]=[];this[_0x33aa0f(0x1fd)][_0x31f8c5]['push'](_0x421a4f);}['off'](_0x4e5850,_0x47605a){const _0x2df007=a9_0x335faa;if(_0x47605a==undefined){this[_0x2df007(0x1fd)][_0x4e5850]=[];return;}const _0xc0467e=this[_0x2df007(0x1fd)][_0x4e5850],_0x1de1ba=(_0xc0467e!==null&&_0xc0467e!==void 0x0?_0xc0467e:[])['findIndex'](_0x1a2c15=>_0x1a2c15===_0x47605a);if(_0x1de1ba===-0x1)throw new Error(_0x2df007(0x1ee)+_0x4e5850+'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found');_0xc0467e[_0x2df007(0x1e8)](_0x1de1ba,0x1);}[a9_0x335faa(0x1f3)](_0x52e1bc,[_0x4c1cbe,_0x3debfa,_0x3effb9]){const _0x4ebe8c=a9_0x335faa;var _0x345035;const _0x354b93=(_0x345035=this['handlers'][_0x52e1bc])!==null&&_0x345035!==void 0x0?_0x345035:[];for(const _0x4c20f7 of _0x354b93){_0x4c20f7[_0x4ebe8c(0x1eb)](undefined,...[_0x4c1cbe,_0x3debfa,_0x3effb9]);}}}