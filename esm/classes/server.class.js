const a9_0x49bb17=a9_0x1143;(function(_0x5182c8,_0x18f72d){const _0x5ab6c3=a9_0x1143,_0x13431f=_0x5182c8();while(!![]){try{const _0x33aef3=-parseInt(_0x5ab6c3(0x1b2))/0x1+parseInt(_0x5ab6c3(0x1af))/0x2*(-parseInt(_0x5ab6c3(0x1b6))/0x3)+parseInt(_0x5ab6c3(0x1a8))/0x4*(parseInt(_0x5ab6c3(0x1ac))/0x5)+parseInt(_0x5ab6c3(0x1aa))/0x6+parseInt(_0x5ab6c3(0x1a5))/0x7*(-parseInt(_0x5ab6c3(0x1a4))/0x8)+parseInt(_0x5ab6c3(0x1b0))/0x9*(-parseInt(_0x5ab6c3(0x1a1))/0xa)+-parseInt(_0x5ab6c3(0x1ae))/0xb*(-parseInt(_0x5ab6c3(0x19f))/0xc);if(_0x33aef3===_0x18f72d)break;else _0x13431f['push'](_0x13431f['shift']());}catch(_0x331303){_0x13431f['push'](_0x13431f['shift']());}}}(a9_0x209e,0x8d233));import a9_0x37ac26 from'crypto';function a9_0x1143(_0x564e99,_0x1fb089){const _0x209ec6=a9_0x209e();return a9_0x1143=function(_0x114340,_0x58abf9){_0x114340=_0x114340-0x19f;let _0x144528=_0x209ec6[_0x114340];return _0x144528;},a9_0x1143(_0x564e99,_0x1fb089);}function a9_0x209e(){const _0x5f0ccd=['call','5MHdOoA','splice','1716LQKQun','1942778ZHYyAI','144hjSVMN','sockets','146512tesNBz','raise','listen','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','3pCoIaf','207492PNVofk','handlers','60820pePecK','off','randomUUID','8LNXaLv','6883240NRKQHH','connection','upgrade','17036fEnMxW','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','449862mIpjHJ'];a9_0x209e=function(){return _0x5f0ccd;};return a9_0x209e();}import a9_0x5634ec from'./socket.class';export default class Server{constructor(){const _0x1c3e5a=a9_0x1143;this['sockets']={},this[_0x1c3e5a(0x1a0)]={};}[a9_0x49bb17(0x1b4)](_0x5c05f4){const _0x1e024c=a9_0x49bb17;_0x5c05f4['on'](_0x1e024c(0x1a7),(_0x4aedb6,_0x42e457)=>{const _0x358c20=_0x1e024c,_0x547dd7=a9_0x5634ec['fromUpgradeRequest'](_0x4aedb6,_0x42e457),_0x105979=a9_0x37ac26[_0x358c20(0x1a3)]();if(_0x547dd7===null)return;this[_0x358c20(0x1b1)][_0x105979]=_0x547dd7,_0x547dd7['on']('handshake',_0x534833=>{const _0x257af4=_0x358c20;this[_0x257af4(0x1b3)](_0x257af4(0x1a6),[_0x105979,_0x547dd7,_0x534833]);}),_0x547dd7['on']('close',()=>{delete this['sockets'][_0x105979];});});}['on'](_0x54f332,_0x3560dc){const _0x32bf55=a9_0x49bb17;if(this[_0x32bf55(0x1a0)][_0x54f332]==undefined)this[_0x32bf55(0x1a0)][_0x54f332]=[];this[_0x32bf55(0x1a0)][_0x54f332]['push'](_0x3560dc);}[a9_0x49bb17(0x1a2)](_0x2c38fb,_0x34e02e){const _0x198241=a9_0x49bb17;if(_0x34e02e==undefined){this[_0x198241(0x1a0)][_0x2c38fb]=[];return;}const _0x17d7c8=this[_0x198241(0x1a0)][_0x2c38fb],_0x57f202=(_0x17d7c8!==null&&_0x17d7c8!==void 0x0?_0x17d7c8:[])['findIndex'](_0x59a92d=>_0x59a92d===_0x34e02e);if(_0x57f202===-0x1)throw new Error(_0x198241(0x1b5)+_0x2c38fb+_0x198241(0x1a9));_0x17d7c8[_0x198241(0x1ad)](_0x57f202,0x1);}[a9_0x49bb17(0x1b3)](_0x1d951c,[_0x380ba0,_0x2a8463,_0x2bee64]){const _0x99aac0=a9_0x49bb17;var _0x4ca984;const _0x5a427e=(_0x4ca984=this['handlers'][_0x1d951c])!==null&&_0x4ca984!==void 0x0?_0x4ca984:[];for(const _0x596343 of _0x5a427e){_0x596343[_0x99aac0(0x1ab)](undefined,...[_0x380ba0,_0x2a8463,_0x2bee64]);}}}