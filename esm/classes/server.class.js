const a8_0x120973=a8_0x1064;(function(_0x261155,_0xbee05){const _0x5f1f13=a8_0x1064,_0x352c90=_0x261155();while(!![]){try{const _0x3659eb=parseInt(_0x5f1f13(0x100))/0x1*(parseInt(_0x5f1f13(0xfc))/0x2)+parseInt(_0x5f1f13(0xfa))/0x3+parseInt(_0x5f1f13(0xf6))/0x4+parseInt(_0x5f1f13(0xfe))/0x5*(parseInt(_0x5f1f13(0x102))/0x6)+parseInt(_0x5f1f13(0x106))/0x7+-parseInt(_0x5f1f13(0xf8))/0x8*(parseInt(_0x5f1f13(0x10c))/0x9)+-parseInt(_0x5f1f13(0xff))/0xa;if(_0x3659eb===_0xbee05)break;else _0x352c90['push'](_0x352c90['shift']());}catch(_0x56ab88){_0x352c90['push'](_0x352c90['shift']());}}}(a8_0x4f7b,0x402a3));import a8_0x1b4d85 from'crypto';import a8_0x5295f5 from'./socket.class';export default class Server{constructor(){const _0x54128f=a8_0x1064;this[_0x54128f(0x104)]={},this[_0x54128f(0x109)]={};}[a8_0x120973(0xf9)](_0x4a2d69){const _0x415965=a8_0x120973;_0x4a2d69['on'](_0x415965(0xf7),(_0x4b1b3c,_0x2a83cf)=>{const _0x427f59=_0x415965,_0x5000b2=a8_0x5295f5[_0x427f59(0xf5)](_0x4b1b3c,_0x2a83cf),_0x149553=a8_0x1b4d85[_0x427f59(0x10a)]();if(_0x5000b2===null)return;this[_0x427f59(0x104)][_0x149553]=_0x5000b2,_0x5000b2['on']('handshake',_0x28b25a=>{const _0x46c65c=_0x427f59;this[_0x46c65c(0x10b)](_0x46c65c(0x101),[_0x149553,_0x5000b2,_0x28b25a]);}),_0x5000b2['on'](_0x427f59(0x107),()=>{delete this['sockets'][_0x149553];});});}['on'](_0x5352d2,_0x2215d1){const _0x4860cb=a8_0x120973;if(this[_0x4860cb(0x109)][_0x5352d2]==undefined)this['handlers'][_0x5352d2]=[];this[_0x4860cb(0x109)][_0x5352d2]['push'](_0x2215d1);}[a8_0x120973(0x105)](_0x4b9baa,_0x355421){const _0x165829=a8_0x120973;if(_0x355421==undefined){this[_0x165829(0x109)][_0x4b9baa]=[];return;}const _0x9e52fa=this[_0x165829(0x109)][_0x4b9baa],_0x38f5db=(_0x9e52fa!==null&&_0x9e52fa!==void 0x0?_0x9e52fa:[])[_0x165829(0x108)](_0x50ca2b=>_0x50ca2b===_0x355421);if(_0x38f5db===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x4b9baa+_0x165829(0x103));_0x9e52fa[_0x165829(0xfd)](_0x38f5db,0x1);}[a8_0x120973(0x10b)](_0x21e4b1,[_0x45d66c,_0x215202,_0x328d5f]){const _0x322d14=a8_0x120973;var _0x17f810;const _0x15af61=(_0x17f810=this[_0x322d14(0x109)][_0x21e4b1])!==null&&_0x17f810!==void 0x0?_0x17f810:[];for(const _0x49d3f7 of _0x15af61){_0x49d3f7[_0x322d14(0xfb)](undefined,...[_0x45d66c,_0x215202,_0x328d5f]);}}}function a8_0x1064(_0x243155,_0x4cbf51){const _0x4f7bcf=a8_0x4f7b();return a8_0x1064=function(_0x10640f,_0x438c55){_0x10640f=_0x10640f-0xf5;let _0x27cc3e=_0x4f7bcf[_0x10640f];return _0x27cc3e;},a8_0x1064(_0x243155,_0x4cbf51);}function a8_0x4f7b(){const _0x598a6e=['upgrade','416GKuSfD','listen','983202wCPlLa','call','622PqqxHw','splice','5vigDIJ','10929960eszfoV','1155tAdFOz','connection','1719732bmlUMm','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','sockets','off','1647513NlDlCU','close','findIndex','handlers','randomUUID','raise','53226ENSfrg','fromUpgradeRequest','1817692FVySmr'];a8_0x4f7b=function(){return _0x598a6e;};return a8_0x4f7b();}