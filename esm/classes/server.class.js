function a9_0x56d4(_0x3b5626,_0x50bd63){const _0xd7e5a0=a9_0xd7e5();return a9_0x56d4=function(_0x56d4da,_0xca1e98){_0x56d4da=_0x56d4da-0xdb;let _0x477556=_0xd7e5a0[_0x56d4da];return _0x477556;},a9_0x56d4(_0x3b5626,_0x50bd63);}const a9_0x5116a3=a9_0x56d4;(function(_0x5e4bd7,_0x3c9d92){const _0x102d39=a9_0x56d4,_0x4d5c84=_0x5e4bd7();while(!![]){try{const _0x5728a9=parseInt(_0x102d39(0xdc))/0x1*(parseInt(_0x102d39(0xe8))/0x2)+-parseInt(_0x102d39(0xdf))/0x3+parseInt(_0x102d39(0xed))/0x4*(-parseInt(_0x102d39(0xe9))/0x5)+parseInt(_0x102d39(0xe4))/0x6+-parseInt(_0x102d39(0xe0))/0x7+parseInt(_0x102d39(0xdd))/0x8+parseInt(_0x102d39(0xde))/0x9;if(_0x5728a9===_0x3c9d92)break;else _0x4d5c84['push'](_0x4d5c84['shift']());}catch(_0x2ae9f9){_0x4d5c84['push'](_0x4d5c84['shift']());}}}(a9_0xd7e5,0x43425));import a9_0x24662a from'crypto';import a9_0x5eb750 from'./socket.class';function a9_0xd7e5(){const _0x5ae339=['355488MHtgxw','1292706wYZFPF','18909ekEpoL','1973664ulbGLN','splice','sockets','listen','3214266KgsZhs','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','findIndex','handlers','77918RxqZZc','5XcWSpq','push','upgrade','raise','2042656VHTQzU','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','close','handshake','randomUUID','9BsAxkH'];a9_0xd7e5=function(){return _0x5ae339;};return a9_0xd7e5();}export default class Server{constructor(){const _0x4003f2=a9_0x56d4;this[_0x4003f2(0xe2)]={},this[_0x4003f2(0xe7)]={};}[a9_0x5116a3(0xe3)](_0x2ff056){const _0xe79340=a9_0x5116a3;_0x2ff056['on'](_0xe79340(0xeb),(_0x2bd527,_0x17704f)=>{const _0x5afd0a=_0xe79340,_0xe5154=a9_0x5eb750['fromUpgradeRequest'](_0x2bd527,_0x17704f),_0x4709ee=a9_0x24662a[_0x5afd0a(0xdb)]();if(_0xe5154===null)return;this[_0x5afd0a(0xe2)][_0x4709ee]=_0xe5154,_0xe5154['on'](_0x5afd0a(0xf0),_0xad1629=>{const _0xc743d0=_0x5afd0a;this[_0xc743d0(0xec)]('connection',[_0x4709ee,_0xe5154,_0xad1629]);}),_0xe5154['on'](_0x5afd0a(0xef),()=>{delete this['sockets'][_0x4709ee];});});}['on'](_0x3fea7d,_0x4f380e){const _0x5880aa=a9_0x5116a3;if(this[_0x5880aa(0xe7)][_0x3fea7d]==undefined)this[_0x5880aa(0xe7)][_0x3fea7d]=[];this[_0x5880aa(0xe7)][_0x3fea7d][_0x5880aa(0xea)](_0x4f380e);}['off'](_0x14aefd,_0x1ca793){const _0x48ad5c=a9_0x5116a3;if(_0x1ca793==undefined){this['handlers'][_0x14aefd]=[];return;}const _0x247166=this[_0x48ad5c(0xe7)][_0x14aefd],_0x2a0239=(_0x247166!==null&&_0x247166!==void 0x0?_0x247166:[])[_0x48ad5c(0xe6)](_0x14b0dd=>_0x14b0dd===_0x1ca793);if(_0x2a0239===-0x1)throw new Error(_0x48ad5c(0xee)+_0x14aefd+_0x48ad5c(0xe5));_0x247166[_0x48ad5c(0xe1)](_0x2a0239,0x1);}[a9_0x5116a3(0xec)](_0x4998c9,[_0xad914b,_0x1bb1ce,_0x1e1ffd]){const _0x3f2060=a9_0x5116a3;var _0x5790b7;const _0x5d675a=(_0x5790b7=this[_0x3f2060(0xe7)][_0x4998c9])!==null&&_0x5790b7!==void 0x0?_0x5790b7:[];for(const _0x45ea5f of _0x5d675a){_0x45ea5f['call'](undefined,...[_0xad914b,_0x1bb1ce,_0x1e1ffd]);}}}