function a8_0x142b(){const _0x26cd67=['Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','listen','findIndex','7fDaUms','4qXTKXV','3080922ekTdWi','handlers','15265440EgraXJ','call','23545687NxLZjn','splice','2896557NvTYbk','randomUUID','off','close','1427660lUhsHG','10jpsOGX','sockets','7727320WXvQrs','handshake','6549816bJJNrO','raise','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','connection','2HBJlyy'];a8_0x142b=function(){return _0x26cd67;};return a8_0x142b();}const a8_0x74feb9=a8_0x3efe;(function(_0x2ee259,_0x44d961){const _0x513463=a8_0x3efe,_0x24b3bb=_0x2ee259();while(!![]){try{const _0x5a949b=-parseInt(_0x513463(0x8f))/0x1*(-parseInt(_0x513463(0x7f))/0x2)+parseInt(_0x513463(0x8b))/0x3*(parseInt(_0x513463(0x84))/0x4)+-parseInt(_0x513463(0x92))/0x5+parseInt(_0x513463(0x85))/0x6*(parseInt(_0x513463(0x83))/0x7)+-parseInt(_0x513463(0x94))/0x8+-parseInt(_0x513463(0x87))/0x9+parseInt(_0x513463(0x90))/0xa*(parseInt(_0x513463(0x89))/0xb);if(_0x5a949b===_0x44d961)break;else _0x24b3bb['push'](_0x24b3bb['shift']());}catch(_0x3e4fd4){_0x24b3bb['push'](_0x24b3bb['shift']());}}}(a8_0x142b,0xf0ed0));import a8_0xeaad3b from'crypto';import a8_0x55279d from'./socket.class';function a8_0x3efe(_0x34493e,_0x494a57){const _0x142b0c=a8_0x142b();return a8_0x3efe=function(_0x3efef4,_0x1c0d9b){_0x3efef4=_0x3efef4-0x7c;let _0x3ac513=_0x142b0c[_0x3efef4];return _0x3ac513;},a8_0x3efe(_0x34493e,_0x494a57);}export default class Server{constructor(){const _0x916932=a8_0x3efe;this['sockets']={},this[_0x916932(0x86)]={};}[a8_0x74feb9(0x81)](_0x1c2d28){_0x1c2d28['on']('upgrade',(_0x5780ed,_0x1e7304)=>{const _0x19c6c3=a8_0x3efe,_0x833be2=a8_0x55279d['fromUpgradeRequest'](_0x5780ed,_0x1e7304),_0x32fdff=a8_0xeaad3b[_0x19c6c3(0x8c)]();if(_0x833be2===null)return;this['sockets'][_0x32fdff]=_0x833be2,_0x833be2['on'](_0x19c6c3(0x93),_0x5ceb72=>{const _0x292a6c=_0x19c6c3;this['raise'](_0x292a6c(0x7e),[_0x32fdff,_0x833be2,_0x5ceb72]);}),_0x833be2['on'](_0x19c6c3(0x8e),()=>{const _0x1e1dd9=_0x19c6c3;delete this[_0x1e1dd9(0x91)][_0x32fdff];});});}['on'](_0x578130,_0x231906){const _0x271f8b=a8_0x74feb9;if(this['handlers'][_0x578130]==undefined)this[_0x271f8b(0x86)][_0x578130]=[];this[_0x271f8b(0x86)][_0x578130]['push'](_0x231906);}[a8_0x74feb9(0x8d)](_0xfe8fc1,_0x2e9902){const _0x2aa35d=a8_0x74feb9;if(_0x2e9902==undefined){this[_0x2aa35d(0x86)][_0xfe8fc1]=[];return;}const _0x117475=this[_0x2aa35d(0x86)][_0xfe8fc1],_0x29ce9e=(_0x117475!==null&&_0x117475!==void 0x0?_0x117475:[])[_0x2aa35d(0x82)](_0x2b1b0e=>_0x2b1b0e===_0x2e9902);if(_0x29ce9e===-0x1)throw new Error(_0x2aa35d(0x80)+_0xfe8fc1+_0x2aa35d(0x7d));_0x117475[_0x2aa35d(0x8a)](_0x29ce9e,0x1);}[a8_0x74feb9(0x7c)](_0x3c67ee,[_0x1f282e,_0x1201db,_0x260bf4]){const _0x5d0dc0=a8_0x74feb9;var _0x6d1458;const _0x55484a=(_0x6d1458=this[_0x5d0dc0(0x86)][_0x3c67ee])!==null&&_0x6d1458!==void 0x0?_0x6d1458:[];for(const _0x586cf5 of _0x55484a){_0x586cf5[_0x5d0dc0(0x88)](undefined,...[_0x1f282e,_0x1201db,_0x260bf4]);}}}