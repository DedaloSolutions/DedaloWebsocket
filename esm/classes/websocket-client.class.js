function a5_0x4ec9(_0x55f22e,_0x33a34a){const _0xb0d1e5=a5_0xb0d1();return a5_0x4ec9=function(_0x4ec9e2,_0x136123){_0x4ec9e2=_0x4ec9e2-0xa5;let _0x222f5c=_0xb0d1e5[_0x4ec9e2];return _0x222f5c;},a5_0x4ec9(_0x55f22e,_0x33a34a);}const a5_0x42312e=a5_0x4ec9;(function(_0x8a7c7e,_0x39787a){const _0x23dbf2=a5_0x4ec9,_0x4383b4=_0x8a7c7e();while(!![]){try{const _0x17f0b7=-parseInt(_0x23dbf2(0xeb))/0x1+-parseInt(_0x23dbf2(0xd5))/0x2+-parseInt(_0x23dbf2(0xe7))/0x3*(-parseInt(_0x23dbf2(0xaa))/0x4)+-parseInt(_0x23dbf2(0xa9))/0x5*(parseInt(_0x23dbf2(0xd1))/0x6)+-parseInt(_0x23dbf2(0xbe))/0x7+parseInt(_0x23dbf2(0xd6))/0x8+parseInt(_0x23dbf2(0xb8))/0x9;if(_0x17f0b7===_0x39787a)break;else _0x4383b4['push'](_0x4383b4['shift']());}catch(_0x17f034){_0x4383b4['push'](_0x4383b4['shift']());}}}(a5_0xb0d1,0x82b44));var __awaiter=this&&this[a5_0x42312e(0xab)]||function(_0x3db731,_0x26c72f,_0x5ccf05,_0x75ddc4){function _0x43da6b(_0x14985b){return _0x14985b instanceof _0x5ccf05?_0x14985b:new _0x5ccf05(function(_0x5220fc){_0x5220fc(_0x14985b);});}return new(_0x5ccf05||(_0x5ccf05=Promise))(function(_0x4be909,_0x2e4328){const _0x36a35a=a5_0x4ec9;function _0x2ea8cf(_0x41426a){try{_0x1618f9(_0x75ddc4['next'](_0x41426a));}catch(_0x380b90){_0x2e4328(_0x380b90);}}function _0x4e709f(_0x5a081b){const _0x18307b=a5_0x4ec9;try{_0x1618f9(_0x75ddc4[_0x18307b(0xb6)](_0x5a081b));}catch(_0x370069){_0x2e4328(_0x370069);}}function _0x1618f9(_0x1a3add){const _0x11a032=a5_0x4ec9;_0x1a3add[_0x11a032(0xea)]?_0x4be909(_0x1a3add[_0x11a032(0xd3)]):_0x43da6b(_0x1a3add[_0x11a032(0xd3)])[_0x11a032(0xbd)](_0x2ea8cf,_0x4e709f);}_0x1618f9((_0x75ddc4=_0x75ddc4[_0x36a35a(0xdc)](_0x3db731,_0x26c72f||[]))[_0x36a35a(0xef)]());});};function a5_0xb0d1(){const _0x5d2be1=['alloc','1141442afrDjh','4912712WdCmNT','from','toString','OPEN','pendingRequests','raise','apply','open','socket','close','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','handshakeStatus','CLOSING','CLOSED','closing','addEventListener','message','9EIJDNL','requestId','send','done','759222QuYiqN','reconnectTimeout','connect','ping','next','parse','removeAllListeners','error','No\x20url\x20specified','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','closed','30145mLghqG','628012NSzsZy','__awaiter','handshakeData','The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','slice','handle','decode','off','concat','push','sent-info','findIndex','throw','length','23898384DLTIlJ','readyState','url','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','Timeout','then','7302155chNKzg','isArray','status','heartbeatInterval','heartbeatTimeout','handlers','stringify','waiting','completed','CONNECTING','removeEventListener','encode','checkHeartbeat','call','handshake','utf-8','includes','splice','emit','828CGnXkl','pong','value'];a5_0xb0d1=function(){return _0x5d2be1;};return a5_0xb0d1();}import a5_0x7be4a6 from'ws';export default class WebsocketClient{constructor(){const _0x35f296=a5_0x42312e;this[_0x35f296(0xc1)]=0x5*0x3e8+0x1f4,this[_0x35f296(0xec)]=null,this[_0x35f296(0xe1)]=_0x35f296(0xc5),this[_0x35f296(0xe8)]=0x1,this[_0x35f296(0xda)]={},this['handlers']={},this['checkHeartbeat']=()=>{const _0x350845=_0x35f296;if(this[_0x350845(0xc2)]!=undefined)clearTimeout(this[_0x350845(0xc2)]);this[_0x350845(0xc2)]=setTimeout(()=>{const _0x2b12db=_0x350845;var _0xad6f02;if(this['socket']!=undefined&&this['socket'][_0x2b12db(0xb9)]!==a5_0x7be4a6['OPEN'])return;(_0xad6f02=this[_0x2b12db(0xde)])===null||_0xad6f02===void 0x0?void 0x0:_0xad6f02['close']();},this[_0x350845(0xc1)]);};}[a5_0x42312e(0xed)](){return __awaiter(this,arguments,void 0x0,function*({url:_0xbb50cf,allowReject:_0x284ee2,handshakeData:_0x1cab4c,reconnectTimeout:_0x4af136}={}){return new Promise((_0x566b20,_0x53793a)=>{const _0x496a61=a5_0x4ec9;if(this['socket']!=undefined&&this[_0x496a61(0xde)][_0x496a61(0xb9)]===a5_0x7be4a6[_0x496a61(0xd9)]){if(_0x284ee2!==!![])_0x53793a(new Error('The\x20websocket\x20is\x20already\x20connected'));else _0x566b20();}this[_0x496a61(0xde)]!=undefined&&(this[_0x496a61(0xde)][_0x496a61(0xf1)](),this['socket'][_0x496a61(0xb1)](_0x496a61(0xee),this[_0x496a61(0xca)]),this[_0x496a61(0xe1)]=_0x496a61(0xc5));if(this['url']==undefined&&_0xbb50cf==undefined)_0x53793a(new Error(_0x496a61(0xa6)));this[_0x496a61(0xba)]=_0xbb50cf||this[_0x496a61(0xba)];if(_0x4af136!==undefined)this[_0x496a61(0xec)]=_0x4af136;if(_0x1cab4c!==undefined)this['handshakeData']=_0x1cab4c;this[_0x496a61(0xde)]=new a5_0x7be4a6(this['url']),this[_0x496a61(0xde)][_0x496a61(0xe5)](_0x496a61(0xdd),this[_0x496a61(0xca)]),this[_0x496a61(0xde)]['addEventListener'](_0x496a61(0xe6),this[_0x496a61(0xca)]),this[_0x496a61(0xde)]['on'](_0x496a61(0xee),_0x2be3f3=>{const _0x2f380d=_0x496a61;var _0x10cdf0;(_0x10cdf0=this[_0x2f380d(0xde)])===null||_0x10cdf0===void 0x0?void 0x0:_0x10cdf0[_0x2f380d(0xd2)](_0x2be3f3),this[_0x2f380d(0xca)]();}),this[_0x496a61(0xde)][_0x496a61(0xe5)]('close',()=>{const _0x5b7764=_0x496a61;if(this[_0x5b7764(0xc2)]!=undefined)clearTimeout(this[_0x5b7764(0xc2)]);});if(this[_0x496a61(0xec)]!=undefined)this['socket']['addEventListener'](_0x496a61(0xdf),()=>{const _0x16563c=_0x496a61;setTimeout(()=>this[_0x16563c(0xed)](),this[_0x16563c(0xec)]);});this[_0x496a61(0xde)][_0x496a61(0xe5)](_0x496a61(0xe6),_0x577ea5=>this[_0x496a61(0xaf)](_0x577ea5)),this[_0x496a61(0xde)][_0x496a61(0xe5)](_0x496a61(0xdd),_0x17c85e=>this[_0x496a61(0xdb)](_0x496a61(0xdd),_0x17c85e)),this['socket'][_0x496a61(0xe5)](_0x496a61(0xa5),_0x22367c=>this[_0x496a61(0xdb)](_0x496a61(0xa5),_0x22367c)),this[_0x496a61(0xde)]['addEventListener']('close',_0x47c2f6=>this[_0x496a61(0xdb)](_0x496a61(0xdf),_0x47c2f6));const _0x1b93c4=()=>{_0x566b20(),_0x503f9f();},_0x453a91=_0x156f32=>{_0x284ee2?_0x53793a(_0x156f32):_0x566b20(),_0x503f9f();};this['socket'][_0x496a61(0xe5)](_0x496a61(0xdd),_0x1b93c4,{'once':!![]}),this[_0x496a61(0xde)]['addEventListener']('error',_0x453a91,{'once':!![]});const _0x503f9f=()=>{const _0x12933f=_0x496a61;var _0xaf1d41,_0x7258e7;(_0xaf1d41=this[_0x12933f(0xde)])===null||_0xaf1d41===void 0x0?void 0x0:_0xaf1d41[_0x12933f(0xc8)](_0x12933f(0xdd),_0x1b93c4),(_0x7258e7=this[_0x12933f(0xde)])===null||_0x7258e7===void 0x0?void 0x0:_0x7258e7[_0x12933f(0xc8)]('error',_0x453a91);};});});}['disconnect'](_0x404381,_0x729749){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x201445,_0x17e670)=>{const _0x200b18=a5_0x4ec9;if(this['socket']==undefined||this[_0x200b18(0xde)][_0x200b18(0xb9)]===a5_0x7be4a6[_0x200b18(0xe2)]||this[_0x200b18(0xde)][_0x200b18(0xb9)]===a5_0x7be4a6[_0x200b18(0xe3)])return _0x17e670(new Error(_0x200b18(0xad)));this[_0x200b18(0xde)][_0x200b18(0xdf)](_0x404381,_0x729749);const _0x580dd4=()=>{_0x201445(),_0x219c2d();},_0x1c53c7=_0x3ece1c=>{_0x17e670(_0x3ece1c),_0x219c2d();};this[_0x200b18(0xde)][_0x200b18(0xe5)](_0x200b18(0xdf),_0x580dd4,{'once':!![]}),this[_0x200b18(0xde)][_0x200b18(0xe5)](_0x200b18(0xa5),_0x1c53c7,{'once':!![]});const _0x219c2d=()=>{const _0x15a2d4=_0x200b18;var _0x13555e,_0x497a71;(_0x13555e=this['socket'])===null||_0x13555e===void 0x0?void 0x0:_0x13555e[_0x15a2d4(0xc8)](_0x15a2d4(0xdf),_0x580dd4),(_0x497a71=this[_0x15a2d4(0xde)])===null||_0x497a71===void 0x0?void 0x0:_0x497a71[_0x15a2d4(0xc8)](_0x15a2d4(0xa5),_0x1c53c7);};});});}get[a5_0x42312e(0xc0)](){const _0x550ef2=a5_0x42312e;var _0x58bac9;switch((_0x58bac9=this[_0x550ef2(0xde)])===null||_0x58bac9===void 0x0?void 0x0:_0x58bac9['readyState']){case a5_0x7be4a6[_0x550ef2(0xc7)]:return'connecting';case a5_0x7be4a6[_0x550ef2(0xd9)]:return this[_0x550ef2(0xe1)]===_0x550ef2(0xc6)?_0x550ef2(0xdd):_0x550ef2(0xcc);case a5_0x7be4a6[_0x550ef2(0xe2)]:return _0x550ef2(0xe4);case a5_0x7be4a6['CLOSED']:default:return _0x550ef2(0xa8);}}[a5_0x42312e(0xd0)](_0x2447e1,_0x186219,_0x348758,_0x4206f8=0x5*0x3e8){const _0x278121=a5_0x42312e;if(this[_0x278121(0xde)]==undefined||this[_0x278121(0xc0)]!==_0x278121(0xdd))throw new Error('The\x20websocket\x20is\x20not\x20connected');if([_0x278121(0xcc),_0x278121(0xdd),_0x278121(0xa5),_0x278121(0xdf)][_0x278121(0xce)](_0x2447e1))throw new Error('Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error\x20or\x20close');const _0x31e0fa=_0x348758==undefined?0x0:this[_0x278121(0xe8)],_0x4186f5=Buffer['from'](_0x2447e1,_0x278121(0xcd));if(_0x4186f5[_0x278121(0xb7)]>0xff)throw new Error(_0x278121(0xa7));if(_0x348758!=undefined){this['requestId']=(this['requestId']+0x1)%0x80||0x1;const _0x1f26e9=setTimeout(()=>{const _0x206bcd=_0x278121;delete this['pendingRequests'][_0x31e0fa],_0x348758(new Error(_0x206bcd(0xbc)));},_0x4206f8);this[_0x278121(0xda)][_0x31e0fa]=_0x16f2e1=>{if(!(_0x16f2e1 instanceof Error))clearTimeout(_0x1f26e9);_0x348758(_0x16f2e1);};}const _0x11209c=Buffer['concat']([Buffer[_0x278121(0xd7)]([_0x31e0fa|0x80,_0x4186f5[_0x278121(0xb7)]]),_0x4186f5,this[_0x278121(0xc9)](_0x186219)]);this[_0x278121(0xde)][_0x278121(0xe9)](_0x11209c);}[a5_0x42312e(0xaf)]({data:_0x1d587e}){const _0xf2c3e1=a5_0x42312e;var _0x5a133a,_0x16c04b,_0x3f9e85;let _0xb9af31=Buffer[_0xf2c3e1(0xd4)](0x0);if(_0x1d587e instanceof Buffer)_0xb9af31=_0x1d587e;if(typeof _0x1d587e==='string')_0xb9af31=Buffer[_0xf2c3e1(0xd7)](_0x1d587e,_0xf2c3e1(0xcd));if(_0x1d587e instanceof ArrayBuffer)_0xb9af31=Buffer[_0xf2c3e1(0xd7)](_0x1d587e);if(Array[_0xf2c3e1(0xbf)](_0x1d587e))_0xb9af31=Buffer[_0xf2c3e1(0xb2)](_0x1d587e);if(this[_0xf2c3e1(0xe1)]===_0xf2c3e1(0xc5)){const {pingInterval:_0x4a862e}=this[_0xf2c3e1(0xb0)](_0xb9af31);this['heartbeatInterval']=_0x4a862e+0x1f4;const _0x5e33f4=this[_0xf2c3e1(0xc9)](this[_0xf2c3e1(0xac)]===undefined?null:this[_0xf2c3e1(0xac)]);(_0x5a133a=this[_0xf2c3e1(0xde)])===null||_0x5a133a===void 0x0?void 0x0:_0x5a133a[_0xf2c3e1(0xe9)](_0x5e33f4),this[_0xf2c3e1(0xe1)]='sent-info';return;}else{if(this[_0xf2c3e1(0xe1)]===_0xf2c3e1(0xb4)){this[_0xf2c3e1(0xe1)]=_0xf2c3e1(0xc6);return;}}const _0x434dcf=_0xb9af31['readUInt8'](0x0),_0xb22f9c=_0x434dcf&0x7f,_0x28ab89=(_0x434dcf&0x80)!==0x0;if(_0x28ab89){const _0x5b0f30=_0xb9af31['readUInt8'](0x1),_0x36ad67=_0xb9af31['slice'](0x2,0x2+_0x5b0f30)[_0xf2c3e1(0xd8)](_0xf2c3e1(0xcd));if([_0xf2c3e1(0xcc),_0xf2c3e1(0xdd),_0xf2c3e1(0xa5),'close']['includes'](_0x36ad67))return;const _0x1f649a=this[_0xf2c3e1(0xb0)](_0xb9af31[_0xf2c3e1(0xae)](0x2+_0x5b0f30)),_0x482a9b=(_0x16c04b=this[_0xf2c3e1(0xc3)][_0x36ad67])!==null&&_0x16c04b!==void 0x0?_0x16c04b:[];let _0x4b08a6=![];for(const _0x3470df of _0x482a9b){const _0x341715=_0x3470df[_0xf2c3e1(0xcb)](undefined,_0x1f649a);if(!_0x4b08a6&&_0x341715!==undefined&&_0xb22f9c!==0x0){_0x4b08a6=!![];const _0x299c02=Buffer[_0xf2c3e1(0xb2)]([Buffer['from']([_0xb22f9c&0x7f]),this[_0xf2c3e1(0xc9)](_0x341715)]);(_0x3f9e85=this['socket'])===null||_0x3f9e85===void 0x0?void 0x0:_0x3f9e85[_0xf2c3e1(0xe9)](_0x299c02);}}if(!_0x4b08a6&&_0xb22f9c!==0x0){}return;}const _0xd437e4=this['pendingRequests'][_0xb22f9c];if(_0xd437e4==undefined)return;const _0x447e98=this['decode'](_0xb9af31[_0xf2c3e1(0xae)](0x1));_0xd437e4(_0x447e98);}[a5_0x42312e(0xc9)](_0x2c3057){const _0x4103ed=a5_0x42312e;return Buffer[_0x4103ed(0xd7)](JSON[_0x4103ed(0xc4)](_0x2c3057),'utf-8');}[a5_0x42312e(0xb0)](_0x242244){const _0x1b09fa=a5_0x42312e;return JSON[_0x1b09fa(0xf0)](_0x242244['toString'](_0x1b09fa(0xcd)));}['on'](_0xea725a,_0x47a5c2){const _0x42e07c=a5_0x42312e;if(this[_0x42e07c(0xc3)][_0xea725a]==undefined)this['handlers'][_0xea725a]=[];this['handlers'][_0xea725a][_0x42e07c(0xb3)](_0x47a5c2);}[a5_0x42312e(0xb1)](_0x53aeff,_0x4202e5){const _0x43e770=a5_0x42312e;if(_0x4202e5==undefined){delete this['handlers'][_0x53aeff];return;}const _0x1b9c78=this[_0x43e770(0xc3)][_0x53aeff],_0xd78a7b=(_0x1b9c78!==null&&_0x1b9c78!==void 0x0?_0x1b9c78:[])[_0x43e770(0xb5)](_0x78409b=>_0x78409b===_0x4202e5);if(_0xd78a7b===-0x1)throw new Error(_0x43e770(0xe0)+_0x53aeff+_0x43e770(0xbb));_0x1b9c78[_0x43e770(0xcf)](_0xd78a7b,0x1);}[a5_0x42312e(0xdb)](_0x353c75,_0x5b3857){const _0x34657c=a5_0x42312e;var _0x5e65ac;const _0x145360=(_0x5e65ac=this[_0x34657c(0xc3)][_0x353c75])!==null&&_0x5e65ac!==void 0x0?_0x5e65ac:[];for(const _0x368d18 of _0x145360)_0x368d18(_0x5b3857);}}