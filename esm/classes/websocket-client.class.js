function a5_0x3e84(_0x3094ee,_0x3bf11e){const _0x53f910=a5_0x53f9();return a5_0x3e84=function(_0x3e8469,_0xff3c1a){_0x3e8469=_0x3e8469-0xd1;let _0x364b33=_0x53f910[_0x3e8469];return _0x364b33;},a5_0x3e84(_0x3094ee,_0x3bf11e);}const a5_0x513170=a5_0x3e84;(function(_0x77fe3c,_0x3583d6){const _0xb3ccc3=a5_0x3e84,_0x56768a=_0x77fe3c();while(!![]){try{const _0x4d668d=-parseInt(_0xb3ccc3(0xd2))/0x1+-parseInt(_0xb3ccc3(0xda))/0x2*(parseInt(_0xb3ccc3(0x11b))/0x3)+-parseInt(_0xb3ccc3(0xeb))/0x4*(parseInt(_0xb3ccc3(0xf9))/0x5)+parseInt(_0xb3ccc3(0xf5))/0x6*(parseInt(_0xb3ccc3(0xd7))/0x7)+parseInt(_0xb3ccc3(0xfc))/0x8*(-parseInt(_0xb3ccc3(0xf6))/0x9)+parseInt(_0xb3ccc3(0xef))/0xa*(parseInt(_0xb3ccc3(0xe1))/0xb)+parseInt(_0xb3ccc3(0x109))/0xc;if(_0x4d668d===_0x3583d6)break;else _0x56768a['push'](_0x56768a['shift']());}catch(_0x1176f8){_0x56768a['push'](_0x56768a['shift']());}}}(a5_0x53f9,0x729b0));var __awaiter=this&&this[a5_0x513170(0x101)]||function(_0x2919e0,_0x18a41e,_0x5eaa9c,_0x31b155){function _0x163848(_0x1622e0){return _0x1622e0 instanceof _0x5eaa9c?_0x1622e0:new _0x5eaa9c(function(_0x208c95){_0x208c95(_0x1622e0);});}return new(_0x5eaa9c||(_0x5eaa9c=Promise))(function(_0xb3c4c4,_0x1ce5bb){const _0x19bd64=a5_0x3e84;function _0x139c44(_0x11b294){try{_0x37fe11(_0x31b155['next'](_0x11b294));}catch(_0xf951b7){_0x1ce5bb(_0xf951b7);}}function _0x1dfdc0(_0xc24082){const _0x522f9d=a5_0x3e84;try{_0x37fe11(_0x31b155[_0x522f9d(0xea)](_0xc24082));}catch(_0x1bcf5d){_0x1ce5bb(_0x1bcf5d);}}function _0x37fe11(_0x16b121){const _0x42bc23=a5_0x3e84;_0x16b121['done']?_0xb3c4c4(_0x16b121[_0x42bc23(0xde)]):_0x163848(_0x16b121[_0x42bc23(0xde)])[_0x42bc23(0x117)](_0x139c44,_0x1dfdc0);}_0x37fe11((_0x31b155=_0x31b155[_0x19bd64(0x11c)](_0x2919e0,_0x18a41e||[]))[_0x19bd64(0xe8)]());});};import a5_0x22126e from'ws';export default class WebsocketClient{constructor(){const _0x5cc7fa=a5_0x513170;this[_0x5cc7fa(0xf3)]=0x5*0x3e8+0x1f4,this['reconnectTimeout']=null,this[_0x5cc7fa(0x111)]=_0x5cc7fa(0xfb),this[_0x5cc7fa(0x103)]=0x1,this[_0x5cc7fa(0xfd)]={},this[_0x5cc7fa(0xd9)]={},this[_0x5cc7fa(0xec)]=()=>{const _0x2cacb2=_0x5cc7fa;if(this[_0x2cacb2(0xe6)]!=undefined)clearTimeout(this[_0x2cacb2(0xe6)]);this[_0x2cacb2(0xe6)]=setTimeout(()=>{const _0x542ec0=_0x2cacb2;var _0x54353e;if(this[_0x542ec0(0xff)]!=undefined&&this['socket'][_0x542ec0(0x10c)]!==a5_0x22126e[_0x542ec0(0xdc)])return;(_0x54353e=this['socket'])===null||_0x54353e===void 0x0?void 0x0:_0x54353e['close']();},this['heartbeatInterval']);};}[a5_0x513170(0xe3)](){return __awaiter(this,arguments,void 0x0,function*({url:_0x3b9552,allowReject:_0x41e388,handshakeData:_0x34a7d7,reconnectTimeout:_0x532528}={}){return new Promise((_0xb700ae,_0x286e69)=>{const _0x4ded29=a5_0x3e84;if(this[_0x4ded29(0xff)]!=undefined&&this['socket'][_0x4ded29(0x10c)]===a5_0x22126e[_0x4ded29(0xdc)]){if(_0x41e388!==!![])_0x286e69(new Error('The\x20websocket\x20is\x20already\x20connected'));else _0xb700ae();}this[_0x4ded29(0xff)]!=undefined&&(this[_0x4ded29(0xff)]['removeAllListeners'](),this[_0x4ded29(0xff)][_0x4ded29(0xf8)](_0x4ded29(0xf2),this[_0x4ded29(0xec)]),this[_0x4ded29(0x111)]=_0x4ded29(0xfb));if(this[_0x4ded29(0xe2)]==undefined&&_0x3b9552==undefined)_0x286e69(new Error(_0x4ded29(0xe7)));this[_0x4ded29(0xe2)]=_0x3b9552||this[_0x4ded29(0xe2)];if(_0x532528!==undefined)this[_0x4ded29(0xe9)]=_0x532528;if(_0x34a7d7!==undefined)this[_0x4ded29(0x112)]=_0x34a7d7;this[_0x4ded29(0xff)]=new a5_0x22126e(this['url']),this[_0x4ded29(0xff)][_0x4ded29(0x100)](_0x4ded29(0xd3),this[_0x4ded29(0xec)]),this[_0x4ded29(0xff)]['addEventListener'](_0x4ded29(0x107),this['checkHeartbeat']),this[_0x4ded29(0xff)]['on']('ping',_0x367c51=>{const _0x5bed05=_0x4ded29;var _0x2d836c;(_0x2d836c=this[_0x5bed05(0xff)])===null||_0x2d836c===void 0x0?void 0x0:_0x2d836c[_0x5bed05(0x11a)](_0x367c51),this['checkHeartbeat']();}),this[_0x4ded29(0xff)]['addEventListener'](_0x4ded29(0x110),()=>{const _0x3c97be=_0x4ded29;if(this[_0x3c97be(0xe6)]!=undefined)clearTimeout(this[_0x3c97be(0xe6)]);});if(this['reconnectTimeout']!=undefined)this[_0x4ded29(0xff)][_0x4ded29(0x100)]('close',()=>{const _0x3dcf10=_0x4ded29;setTimeout(()=>this[_0x3dcf10(0xe3)](),this['reconnectTimeout']);});this['socket'][_0x4ded29(0x100)](_0x4ded29(0x107),_0x41c3ec=>this[_0x4ded29(0xd1)](_0x41c3ec)),this[_0x4ded29(0xff)][_0x4ded29(0x100)](_0x4ded29(0xd3),_0x3e84d1=>this[_0x4ded29(0x114)]('open',_0x3e84d1)),this[_0x4ded29(0xff)][_0x4ded29(0x100)](_0x4ded29(0xd4),_0x551b36=>this[_0x4ded29(0x114)](_0x4ded29(0xd4),_0x551b36)),this[_0x4ded29(0xff)][_0x4ded29(0x100)](_0x4ded29(0x110),_0x1f8a85=>this[_0x4ded29(0x114)](_0x4ded29(0x110),_0x1f8a85));const _0x5c7431=()=>{_0xb700ae(),_0x546a55();},_0x3b0c96=_0x1bada9=>{_0x41e388?_0x286e69(_0x1bada9):_0xb700ae(),_0x546a55();};this['socket']['addEventListener'](_0x4ded29(0xd3),_0x5c7431,{'once':!![]}),this[_0x4ded29(0xff)]['addEventListener'](_0x4ded29(0xd4),_0x3b0c96,{'once':!![]});const _0x546a55=()=>{const _0x16a413=_0x4ded29;var _0x205359,_0x49e06e;(_0x205359=this[_0x16a413(0xff)])===null||_0x205359===void 0x0?void 0x0:_0x205359[_0x16a413(0x105)]('open',_0x5c7431),(_0x49e06e=this[_0x16a413(0xff)])===null||_0x49e06e===void 0x0?void 0x0:_0x49e06e[_0x16a413(0x105)](_0x16a413(0xd4),_0x3b0c96);};});});}['disconnect'](_0x3e7db6,_0x456233){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x1d2d9f,_0x295ce4)=>{const _0x1c5416=a5_0x3e84;if(this[_0x1c5416(0xff)]==undefined||this[_0x1c5416(0xff)][_0x1c5416(0x10c)]===a5_0x22126e[_0x1c5416(0xe0)]||this[_0x1c5416(0xff)][_0x1c5416(0x10c)]===a5_0x22126e[_0x1c5416(0x108)])return _0x295ce4(new Error(_0x1c5416(0x118)));this[_0x1c5416(0xff)][_0x1c5416(0x110)](_0x3e7db6,_0x456233);const _0x2878ab=()=>{_0x1d2d9f(),_0x45aaf6();},_0x4e1548=_0x1a1d3b=>{_0x295ce4(_0x1a1d3b),_0x45aaf6();};this[_0x1c5416(0xff)][_0x1c5416(0x100)](_0x1c5416(0x110),_0x2878ab,{'once':!![]}),this['socket'][_0x1c5416(0x100)](_0x1c5416(0xd4),_0x4e1548,{'once':!![]});const _0x45aaf6=()=>{const _0x528666=_0x1c5416;var _0x4e0223,_0x246c2b;(_0x4e0223=this[_0x528666(0xff)])===null||_0x4e0223===void 0x0?void 0x0:_0x4e0223[_0x528666(0x105)](_0x528666(0x110),_0x2878ab),(_0x246c2b=this[_0x528666(0xff)])===null||_0x246c2b===void 0x0?void 0x0:_0x246c2b[_0x528666(0x105)](_0x528666(0xd4),_0x4e1548);};});});}get[a5_0x513170(0xf7)](){const _0x589854=a5_0x513170;var _0x4985d9;switch((_0x4985d9=this[_0x589854(0xff)])===null||_0x4985d9===void 0x0?void 0x0:_0x4985d9['readyState']){case a5_0x22126e[_0x589854(0xed)]:return _0x589854(0x106);case a5_0x22126e[_0x589854(0xdc)]:return this[_0x589854(0x111)]==='completed'?'open':_0x589854(0x10f);case a5_0x22126e[_0x589854(0xe0)]:return _0x589854(0xd5);case a5_0x22126e['CLOSED']:default:return _0x589854(0xe5);}}[a5_0x513170(0x102)](_0x2b0244,_0x32cf86,_0x4875cc,_0x4bcbdd=0x5*0x3e8){const _0x5d22ca=a5_0x513170;if(this[_0x5d22ca(0xff)]==undefined||this['status']!==_0x5d22ca(0xd3))throw new Error('The\x20websocket\x20is\x20not\x20connected');if([_0x5d22ca(0x10f),_0x5d22ca(0xd3),'error','close'][_0x5d22ca(0xd6)](_0x2b0244))throw new Error(_0x5d22ca(0x119));const _0x1bc248=_0x4875cc==undefined?0x0:this[_0x5d22ca(0x103)],_0x28d34b=Buffer[_0x5d22ca(0x116)](_0x2b0244,'utf-8');if(_0x28d34b[_0x5d22ca(0xfe)]>0xff)throw new Error(_0x5d22ca(0x104));if(_0x4875cc!=undefined){this['requestId']=(this[_0x5d22ca(0x103)]+0x1)%0x80||0x1;const _0x6b5bad=setTimeout(()=>{const _0x11bf6f=_0x5d22ca;delete this[_0x11bf6f(0xfd)][_0x1bc248],_0x4875cc(new Error(_0x11bf6f(0xf4)));},_0x4bcbdd);this[_0x5d22ca(0xfd)][_0x1bc248]=_0x449dd6=>{if(!(_0x449dd6 instanceof Error))clearTimeout(_0x6b5bad);_0x4875cc(_0x449dd6);};}const _0x20d082=Buffer[_0x5d22ca(0x113)]([Buffer[_0x5d22ca(0x116)]([_0x1bc248|0x80,_0x28d34b[_0x5d22ca(0xfe)]]),_0x28d34b,this[_0x5d22ca(0x10e)](_0x32cf86)]);this['socket'][_0x5d22ca(0xdb)](_0x20d082);}[a5_0x513170(0xd1)]({data:_0x18c01c}){const _0xeeb7ce=a5_0x513170;var _0x4d4ee5,_0x224cea,_0x5cca5f;let _0x29e2da=Buffer['alloc'](0x0);if(_0x18c01c instanceof Buffer)_0x29e2da=_0x18c01c;if(typeof _0x18c01c===_0xeeb7ce(0xd8))_0x29e2da=Buffer[_0xeeb7ce(0x116)](_0x18c01c,_0xeeb7ce(0x115));if(_0x18c01c instanceof ArrayBuffer)_0x29e2da=Buffer[_0xeeb7ce(0x116)](_0x18c01c);if(Array[_0xeeb7ce(0xdd)](_0x18c01c))_0x29e2da=Buffer[_0xeeb7ce(0x113)](_0x18c01c);if(this[_0xeeb7ce(0x111)]===_0xeeb7ce(0xfb)){const {pingInterval:_0xd17c8d}=this['decode'](_0x29e2da);this['heartbeatInterval']=_0xd17c8d+0x1f4;const _0x426c35=this[_0xeeb7ce(0x10e)](this[_0xeeb7ce(0x112)]===undefined?null:this[_0xeeb7ce(0x112)]);(_0x4d4ee5=this['socket'])===null||_0x4d4ee5===void 0x0?void 0x0:_0x4d4ee5[_0xeeb7ce(0xdb)](_0x426c35),this['handshakeStatus']=_0xeeb7ce(0xf1);return;}else{if(this[_0xeeb7ce(0x111)]===_0xeeb7ce(0xf1)){this[_0xeeb7ce(0x111)]='completed';return;}}const _0x37a6fb=_0x29e2da['readUInt8'](0x0),_0x4cb598=_0x37a6fb&0x7f,_0x53572f=(_0x37a6fb&0x80)!==0x0;if(_0x53572f){const _0x2b579d=_0x29e2da[_0xeeb7ce(0xee)](0x1),_0x597ad9=_0x29e2da['slice'](0x2,0x2+_0x2b579d)[_0xeeb7ce(0xf0)](_0xeeb7ce(0x115));if([_0xeeb7ce(0x10f),_0xeeb7ce(0xd3),_0xeeb7ce(0xd4),_0xeeb7ce(0x110)][_0xeeb7ce(0xd6)](_0x597ad9))return;const _0x19aa93=this['decode'](_0x29e2da[_0xeeb7ce(0x10d)](0x2+_0x2b579d)),_0x1fc176=(_0x224cea=this[_0xeeb7ce(0xd9)][_0x597ad9])!==null&&_0x224cea!==void 0x0?_0x224cea:[];let _0x5a84b9=![];for(const _0x40a47d of _0x1fc176){const _0x4ba82b=_0x40a47d[_0xeeb7ce(0xfa)](undefined,_0x19aa93);if(!_0x5a84b9&&_0x4ba82b!==undefined&&_0x4cb598!==0x0){_0x5a84b9=!![];const _0x35944c=Buffer[_0xeeb7ce(0x113)]([Buffer['from']([_0x4cb598&0x7f]),this[_0xeeb7ce(0x10e)](_0x4ba82b)]);(_0x5cca5f=this[_0xeeb7ce(0xff)])===null||_0x5cca5f===void 0x0?void 0x0:_0x5cca5f['send'](_0x35944c);}}if(!_0x5a84b9&&_0x4cb598!==0x0){}return;}const _0x348de0=this[_0xeeb7ce(0xfd)][_0x4cb598];if(_0x348de0==undefined)return;const _0x248b62=this['decode'](_0x29e2da[_0xeeb7ce(0x10d)](0x1));_0x348de0(_0x248b62);}['encode'](_0x34c168){const _0x3c926e=a5_0x513170;return Buffer[_0x3c926e(0x116)](JSON[_0x3c926e(0xdf)](_0x34c168),_0x3c926e(0x115));}['decode'](_0x1fd2f1){const _0x130b11=a5_0x513170;return JSON['parse'](_0x1fd2f1['toString'](_0x130b11(0x115)));}['on'](_0x9de9a0,_0x53557a){const _0x1a2314=a5_0x513170;if(this['handlers'][_0x9de9a0]==undefined)this['handlers'][_0x9de9a0]=[];this[_0x1a2314(0xd9)][_0x9de9a0][_0x1a2314(0xe4)](_0x53557a);}[a5_0x513170(0xf8)](_0x45935c,_0x1968d3){const _0x3ad7c6=a5_0x513170;if(_0x1968d3==undefined){delete this['handlers'][_0x45935c];return;}const _0x8b0f11=this[_0x3ad7c6(0xd9)][_0x45935c],_0x513ead=(_0x8b0f11!==null&&_0x8b0f11!==void 0x0?_0x8b0f11:[])[_0x3ad7c6(0x11d)](_0x5070d7=>_0x5070d7===_0x1968d3);if(_0x513ead===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x45935c+_0x3ad7c6(0x10a));_0x8b0f11[_0x3ad7c6(0x10b)](_0x513ead,0x1);}[a5_0x513170(0x114)](_0x52e422,_0x181ae5){const _0x4f8013=a5_0x513170;var _0x56b1dd;const _0x23b7f1=(_0x56b1dd=this[_0x4f8013(0xd9)][_0x52e422])!==null&&_0x56b1dd!==void 0x0?_0x56b1dd:[];for(const _0x49ba12 of _0x23b7f1)_0x49ba12(_0x181ae5);}}function a5_0x53f9(){const _0x104f44=['12YvEeHr','checkHeartbeat','CONNECTING','readUInt8','20RhAtZO','toString','sent-info','ping','heartbeatInterval','Timeout','6pqceoh','1627839LmfnQv','status','off','1336895tFUadq','call','waiting','8ppmdFI','pendingRequests','length','socket','addEventListener','__awaiter','emit','requestId','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','removeEventListener','connecting','message','CLOSED','12792036AjEBAz','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','splice','readyState','slice','encode','handshake','close','handshakeStatus','handshakeData','concat','raise','utf-8','from','then','The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error\x20or\x20close','pong','72xJDOMG','apply','findIndex','handle','815633PtehYC','open','error','closing','includes','5744438NouVes','string','handlers','10508wSVDxX','send','OPEN','isArray','value','stringify','CLOSING','2791382fNXooh','url','connect','push','closed','heartbeatTimeout','No\x20url\x20specified','next','reconnectTimeout','throw'];a5_0x53f9=function(){return _0x104f44;};return a5_0x53f9();}