function a9_0x2305(_0x131801,_0x44e689){const _0x1933ce=a9_0x1933();return a9_0x2305=function(_0x230518,_0x16a3cf){_0x230518=_0x230518-0x198;let _0x558c70=_0x1933ce[_0x230518];return _0x558c70;},a9_0x2305(_0x131801,_0x44e689);}const a9_0x5229fb=a9_0x2305;(function(_0x88faaf,_0x26f103){const _0x56ca3b=a9_0x2305,_0x367e50=_0x88faaf();while(!![]){try{const _0x31ae9e=parseInt(_0x56ca3b(0x19f))/0x1*(parseInt(_0x56ca3b(0x1bc))/0x2)+-parseInt(_0x56ca3b(0x1da))/0x3+-parseInt(_0x56ca3b(0x1c8))/0x4+parseInt(_0x56ca3b(0x19b))/0x5+-parseInt(_0x56ca3b(0x1a2))/0x6*(-parseInt(_0x56ca3b(0x1cd))/0x7)+parseInt(_0x56ca3b(0x1b4))/0x8+parseInt(_0x56ca3b(0x1dd))/0x9;if(_0x31ae9e===_0x26f103)break;else _0x367e50['push'](_0x367e50['shift']());}catch(_0x5c3464){_0x367e50['push'](_0x367e50['shift']());}}}(a9_0x1933,0xc09c3));var __awaiter=this&&this[a9_0x5229fb(0x1a3)]||function(_0x2ea59b,_0x5d4e6d,_0x27be32,_0x3b722a){function _0x3e8691(_0x93d3b5){return _0x93d3b5 instanceof _0x27be32?_0x93d3b5:new _0x27be32(function(_0x5c0dfa){_0x5c0dfa(_0x93d3b5);});}return new(_0x27be32||(_0x27be32=Promise))(function(_0x3f8b5e,_0x18a1a0){const _0x5cc57a=a9_0x2305;function _0x4579dc(_0x25fd13){const _0x2d540f=a9_0x2305;try{_0x37802a(_0x3b722a[_0x2d540f(0x1e9)](_0x25fd13));}catch(_0x409c41){_0x18a1a0(_0x409c41);}}function _0x480007(_0x46643a){const _0x34e381=a9_0x2305;try{_0x37802a(_0x3b722a[_0x34e381(0x1e2)](_0x46643a));}catch(_0x355ff0){_0x18a1a0(_0x355ff0);}}function _0x37802a(_0x5dc243){const _0x55f2db=a9_0x2305;_0x5dc243[_0x55f2db(0x1aa)]?_0x3f8b5e(_0x5dc243[_0x55f2db(0x1ec)]):_0x3e8691(_0x5dc243['value'])['then'](_0x4579dc,_0x480007);}_0x37802a((_0x3b722a=_0x3b722a[_0x5cc57a(0x1a8)](_0x2ea59b,_0x5d4e6d||[]))['next']());});};function a9_0x1933(){const _0x580591=['Received\x20message\x20with\x20unsupported\x20opcode:\x20','pingTimeout','requestId','from','data','digest','Received\x20a\x20request\x20with\x20callback\x20for\x20the\x20event\x20','2628426NFcECH','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','alloc','4219614xwYdOK','socket','raise','end','toString','throw','handle','pingInterval','pendingRequests','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handskake,\x20open,\x20error\x20or\x20close','closing','error','next','sha1','destroy','value','closed','length','fromUpgradeRequest','Sec-WebSocket-Accept:\x20','write','HTTP/1.1\x20101\x20Switching\x20Protocols','emit','binary','open','1213120KlDwvG','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','\x20but\x20no\x20handler\x20return\x20a\x20result','push','1102784xTRcpA','locals','slice','181014IyMJno','__awaiter','Upgrade:\x20websocket','disconnect','readUInt16BE','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','apply','call','done',';\x20This\x20is\x20non-standard:\x20someone\x20is\x20trying\x20to\x20hack\x20the\x20protocol?','headers','Received\x20non-standard\x20text\x20message:\x20','Received\x20a\x20request\x20with\x20eventName\x20','text','pong','createHash','findIndex','Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping','1626120qxoefg','\x0d\x0a\x0d\x0a','off','join','The\x20websocket\x20is\x20not\x20connected','ping','base64','randomUUID','2vcCaKF','readUInt8','close','encode','status','parse','once','handshake','includes','Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.','Connection:\x20Upgrade','readBigUInt64BE','4668036oVyZzi','utf-8','Timeout','handlers','decode','189xXZKWj','send','concat','pingRequests','checkHeartbeat','writeUInt16BE'];a9_0x1933=function(){return _0x580591;};return a9_0x1933();}import a9_0x69b96c from'crypto';export default class Socket{constructor(_0x2eaec9){const _0x4c9a93=a9_0x5229fb;this[_0x4c9a93(0x1de)]=_0x2eaec9,this[_0x4c9a93(0x1c0)]=_0x4c9a93(0x1c3),this[_0x4c9a93(0x1e4)]=0x5*0x3e8,this[_0x4c9a93(0x1d4)]=0x2*0x3e8,this[_0x4c9a93(0x1d0)]={},this[_0x4c9a93(0x1d5)]=0x1,this[_0x4c9a93(0x1e5)]={},this[_0x4c9a93(0x1a0)]={},this[_0x4c9a93(0x1cb)]={},this[_0x4c9a93(0x1de)]['on'](_0x4c9a93(0x1d7),_0x1528a2=>this[_0x4c9a93(0x1e3)](_0x1528a2)),this[_0x4c9a93(0x1de)]['on'](_0x4c9a93(0x1e8),_0x54031f=>this[_0x4c9a93(0x1df)](_0x4c9a93(0x1e8),_0x54031f)),this[_0x4c9a93(0x1de)]['on'](_0x4c9a93(0x1be),()=>{}),this['checkHeartbeat']();const _0x5b7802=this[_0x4c9a93(0x1bf)]({'pingInterval':this[_0x4c9a93(0x1e4)]});this['send'](_0x4c9a93(0x199),_0x5b7802);}[a9_0x5229fb(0x1a5)](){return __awaiter(this,arguments,void 0x0,function*(_0x4fdf63=0x3e8,_0x21984e='',_0x52b29b=0x1388){return new Promise((_0x424990,_0xa48ff3)=>{const _0x3336ec=a9_0x2305,_0x41ccef=Buffer[_0x3336ec(0x1d6)](_0x21984e,_0x3336ec(0x1c9)),_0x27a11e=Buffer[_0x3336ec(0x1dc)](0x2+_0x41ccef[_0x3336ec(0x1ee)]);_0x27a11e[_0x3336ec(0x1d2)](_0x4fdf63,0x0),_0x41ccef['copy'](_0x27a11e,0x2);const _0x396af5=_0x27a11e['length'],_0x507f8d=_0x396af5<0x7e?_0x396af5:_0x396af5<0x10000?0x7e:0x7f,_0xbf381e=_0x507f8d===0x7e?Buffer['from']([0x88,0x7e,_0x396af5>>0x8&0xff,_0x396af5&0xff]):_0x507f8d===0x7f?Buffer['from']([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x396af5>>0x8&0xff,_0x396af5&0xff]):Buffer[_0x3336ec(0x1d6)]([0x88,_0x396af5]),_0x49bcfe=Buffer[_0x3336ec(0x1cf)]([_0xbf381e,_0x27a11e]);this[_0x3336ec(0x1de)]['write'](_0x49bcfe),this[_0x3336ec(0x1c0)]=_0x3336ec(0x1e7);if(_0x52b29b===null)this[_0x3336ec(0x1c0)]='closed',this[_0x3336ec(0x1de)][_0x3336ec(0x1e0)](),this[_0x3336ec(0x1df)]('close',{'code':_0x4fdf63,'reason':_0x21984e}),_0x424990();else{let _0x9e084=!![];this[_0x3336ec(0x1de)][_0x3336ec(0x1c2)]('data',_0x4a9c12=>{const _0x5343f4=_0x3336ec;if(!_0x9e084)return;_0x4a9c12[0x0]===0x88?(this[_0x5343f4(0x1c0)]=_0x5343f4(0x1ed),this['socket'][_0x5343f4(0x1e0)](),this[_0x5343f4(0x1df)](_0x5343f4(0x1be),{'code':_0x4fdf63,'reason':_0x21984e}),_0x424990()):_0xa48ff3(new Error('Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.'));}),setTimeout(()=>{const _0x3af5de=_0x3336ec;_0x9e084=![],_0xa48ff3(new Error(_0x3af5de(0x1c5))),this[_0x3af5de(0x1de)][_0x3af5de(0x1e0)]();},_0x52b29b);}});});}['send'](_0x5f28be,_0x197f10){const _0x15a977=a9_0x5229fb;let _0x2722c5,_0x108074;switch(_0x5f28be){case _0x15a977(0x1af):_0x2722c5=Buffer['from'](_0x197f10,_0x15a977(0x1c9)),_0x108074=0x1;break;case'binary':_0x2722c5=_0x197f10,_0x108074=0x2;break;case _0x15a977(0x1b9):_0x2722c5=_0x197f10,_0x108074=0x9;break;case _0x15a977(0x1b0):_0x2722c5=_0x197f10,_0x108074=0xa;break;}const _0x370e41=[];if(_0x2722c5['length']<0x7e)_0x370e41[_0x15a977(0x19e)](_0x2722c5[_0x15a977(0x1ee)]);else{if(_0x2722c5[_0x15a977(0x1ee)]<0x10000)_0x370e41[_0x15a977(0x19e)](0x7e,_0x2722c5[_0x15a977(0x1ee)]>>0x8&0xff,_0x2722c5[_0x15a977(0x1ee)]&0xff);else{_0x370e41['push'](0x7f);for(let _0x20eee4=0x7;_0x20eee4>=0x0;_0x20eee4--)_0x370e41[_0x15a977(0x19e)](_0x2722c5[_0x15a977(0x1ee)]>>_0x20eee4*0x8&0xff);}}const _0x1ff117=Buffer[_0x15a977(0x1cf)]([Buffer['from']([0x80|_0x108074,..._0x370e41]),_0x2722c5]);this[_0x15a977(0x1de)][_0x15a977(0x1f1)](_0x1ff117);}[a9_0x5229fb(0x198)](_0x13ce2a,_0x5ebae4,_0x4ad7fe,_0x24e334=0x32*0x3e8){const _0x305098=a9_0x5229fb;if(this[_0x305098(0x1de)]==undefined||this[_0x305098(0x1c0)]!==_0x305098(0x19a))throw new Error(_0x305098(0x1b8));if([_0x305098(0x1c3),'open',_0x305098(0x1e8),'close'][_0x305098(0x1c4)](_0x13ce2a))throw new Error(_0x305098(0x1e6));const _0x2ba377=_0x4ad7fe==undefined?0x0:this['requestId'],_0x207cbc=Buffer[_0x305098(0x1d6)](_0x13ce2a,_0x305098(0x1c9));if(_0x207cbc['length']>0xff)throw new Error('Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)');if(_0x4ad7fe!=undefined){this['requestId']=(this[_0x305098(0x1d5)]+0x1)%0x80||0x1;const _0x4bb315=setTimeout(()=>{const _0x1dee01=_0x305098;delete this[_0x1dee01(0x1e5)][_0x2ba377],_0x4ad7fe(new Error(_0x1dee01(0x1ca)));},_0x24e334);this[_0x305098(0x1e5)][_0x2ba377]=_0x1dd119=>{if(!(_0x1dd119 instanceof Error))clearTimeout(_0x4bb315);_0x4ad7fe(_0x1dd119);};}const _0x416aef=Buffer['concat']([Buffer[_0x305098(0x1d6)]([_0x2ba377|0x80,_0x207cbc['length']]),_0x207cbc,this[_0x305098(0x1bf)](_0x5ebae4)]);this[_0x305098(0x1ce)](_0x305098(0x199),_0x416aef);}[a9_0x5229fb(0x1e3)](_0x3d9614){const _0x1d76bc=a9_0x5229fb;var _0x188533;const _0x2a6463=_0x3d9614[0x0],_0x302d68=(_0x2a6463&0x80)!==0x0,_0x1501e3=_0x2a6463&0xf,_0x38153c=_0x3d9614[0x1],_0x5b9d45=(_0x38153c&0x80)!==0x0;let _0x2b7b85=_0x38153c&0x7f,_0x1babc3=0x2;if(_0x2b7b85===0x7e)_0x2b7b85=_0x3d9614[_0x1d76bc(0x1a6)](_0x1babc3),_0x1babc3+=0x2;else _0x2b7b85===0x7f&&(_0x2b7b85=Number(_0x3d9614[_0x1d76bc(0x1c7)](_0x1babc3)),_0x1babc3+=0x8);const _0x1b83c6=_0x5b9d45?_0x3d9614[_0x1d76bc(0x1a1)](_0x1babc3,_0x1babc3+0x4):Buffer[_0x1d76bc(0x1dc)](0x0);if(_0x5b9d45)_0x1babc3+=0x4;let _0x83533b=_0x3d9614[_0x1d76bc(0x1a1)](_0x1babc3,_0x1babc3+_0x2b7b85);if(_0x5b9d45){const _0x101a09=Buffer[_0x1d76bc(0x1dc)](_0x83533b[_0x1d76bc(0x1ee)]);for(let _0x965700=0x0;_0x965700<_0x83533b[_0x1d76bc(0x1ee)];_0x965700++)_0x101a09[_0x965700]=_0x83533b[_0x965700]^_0x1b83c6[_0x965700%0x4];_0x83533b=_0x101a09;}switch(_0x1501e3){case 0x1:this[_0x1d76bc(0x1df)](_0x1d76bc(0x1e8),new Error(_0x1d76bc(0x1ad)+_0x83533b[_0x1d76bc(0x1e1)](_0x1d76bc(0x1c9))));break;case 0x2:{if(this[_0x1d76bc(0x1c0)]===_0x1d76bc(0x1c3)){const _0x1063e4=this[_0x1d76bc(0x1cc)](_0x83533b);this[_0x1d76bc(0x1df)](_0x1d76bc(0x1c3),_0x1063e4),this[_0x1d76bc(0x1c0)]=_0x1d76bc(0x19a),this['send']('binary',Buffer['alloc'](0x0));return;}const _0x126b89=_0x83533b[_0x1d76bc(0x1bd)](0x0),_0x48324c=_0x126b89&0x7f,_0x5bc10f=(_0x126b89&0x80)!==0x0;if(_0x5bc10f){const _0x4068dd=_0x83533b[_0x1d76bc(0x1bd)](0x1),_0x4ef815=_0x83533b['slice'](0x2,0x2+_0x4068dd)['toString'](_0x1d76bc(0x1c9));if(['handshake',_0x1d76bc(0x19a),_0x1d76bc(0x1e8),_0x1d76bc(0x1be)][_0x1d76bc(0x1c4)](_0x4ef815)){this[_0x1d76bc(0x1df)](_0x1d76bc(0x1e8),new Error(_0x1d76bc(0x1ae)+_0x4ef815+_0x1d76bc(0x1ab)));return;}const _0x20e90c=this['decode'](_0x83533b[_0x1d76bc(0x1a1)](0x2+_0x4068dd)),_0x2c49ea=(_0x188533=this[_0x1d76bc(0x1cb)][_0x4ef815])!==null&&_0x188533!==void 0x0?_0x188533:[];let _0x2cfbd8=![];for(const _0x35af50 of _0x2c49ea){const _0x1f1e1a=_0x35af50[_0x1d76bc(0x1a9)](undefined,_0x20e90c);if(!_0x2cfbd8&&_0x1f1e1a!==undefined&&_0x48324c!==0x0){_0x2cfbd8=!![];const _0x2e312f=Buffer[_0x1d76bc(0x1cf)]([Buffer['from']([_0x48324c&0x7f]),this[_0x1d76bc(0x1bf)](_0x1f1e1a)]);this[_0x1d76bc(0x1ce)](_0x1d76bc(0x199),_0x2e312f);}}if(!_0x2cfbd8&&_0x48324c!==0x0)this[_0x1d76bc(0x1df)](_0x1d76bc(0x1e8),new Error(_0x1d76bc(0x1d9)+_0x4ef815+_0x1d76bc(0x19d)));return;}const _0xb178f1=this[_0x1d76bc(0x1e5)][_0x48324c];if(_0xb178f1==undefined){this[_0x1d76bc(0x1df)]('error',new Error('Received\x20a\x20response\x20for\x20the\x20id\x20'+_0x48324c+'\x20but\x20no\x20pending\x20request\x20was\x20found'));return;}const _0x56e317=this[_0x1d76bc(0x1cc)](_0x83533b[_0x1d76bc(0x1a1)](0x1));_0xb178f1[_0x1d76bc(0x1a9)](undefined,_0x56e317);break;}case 0x9:this[_0x1d76bc(0x1ce)](_0x1d76bc(0x1b0),_0x83533b);break;case 0xa:const _0x5b5dd8=_0x83533b[_0x1d76bc(0x1e1)](_0x1d76bc(0x1c9)),_0x584c2c=this['pingRequests'][_0x5b5dd8];if(_0x584c2c==undefined){this[_0x1d76bc(0x1df)](_0x1d76bc(0x1e8),new Error(_0x1d76bc(0x1b3)));return;}_0x584c2c();break;case 0x8:if(this['status']==='closing')return;let _0x2f5d55=0x3e8,_0x24d83e='';_0x83533b[_0x1d76bc(0x1ee)]>=0x2&&(_0x2f5d55=_0x83533b[_0x1d76bc(0x1a6)](0x0),_0x24d83e=_0x83533b[_0x1d76bc(0x1a1)](0x2)['toString'](_0x1d76bc(0x1c9)));this['disconnect'](_0x2f5d55,_0x24d83e,null);break;default:this[_0x1d76bc(0x1df)](_0x1d76bc(0x1e8),new Error(_0x1d76bc(0x1d3)+_0x1501e3));}}[a9_0x5229fb(0x1bf)](_0x4dc751){const _0x1c74c0=a9_0x5229fb;return Buffer['from'](JSON['stringify'](_0x4dc751),_0x1c74c0(0x1c9));}[a9_0x5229fb(0x1cc)](_0x28c8b8){const _0x21d62a=a9_0x5229fb;return JSON[_0x21d62a(0x1c1)](_0x28c8b8[_0x21d62a(0x1e1)](_0x21d62a(0x1c9)));}[a9_0x5229fb(0x1d1)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x3de408,_0xd1ea6c)=>{const _0x2fba76=a9_0x2305,_0x216144=a9_0x69b96c[_0x2fba76(0x1bb)](),_0x192c91=setTimeout(()=>{const _0xf809fb=_0x2fba76;delete this[_0xf809fb(0x1d0)][_0x216144],this[_0xf809fb(0x1a5)](0x3e8,'',null),_0x3de408(![]);},this[_0x2fba76(0x1d4)]);this['pingRequests'][_0x216144]=()=>{delete this['pingRequests'][_0x216144],clearTimeout(_0x192c91),_0x3de408(!![]),setTimeout(()=>{const _0x3e7045=a9_0x2305;if(this[_0x3e7045(0x1c0)]!==_0x3e7045(0x19a))return;this[_0x3e7045(0x1d1)]();},this['pingInterval']);},this[_0x2fba76(0x1ce)]('ping',Buffer[_0x2fba76(0x1d6)](_0x216144));});});}['on'](_0x4669bf,_0x2faea9){const _0x3bd4a3=a9_0x5229fb;if(this[_0x3bd4a3(0x1cb)][_0x4669bf]==undefined)this[_0x3bd4a3(0x1cb)][_0x4669bf]=[];this[_0x3bd4a3(0x1cb)][_0x4669bf]['push'](_0x2faea9);}[a9_0x5229fb(0x1b6)](_0x55e78d,_0xfa469f){const _0x26a8ed=a9_0x5229fb;if(_0xfa469f==undefined){this[_0x26a8ed(0x1cb)][_0x55e78d]=[];return;}const _0x4509ca=this[_0x26a8ed(0x1cb)][_0x55e78d],_0x5b1834=(_0x4509ca!==null&&_0x4509ca!==void 0x0?_0x4509ca:[])[_0x26a8ed(0x1b2)](_0x2cd88c=>_0x2cd88c===_0xfa469f);if(_0x5b1834===-0x1)throw new Error(_0x26a8ed(0x1a7)+_0x55e78d+_0x26a8ed(0x1db));_0x4509ca['splice'](_0x5b1834,0x1);}[a9_0x5229fb(0x1df)](_0x775312,_0x24dc43){const _0x16de0a=a9_0x5229fb;var _0x493e92;const _0x1aef8e=(_0x493e92=this[_0x16de0a(0x1cb)][_0x775312])!==null&&_0x493e92!==void 0x0?_0x493e92:[];for(const _0x5a960c of _0x1aef8e){_0x5a960c(_0x24dc43);}}static[a9_0x5229fb(0x1ef)](_0xb6dfa,_0x2616ae){const _0x39e0be=a9_0x5229fb,_0x4d1c35=_0xb6dfa[_0x39e0be(0x1ac)]['sec-websocket-key'];if(_0x4d1c35==undefined)return _0x2616ae[_0x39e0be(0x1eb)](),null;const _0x33a0a7=a9_0x69b96c[_0x39e0be(0x1b1)](_0x39e0be(0x1ea));_0x33a0a7['update'](_0x4d1c35+_0x39e0be(0x19c));const _0x2c28a3=_0x33a0a7[_0x39e0be(0x1d8)](_0x39e0be(0x1ba)),_0x37aaec=[_0x39e0be(0x1f2),_0x39e0be(0x1a4),_0x39e0be(0x1c6),_0x39e0be(0x1f0)+_0x2c28a3];return _0x2616ae[_0x39e0be(0x1f1)](_0x37aaec[_0x39e0be(0x1b7)]('\x0d\x0a')+_0x39e0be(0x1b5)),new Socket(_0x2616ae);}}