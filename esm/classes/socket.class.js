const a9_0x15b331=a9_0x4b91;(function(_0x2793d9,_0x4d799f){const _0x29e6d0=a9_0x4b91,_0x42f648=_0x2793d9();while(!![]){try{const _0x123a38=parseInt(_0x29e6d0(0xe1))/0x1+-parseInt(_0x29e6d0(0xed))/0x2+-parseInt(_0x29e6d0(0xf7))/0x3+-parseInt(_0x29e6d0(0xbd))/0x4+parseInt(_0x29e6d0(0x10d))/0x5*(-parseInt(_0x29e6d0(0xc1))/0x6)+parseInt(_0x29e6d0(0x111))/0x7+parseInt(_0x29e6d0(0x105))/0x8*(parseInt(_0x29e6d0(0x115))/0x9);if(_0x123a38===_0x4d799f)break;else _0x42f648['push'](_0x42f648['shift']());}catch(_0x5e349a){_0x42f648['push'](_0x42f648['shift']());}}}(a9_0x3c30,0x5cbf9));function a9_0x4b91(_0x17f22d,_0x394c11){const _0x3c30f2=a9_0x3c30();return a9_0x4b91=function(_0x4b91b7,_0x2c652a){_0x4b91b7=_0x4b91b7-0xbb;let _0x5b5820=_0x3c30f2[_0x4b91b7];return _0x5b5820;},a9_0x4b91(_0x17f22d,_0x394c11);}var __awaiter=this&&this['__awaiter']||function(_0xaaa1e5,_0x47e93b,_0x3b5bae,_0x3ee1ed){function _0x5b39ca(_0x5c106a){return _0x5c106a instanceof _0x3b5bae?_0x5c106a:new _0x3b5bae(function(_0x24dcc9){_0x24dcc9(_0x5c106a);});}return new(_0x3b5bae||(_0x3b5bae=Promise))(function(_0x4fd9bf,_0x52c5c2){const _0x116bcb=a9_0x4b91;function _0x21d846(_0x11c57a){const _0x328017=a9_0x4b91;try{_0x379172(_0x3ee1ed[_0x328017(0xd8)](_0x11c57a));}catch(_0x3785aa){_0x52c5c2(_0x3785aa);}}function _0x2cb914(_0x2a59cc){const _0x709958=a9_0x4b91;try{_0x379172(_0x3ee1ed[_0x709958(0x102)](_0x2a59cc));}catch(_0x5cc1c7){_0x52c5c2(_0x5cc1c7);}}function _0x379172(_0x1c8b27){const _0x97cf2c=a9_0x4b91;_0x1c8b27[_0x97cf2c(0x112)]?_0x4fd9bf(_0x1c8b27[_0x97cf2c(0xf9)]):_0x5b39ca(_0x1c8b27[_0x97cf2c(0xf9)])['then'](_0x21d846,_0x2cb914);}_0x379172((_0x3ee1ed=_0x3ee1ed['apply'](_0xaaa1e5,_0x47e93b||[]))[_0x116bcb(0xd8)]());});};import a9_0x39f92a from'crypto';export default class Socket{constructor(_0x4d912b){const _0x20db3f=a9_0x4b91;this[_0x20db3f(0xf4)]=_0x4d912b,this[_0x20db3f(0x109)]='handshake',this[_0x20db3f(0xe7)]=0x5*0x3e8,this[_0x20db3f(0x106)]=0x2*0x3e8,this['pingRequests']={},this[_0x20db3f(0xdb)]=0x1,this[_0x20db3f(0xca)]={},this[_0x20db3f(0xcf)]={},this[_0x20db3f(0xe6)]={},this[_0x20db3f(0xf4)]['on'](_0x20db3f(0xcf),_0x4b1573=>this['handle'](_0x4b1573)),this['socket']['on'](_0x20db3f(0xde),_0x17b5f2=>this['raise'](_0x20db3f(0xde),_0x17b5f2)),this[_0x20db3f(0xf4)]['on']('close',()=>{}),this[_0x20db3f(0xd0)]();const _0x5b4d2e=this[_0x20db3f(0xd4)]({'pingInterval':this[_0x20db3f(0xe7)]});this[_0x20db3f(0xc2)](_0x20db3f(0xea),_0x5b4d2e);}[a9_0x15b331(0xf0)](){return __awaiter(this,arguments,void 0x0,function*(_0x58ec96=0x3e8,_0x1b4df8='',_0x3cfeff=0x1388){return new Promise((_0x3fbf1a,_0x425c7e)=>{const _0x2008e1=a9_0x4b91,_0x19395f=Buffer['from'](_0x1b4df8,_0x2008e1(0xe5)),_0x4e6def=Buffer[_0x2008e1(0xfe)](0x2+_0x19395f[_0x2008e1(0xcb)]);_0x4e6def[_0x2008e1(0xd5)](_0x58ec96,0x0),_0x19395f[_0x2008e1(0xec)](_0x4e6def,0x2);const _0x447408=_0x4e6def[_0x2008e1(0xcb)],_0x1b243c=_0x447408<0x7e?_0x447408:_0x447408<0x10000?0x7e:0x7f,_0x87abf2=_0x1b243c===0x7e?Buffer[_0x2008e1(0xf6)]([0x88,0x7e,_0x447408>>0x8&0xff,_0x447408&0xff]):_0x1b243c===0x7f?Buffer[_0x2008e1(0xf6)]([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x447408>>0x8&0xff,_0x447408&0xff]):Buffer[_0x2008e1(0xf6)]([0x88,_0x447408]),_0x3ac690=Buffer['concat']([_0x87abf2,_0x4e6def]);this['socket'][_0x2008e1(0xc9)](_0x3ac690),this[_0x2008e1(0x109)]=_0x2008e1(0xeb);if(_0x3cfeff===null)this[_0x2008e1(0x109)]=_0x2008e1(0xdc),this[_0x2008e1(0xf4)][_0x2008e1(0x10e)](),this[_0x2008e1(0xcd)](_0x2008e1(0xcc),{'code':_0x58ec96,'reason':_0x1b4df8}),_0x3fbf1a();else{let _0xb487=!![];this['socket'][_0x2008e1(0xf5)](_0x2008e1(0xcf),_0x651b98=>{const _0x41af81=_0x2008e1;if(!_0xb487)return;_0x651b98[0x0]===0x88?(this['status']='closed',this[_0x41af81(0xf4)]['end'](),this[_0x41af81(0xcd)](_0x41af81(0xcc),{'code':_0x58ec96,'reason':_0x1b4df8}),_0x3fbf1a()):_0x425c7e(new Error(_0x41af81(0xef)));}),setTimeout(()=>{const _0x269226=_0x2008e1;_0xb487=![],_0x425c7e(new Error(_0x269226(0xda))),this[_0x269226(0xf4)]['end']();},_0x3cfeff);}});});}[a9_0x15b331(0xc2)](_0xc99a40,_0x13e5f3){const _0x3d666d=a9_0x15b331;let _0x2862fc,_0x3ce80a;switch(_0xc99a40){case _0x3d666d(0xd2):_0x2862fc=Buffer[_0x3d666d(0xf6)](_0x13e5f3,_0x3d666d(0xe5)),_0x3ce80a=0x1;break;case _0x3d666d(0xea):_0x2862fc=_0x13e5f3,_0x3ce80a=0x2;break;case _0x3d666d(0xbe):_0x2862fc=_0x13e5f3,_0x3ce80a=0x9;break;case _0x3d666d(0xc5):_0x2862fc=_0x13e5f3,_0x3ce80a=0xa;break;}const _0x1f099f=[];if(_0x2862fc['length']<0x7e)_0x1f099f['push'](_0x2862fc[_0x3d666d(0xcb)]);else{if(_0x2862fc[_0x3d666d(0xcb)]<0x10000)_0x1f099f[_0x3d666d(0xe0)](0x7e,_0x2862fc['length']>>0x8&0xff,_0x2862fc[_0x3d666d(0xcb)]&0xff);else{_0x1f099f[_0x3d666d(0xe0)](0x7f);for(let _0x78fee5=0x7;_0x78fee5>=0x0;_0x78fee5--)_0x1f099f[_0x3d666d(0xe0)](_0x2862fc[_0x3d666d(0xcb)]>>_0x78fee5*0x8&0xff);}}const _0x501300=Buffer[_0x3d666d(0xbc)]([Buffer['from']([0x80|_0x3ce80a,..._0x1f099f]),_0x2862fc]);this[_0x3d666d(0xf4)][_0x3d666d(0xc9)](_0x501300);}[a9_0x15b331(0xfc)](_0x3f0409,_0x413c1b,_0x133b1e,_0x4f62b8=0x32*0x3e8){const _0x2e04cc=a9_0x15b331;if(this[_0x2e04cc(0xf4)]==undefined||this[_0x2e04cc(0x109)]!==_0x2e04cc(0xc3))throw new Error('The\x20websocket\x20is\x20not\x20connected');if([_0x2e04cc(0xf2),_0x2e04cc(0xc3),'error',_0x2e04cc(0xcc)][_0x2e04cc(0xc0)](_0x3f0409))throw new Error('Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handskake,\x20open,\x20error\x20or\x20close');const _0x2814c6=_0x133b1e==undefined?0x0:this[_0x2e04cc(0xdb)],_0x5a15ca=Buffer[_0x2e04cc(0xf6)](_0x3f0409,'utf-8');if(_0x5a15ca[_0x2e04cc(0xcb)]>0xff)throw new Error(_0x2e04cc(0xee));if(_0x133b1e!=undefined){this[_0x2e04cc(0xdb)]=(this[_0x2e04cc(0xdb)]+0x1)%0x80||0x1;const _0x1a4678=setTimeout(()=>{const _0x14684f=_0x2e04cc;delete this[_0x14684f(0xca)][_0x2814c6],_0x133b1e(new Error(_0x14684f(0xc8)));},_0x4f62b8);this[_0x2e04cc(0xca)][_0x2814c6]=_0x42510a=>{if(!(_0x42510a instanceof Error))clearTimeout(_0x1a4678);_0x133b1e(_0x42510a);};}const _0x52f5d9=Buffer['concat']([Buffer[_0x2e04cc(0xf6)]([_0x2814c6|0x80,_0x5a15ca[_0x2e04cc(0xcb)]]),_0x5a15ca,this['encode'](_0x413c1b)]);this[_0x2e04cc(0xc2)]('binary',_0x52f5d9);}['handle'](_0x35531b){const _0xe99033=a9_0x15b331;var _0x33a044;const _0x33243b=_0x35531b[0x0],_0x410a62=(_0x33243b&0x80)!==0x0,_0x568e66=_0x33243b&0xf,_0xafb0a7=_0x35531b[0x1],_0x295ac7=(_0xafb0a7&0x80)!==0x0;let _0x1464bb=_0xafb0a7&0x7f,_0x3e34ba=0x2;if(_0x1464bb===0x7e)_0x1464bb=_0x35531b[_0xe99033(0xf8)](_0x3e34ba),_0x3e34ba+=0x2;else _0x1464bb===0x7f&&(_0x1464bb=Number(_0x35531b[_0xe99033(0xd9)](_0x3e34ba)),_0x3e34ba+=0x8);const _0x5e42e9=_0x295ac7?_0x35531b[_0xe99033(0xe8)](_0x3e34ba,_0x3e34ba+0x4):Buffer['alloc'](0x0);if(_0x295ac7)_0x3e34ba+=0x4;let _0x49244b=_0x35531b['slice'](_0x3e34ba,_0x3e34ba+_0x1464bb);if(_0x295ac7){const _0x375620=Buffer[_0xe99033(0xfe)](_0x49244b[_0xe99033(0xcb)]);for(let _0x2a1c6f=0x0;_0x2a1c6f<_0x49244b[_0xe99033(0xcb)];_0x2a1c6f++)_0x375620[_0x2a1c6f]=_0x49244b[_0x2a1c6f]^_0x5e42e9[_0x2a1c6f%0x4];_0x49244b=_0x375620;}switch(_0x568e66){case 0x1:this['raise']('error',new Error(_0xe99033(0xfb)+_0x49244b[_0xe99033(0xe2)]('utf-8')));break;case 0x2:{if(this[_0xe99033(0x109)]===_0xe99033(0xf2)){const _0x5abd39=this[_0xe99033(0xe9)](_0x49244b);this['raise'](_0xe99033(0xf2),_0x5abd39),this[_0xe99033(0x109)]=_0xe99033(0xc3),this[_0xe99033(0xc2)](_0xe99033(0xea),Buffer[_0xe99033(0xfe)](0x0));return;}const _0x8c0108=_0x49244b[_0xe99033(0xc6)](0x0),_0x59632c=_0x8c0108&0x7f,_0x2d83f3=(_0x8c0108&0x80)!==0x0;if(_0x2d83f3){const _0x915427=_0x49244b[_0xe99033(0xc6)](0x1),_0x31ca63=_0x49244b[_0xe99033(0xe8)](0x2,0x2+_0x915427)[_0xe99033(0xe2)]('utf-8');if([_0xe99033(0xf2),_0xe99033(0xc3),_0xe99033(0xde),_0xe99033(0xcc)][_0xe99033(0xc0)](_0x31ca63)){this[_0xe99033(0xcd)](_0xe99033(0xde),new Error(_0xe99033(0x113)+_0x31ca63+_0xe99033(0xc7)));return;}const _0x866563=this[_0xe99033(0xe9)](_0x49244b[_0xe99033(0xe8)](0x2+_0x915427)),_0x494aca=(_0x33a044=this['handlers'][_0x31ca63])!==null&&_0x33a044!==void 0x0?_0x33a044:[];let _0x4e0804=![];for(const _0x23dfdb of _0x494aca){const _0x519d82=_0x23dfdb[_0xe99033(0x108)](undefined,_0x866563);if(!_0x4e0804&&_0x519d82!==undefined&&_0x59632c!==0x0){_0x4e0804=!![];const _0x15c3db=Buffer['concat']([Buffer[_0xe99033(0xf6)]([_0x59632c&0x7f]),this[_0xe99033(0xd4)](_0x519d82)]);this[_0xe99033(0xc2)](_0xe99033(0xea),_0x15c3db);}}if(!_0x4e0804&&_0x59632c!==0x0)this['raise'](_0xe99033(0xde),new Error(_0xe99033(0xe3)+_0x31ca63+_0xe99033(0xf1)));return;}const _0x366667=this[_0xe99033(0xca)][_0x59632c];if(_0x366667==undefined){this['raise'](_0xe99033(0xde),new Error(_0xe99033(0xfa)+_0x59632c+_0xe99033(0x10c)));return;}const _0x3ce9e3=this[_0xe99033(0xe9)](_0x49244b[_0xe99033(0xe8)](0x1));_0x366667[_0xe99033(0x108)](undefined,_0x3ce9e3);break;}case 0x9:this[_0xe99033(0xc2)](_0xe99033(0xc5),_0x49244b);break;case 0xa:const _0x42ab1d=_0x49244b[_0xe99033(0xe2)](_0xe99033(0xe5)),_0x3a4418=this[_0xe99033(0xd3)][_0x42ab1d];if(_0x3a4418==undefined){this[_0xe99033(0xcd)](_0xe99033(0xde),new Error(_0xe99033(0x110)));return;}_0x3a4418();break;case 0x8:if(this[_0xe99033(0x109)]===_0xe99033(0xeb))return;let _0x53bfa2=0x3e8,_0x1db30e='';_0x49244b[_0xe99033(0xcb)]>=0x2&&(_0x53bfa2=_0x49244b[_0xe99033(0xf8)](0x0),_0x1db30e=_0x49244b[_0xe99033(0xe8)](0x2)[_0xe99033(0xe2)](_0xe99033(0xe5)));this['disconnect'](_0x53bfa2,_0x1db30e,null);break;default:this[_0xe99033(0xcd)](_0xe99033(0xde),new Error(_0xe99033(0xe4)+_0x568e66));}}[a9_0x15b331(0xd4)](_0x4eff8c){const _0x5a75d5=a9_0x15b331;return Buffer[_0x5a75d5(0xf6)](JSON[_0x5a75d5(0x101)](_0x4eff8c),_0x5a75d5(0xe5));}[a9_0x15b331(0xe9)](_0x10f43d){const _0x44df91=a9_0x15b331;return JSON[_0x44df91(0x114)](_0x10f43d[_0x44df91(0xe2)](_0x44df91(0xe5)));}[a9_0x15b331(0xd0)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0xaef8d,_0x2be56a)=>{const _0x21424a=a9_0x4b91,_0xb9ca7c=a9_0x39f92a[_0x21424a(0xce)](),_0x16c3d0=setTimeout(()=>{const _0x4847bb=_0x21424a;delete this[_0x4847bb(0xd3)][_0xb9ca7c],this['disconnect'](0x3e8,'',null),_0xaef8d(![]);},this['pingTimeout']);this[_0x21424a(0xd3)][_0xb9ca7c]=()=>{const _0x585a77=_0x21424a;delete this[_0x585a77(0xd3)][_0xb9ca7c],clearTimeout(_0x16c3d0),_0xaef8d(!![]),setTimeout(()=>{const _0x4b0f09=_0x585a77;if(this[_0x4b0f09(0x109)]!=='open')return;this['checkHeartbeat']();},this['pingInterval']);},this['send'](_0x21424a(0xbe),Buffer['from'](_0xb9ca7c));});});}['on'](_0x17c63b,_0x435a79){const _0x1abd90=a9_0x15b331;if(this[_0x1abd90(0xe6)][_0x17c63b]==undefined)this[_0x1abd90(0xe6)][_0x17c63b]=[];this[_0x1abd90(0xe6)][_0x17c63b][_0x1abd90(0xe0)](_0x435a79);}[a9_0x15b331(0xdd)](_0x4201bb,_0x27f10e){const _0x593cba=a9_0x15b331;if(_0x27f10e==undefined){this[_0x593cba(0xe6)][_0x4201bb]=[];return;}const _0x5b9d10=this[_0x593cba(0xe6)][_0x4201bb],_0x4e8517=(_0x5b9d10!==null&&_0x5b9d10!==void 0x0?_0x5b9d10:[])[_0x593cba(0x107)](_0x11a037=>_0x11a037===_0x27f10e);if(_0x4e8517===-0x1)throw new Error(_0x593cba(0x10f)+_0x4201bb+_0x593cba(0xff));_0x5b9d10['splice'](_0x4e8517,0x1);}[a9_0x15b331(0xcd)](_0x44c01a,_0x7881ae){const _0x5760c9=a9_0x15b331;var _0x26346b;const _0x488fd0=(_0x26346b=this[_0x5760c9(0xe6)][_0x44c01a])!==null&&_0x26346b!==void 0x0?_0x26346b:[];for(const _0x1ab35a of _0x488fd0){_0x1ab35a(_0x7881ae);}}static[a9_0x15b331(0xc4)](_0x41358b,_0x2e0d13){const _0x41a786=a9_0x15b331,_0x3c0e2b=_0x41358b[_0x41a786(0xd7)][_0x41a786(0x10a)];if(_0x3c0e2b==undefined)return _0x2e0d13[_0x41a786(0x103)](),null;const _0x4ee382=a9_0x39f92a['createHash'](_0x41a786(0xd1));_0x4ee382[_0x41a786(0x100)](_0x3c0e2b+_0x41a786(0xd6));const _0x546360=_0x4ee382[_0x41a786(0xf3)](_0x41a786(0xdf)),_0x2b8a14=[_0x41a786(0xbb),_0x41a786(0x10b),'Connection:\x20Upgrade',_0x41a786(0x104)+_0x546360];return _0x2e0d13['write'](_0x2b8a14[_0x41a786(0xfd)]('\x0d\x0a')+_0x41a786(0xbf)),new Socket(_0x2e0d13);}}function a9_0x3c30(){const _0x52ac50=['includes','9546MyeVuR','send','open','fromUpgradeRequest','pong','readUInt8',';\x20This\x20is\x20non-standard:\x20someone\x20is\x20trying\x20to\x20hack\x20the\x20protocol?','Timeout','write','pendingRequests','length','close','raise','randomUUID','data','checkHeartbeat','sha1','text','pingRequests','encode','writeUInt16BE','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','headers','next','readBigUInt64BE','Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.','requestId','closed','off','error','base64','push','699156IGsNYC','toString','Received\x20a\x20request\x20with\x20callback\x20for\x20the\x20event\x20','Received\x20message\x20with\x20unsupported\x20opcode:\x20','utf-8','handlers','pingInterval','slice','decode','binary','closing','copy','1013200MvEHKb','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.','disconnect','\x20but\x20no\x20handler\x20return\x20a\x20result','handshake','digest','socket','once','from','626250ohLVRv','readUInt16BE','value','Received\x20a\x20response\x20for\x20the\x20id\x20','Received\x20non-standard\x20text\x20message:\x20','emit','join','alloc','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','update','stringify','throw','destroy','Sec-WebSocket-Accept:\x20','888hcWHHh','pingTimeout','findIndex','call','status','sec-websocket-key','Upgrade:\x20websocket','\x20but\x20no\x20pending\x20request\x20was\x20found','895wqsnZP','end','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping','3781953UmMfjL','done','Received\x20a\x20request\x20with\x20eventName\x20','parse','17433xcDeOy','HTTP/1.1\x20101\x20Switching\x20Protocols','concat','297624DqzqxQ','ping','\x0d\x0a\x0d\x0a'];a9_0x3c30=function(){return _0x52ac50;};return a9_0x3c30();}