const a11_0xf0212=a11_0x59a9;(function(_0x472a16,_0x4f5696){const _0xfd69af=a11_0x59a9,_0x3930df=_0x472a16();while(!![]){try{const _0x57c106=parseInt(_0xfd69af(0x1d4))/0x1*(-parseInt(_0xfd69af(0x1f0))/0x2)+-parseInt(_0xfd69af(0x1c9))/0x3*(parseInt(_0xfd69af(0x1c3))/0x4)+parseInt(_0xfd69af(0x1f4))/0x5+parseInt(_0xfd69af(0x1f6))/0x6+parseInt(_0xfd69af(0x1cc))/0x7*(parseInt(_0xfd69af(0x1ae))/0x8)+parseInt(_0xfd69af(0x1d1))/0x9*(parseInt(_0xfd69af(0x1cd))/0xa)+-parseInt(_0xfd69af(0x1e8))/0xb;if(_0x57c106===_0x4f5696)break;else _0x3930df['push'](_0x3930df['shift']());}catch(_0x579bc0){_0x3930df['push'](_0x3930df['shift']());}}}(a11_0x5466,0xc9e07));var __awaiter=this&&this[a11_0xf0212(0x1c7)]||function(_0x5751df,_0x51fb6c,_0xe9c93b,_0x107037){function _0xaa9738(_0x52b8f1){return _0x52b8f1 instanceof _0xe9c93b?_0x52b8f1:new _0xe9c93b(function(_0x3b48c2){_0x3b48c2(_0x52b8f1);});}return new(_0xe9c93b||(_0xe9c93b=Promise))(function(_0x26d90f,_0x9225da){const _0x3bcb34=a11_0x59a9;function _0x3c55c3(_0x1c3904){try{_0x278889(_0x107037['next'](_0x1c3904));}catch(_0x3a043e){_0x9225da(_0x3a043e);}}function _0x594d60(_0x59f1e4){try{_0x278889(_0x107037['throw'](_0x59f1e4));}catch(_0x2a6f30){_0x9225da(_0x2a6f30);}}function _0x278889(_0x3f80e6){const _0x446ca2=a11_0x59a9;_0x3f80e6[_0x446ca2(0x1e9)]?_0x26d90f(_0x3f80e6[_0x446ca2(0x1d2)]):_0xaa9738(_0x3f80e6[_0x446ca2(0x1d2)])[_0x446ca2(0x1cb)](_0x3c55c3,_0x594d60);}_0x278889((_0x107037=_0x107037[_0x3bcb34(0x1ed)](_0x5751df,_0x51fb6c||[]))['next']());});};function a11_0x5466(){const _0x466841=['248684syZfwd','readUInt16BE','open','readBigUInt64BE','__awaiter','handlers','42VdrbPc','end','then','3251367yDEAjQ','5076380GHqjNu','update','The\x20websocket\x20is\x20not\x20connected','ping','18jkCWzd','value','Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.','438222iIuYOB','send','fromUpgradeRequest','Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.','join','createHash','_status','randomUUID','splice','concat','parse','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','close','set','Connection:\x20Upgrade','closing','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','socket','closed','raise','18631371AdMiCx','done','toString','includes','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','apply','pingRequests','from','4nqLVxi','text','HTTP/1.1\x20101\x20Switching\x20Protocols','base64','7232275NflAjS','handshake','2473872DgRtvQ','slice','length','status','encode','handle','digest','call','checkHeartbeat','push','findIndex','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22','stringify','sec-websocket-key','24Fpjftw','alloc','utf-8','pendingRequests','off','Sec-WebSocket-Accept:\x20','write','requestId','NaN','disconnect','Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping','destroy','Timeout','sha1','pingInterval','decode','headers','error','Upgrade:\x20websocket','data','binary'];a11_0x5466=function(){return _0x466841;};return a11_0x5466();}function a11_0x59a9(_0x53cd3e,_0x2ab1ae){const _0x546606=a11_0x5466();return a11_0x59a9=function(_0x59a934,_0x39b918){_0x59a934=_0x59a934-0x1a7;let _0x1a87cf=_0x546606[_0x59a934];return _0x1a87cf;},a11_0x59a9(_0x53cd3e,_0x2ab1ae);}import a11_0x3d2a31 from'crypto';export default class Socket{constructor(_0x55a05f){const _0x1fc7e1=a11_0xf0212;this[_0x1fc7e1(0x1e5)]=_0x55a05f,this[_0x1fc7e1(0x1da)]='handshake',this[_0x1fc7e1(0x1bc)]=0x5*0x3e8,this['pingTimeout']=0x2*0x3e8,this[_0x1fc7e1(0x1ee)]={},this[_0x1fc7e1(0x1b5)]=0x1,this[_0x1fc7e1(0x1b1)]={},this[_0x1fc7e1(0x1c1)]={},this[_0x1fc7e1(0x1c8)]={},this['socket']['on'](_0x1fc7e1(0x1c1),_0x3fae08=>this[_0x1fc7e1(0x1fb)](_0x3fae08)),this[_0x1fc7e1(0x1e5)]['on'](_0x1fc7e1(0x1bf),_0x3fd787=>this[_0x1fc7e1(0x1e7)](_0x1fc7e1(0x1bf),_0x3fd787));const _0x4dbeee=this[_0x1fc7e1(0x1fa)]({'pingInterval':this[_0x1fc7e1(0x1bc)]});this[_0x1fc7e1(0x1d5)](_0x1fc7e1(0x1c2),_0x4dbeee);}[a11_0xf0212(0x1b7)](){return __awaiter(this,arguments,void 0x0,function*(_0x53d744=0x3e8,_0x23fdf8='',_0x17ea6f=0x1388){return new Promise((_0x5eb92f,_0x56195d)=>{const _0x455978=a11_0x59a9,_0x2577d0=Buffer[_0x455978(0x1ef)](_0x23fdf8,_0x455978(0x1b0)),_0x2acd5e=Buffer[_0x455978(0x1af)](0x2+_0x2577d0[_0x455978(0x1f8)]);_0x2acd5e['writeUInt16BE'](_0x53d744,0x0),_0x2577d0['copy'](_0x2acd5e,0x2);const _0x3d907c=_0x2acd5e[_0x455978(0x1f8)],_0x4ad8be=_0x3d907c<0x7e?_0x3d907c:_0x3d907c<0x10000?0x7e:0x7f,_0x5b8943=_0x4ad8be===0x7e?Buffer[_0x455978(0x1ef)]([0x88,0x7e,_0x3d907c>>0x8&0xff,_0x3d907c&0xff]):_0x4ad8be===0x7f?Buffer[_0x455978(0x1ef)]([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x3d907c>>0x8&0xff,_0x3d907c&0xff]):Buffer[_0x455978(0x1ef)]([0x88,_0x3d907c]),_0x2000f9=Buffer['concat']([_0x5b8943,_0x2acd5e]);this[_0x455978(0x1e5)][_0x455978(0x1b4)](_0x2000f9),this[_0x455978(0x1da)]='closing';if(_0x17ea6f===null)this[_0x455978(0x1e5)]['end'](),this[_0x455978(0x1f9)]!==_0x455978(0x1e6)&&(this[_0x455978(0x1e7)](_0x455978(0x1e0),{'code':_0x53d744,'reason':_0x23fdf8}),this[_0x455978(0x1da)]='closed'),_0x5eb92f();else{let _0x14e96f=!![];this[_0x455978(0x1e5)]['once'](_0x455978(0x1c1),_0x4b1ba4=>{const _0x5bc545=_0x455978;if(!_0x14e96f)return;_0x4b1ba4[0x0]===0x88?(this[_0x5bc545(0x1da)]='closed',this[_0x5bc545(0x1e5)][_0x5bc545(0x1ca)](),this['raise'](_0x5bc545(0x1e0),{'code':_0x53d744,'reason':_0x23fdf8}),_0x5eb92f()):_0x56195d(new Error(_0x5bc545(0x1d3)));}),setTimeout(()=>{const _0x2d4304=_0x455978;_0x14e96f=![],_0x56195d(new Error(_0x2d4304(0x1d7))),this['socket'][_0x2d4304(0x1ca)]();},_0x17ea6f);}});});}get[a11_0xf0212(0x1f9)](){const _0x5a83ca=a11_0xf0212;return this[_0x5a83ca(0x1da)];}[a11_0xf0212(0x1d5)](_0x166462,_0x4e7827){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x495e20=a11_0x59a9;let _0x431981,_0x23cdf4;switch(_0x166462){case _0x495e20(0x1f1):_0x431981=Buffer[_0x495e20(0x1ef)](_0x4e7827,_0x495e20(0x1b0)),_0x23cdf4=0x1;break;case _0x495e20(0x1c2):_0x431981=_0x4e7827,_0x23cdf4=0x2;break;case _0x495e20(0x1d0):_0x431981=_0x4e7827,_0x23cdf4=0x9;break;case'pong':_0x431981=_0x4e7827,_0x23cdf4=0xa;break;}const _0x548e79=[];if(_0x431981[_0x495e20(0x1f8)]<0x7e)_0x548e79[_0x495e20(0x1a9)](_0x431981['length']);else{if(_0x431981[_0x495e20(0x1f8)]<0x10000)_0x548e79['push'](0x7e,_0x431981[_0x495e20(0x1f8)]>>0x8&0xff,_0x431981[_0x495e20(0x1f8)]&0xff);else{_0x548e79['push'](0x7f);for(let _0x70b2dd=0x7;_0x70b2dd>=0x0;_0x70b2dd--)_0x548e79['push'](_0x431981[_0x495e20(0x1f8)]>>_0x70b2dd*0x8&0xff);}}const _0x49e7aa=Buffer[_0x495e20(0x1dd)]([Buffer['from']([0x80|_0x23cdf4,..._0x548e79]),_0x431981]);return new Promise((_0x42c777,_0x20ac54)=>{const _0x2b1499=_0x495e20;this[_0x2b1499(0x1e5)]['write'](_0x49e7aa,undefined,_0x773e3a=>{if(_0x773e3a!=undefined)return _0x20ac54(_0x773e3a);_0x42c777();});});});}['emit'](_0x3c2bf3,_0x4f7071,_0x4a4219){return __awaiter(this,arguments,void 0x0,function*(_0x446090,_0x2d4276,_0xa10eba,_0x307900=0x5*0x3e8){const _0x206194=a11_0x59a9;if(this[_0x206194(0x1e5)]==undefined||this[_0x206194(0x1f9)]!==_0x206194(0x1c5))throw new Error(_0x206194(0x1cf));if([_0x206194(0x1f5),_0x206194(0x1c5),'error',_0x206194(0x1e0),'*'][_0x206194(0x1eb)](_0x446090))throw new Error(_0x206194(0x1ab));const _0x17cafd=new TextEncoder()[_0x206194(0x1fa)](_0x446090);if(_0x17cafd['length']>0xff)throw new Error(_0x206194(0x1df));const _0x1d3944=this[_0x206194(0x1b5)];if(_0xa10eba!=undefined){this['requestId']=(this['requestId']+0x1)%0x100;const _0x464f14=setTimeout(()=>{const _0x15ff12=_0x206194;delete this[_0x15ff12(0x1b1)][_0x1d3944],_0xa10eba(new Error(_0x15ff12(0x1ba)));},_0x307900);this[_0x206194(0x1b1)][_0x1d3944]=_0x26020d=>{if(!(_0x26020d instanceof Error))clearTimeout(_0x464f14);_0xa10eba(_0x26020d);};}const _0x441f47=this[_0x206194(0x1fa)](_0x2d4276),_0x52d078=new Uint8Array(0x2+(_0xa10eba==undefined?0x0:0x1)+_0x17cafd[_0x206194(0x1f8)]+_0x441f47['length']);_0x52d078[0x0]=_0xa10eba==undefined?0x2:0x3;if(_0xa10eba!=undefined)_0x52d078[0x1]=_0x1d3944;return _0x52d078[0x1+(_0xa10eba!=undefined?0x1:0x0)]=_0x17cafd[_0x206194(0x1f8)],_0x52d078[_0x206194(0x1e1)](_0x17cafd,0x2+(_0xa10eba!=undefined?0x1:0x0)),_0x52d078[_0x206194(0x1e1)](_0x441f47,0x2+(_0xa10eba!=undefined?0x1:0x0)+_0x17cafd[_0x206194(0x1f8)]),this['send']('binary',_0x52d078);});}[a11_0xf0212(0x1fb)](_0x38336b){const _0x4c3cde=a11_0xf0212;var _0x3776af,_0x5ea769;const _0x30ce43=_0x38336b[0x0],_0x204b87=(_0x30ce43&0x80)!==0x0,_0xf334b0=_0x30ce43&0xf,_0x958671=_0x38336b[0x1],_0x5c5749=(_0x958671&0x80)!==0x0;let _0x1cf104=_0x958671&0x7f,_0x3db29d=0x2;if(_0x1cf104===0x7e)_0x1cf104=_0x38336b[_0x4c3cde(0x1c4)](_0x3db29d),_0x3db29d+=0x2;else _0x1cf104===0x7f&&(_0x1cf104=Number(_0x38336b[_0x4c3cde(0x1c6)](_0x3db29d)),_0x3db29d+=0x8);const _0x30b116=_0x5c5749?_0x38336b[_0x4c3cde(0x1f7)](_0x3db29d,_0x3db29d+0x4):Buffer[_0x4c3cde(0x1af)](0x0);if(_0x5c5749)_0x3db29d+=0x4;let _0x3d5a6d=_0x38336b[_0x4c3cde(0x1f7)](_0x3db29d,_0x3db29d+_0x1cf104);if(_0x5c5749){const _0x1cb8fe=Buffer[_0x4c3cde(0x1af)](_0x3d5a6d[_0x4c3cde(0x1f8)]);for(let _0x1c64af=0x0;_0x1c64af<_0x3d5a6d[_0x4c3cde(0x1f8)];_0x1c64af++)_0x1cb8fe[_0x1c64af]=_0x3d5a6d[_0x1c64af]^_0x30b116[_0x1c64af%0x4];_0x3d5a6d=_0x1cb8fe;}switch(_0xf334b0){case 0x1:this[_0x4c3cde(0x1e7)](_0x4c3cde(0x1bf),new Error('Received\x20non-standard\x20text\x20message:\x20'+_0x3d5a6d[_0x4c3cde(0x1ea)](_0x4c3cde(0x1b0))));break;case 0x2:{if(this[_0x4c3cde(0x1da)]==='handshake'){const _0x4a8ad0=this[_0x4c3cde(0x1bd)](_0x3d5a6d);this[_0x4c3cde(0x1e7)](_0x4c3cde(0x1f5),_0x4a8ad0),this[_0x4c3cde(0x1da)]='open',this[_0x4c3cde(0x1d5)](_0x4c3cde(0x1c2),Buffer[_0x4c3cde(0x1af)](0x0)),this[_0x4c3cde(0x1a8)]();return;}const _0x1cee55=_0x3d5a6d[0x0];switch(_0x1cee55){case 0x0:{_0x3d5a6d[0x0]=0x1,this[_0x4c3cde(0x1d5)]('binary',_0x3d5a6d);break;}case 0x1:{const _0x17d095=_0x3d5a6d[_0x4c3cde(0x1f7)](0x1)[_0x4c3cde(0x1ea)](_0x4c3cde(0x1b0)),_0x5572ac=this['pingRequests'][_0x17d095];if(_0x5572ac==undefined){this[_0x4c3cde(0x1e7)](_0x4c3cde(0x1bf),new Error(_0x4c3cde(0x1b8)));return;}_0x5572ac();break;}case 0x2:case 0x3:{const _0x53f6c1=_0x1cee55===0x2?Number[_0x4c3cde(0x1b6)]:_0x3d5a6d[0x1],_0x2631a0=_0x1cee55===0x2?0x0:0x1,_0x9f38b9=_0x3d5a6d[0x1+_0x2631a0],_0x1c49af=new TextDecoder()[_0x4c3cde(0x1bd)](_0x3d5a6d[_0x4c3cde(0x1f7)](0x2+_0x2631a0,0x2+_0x2631a0+_0x9f38b9));if([_0x4c3cde(0x1f5),_0x4c3cde(0x1c5),_0x4c3cde(0x1bf),_0x4c3cde(0x1e0),'*']['includes'](_0x1c49af))return;const _0x3c88c=this[_0x4c3cde(0x1bd)](_0x3d5a6d[_0x4c3cde(0x1f7)](0x2+_0x2631a0+_0x9f38b9)),_0x8a6ec=(_0x3776af=this[_0x4c3cde(0x1c8)][_0x1c49af])!==null&&_0x3776af!==void 0x0?_0x3776af:[];let _0x5217c0=![];for(const _0x5e9602 of _0x8a6ec){const _0x24733c=_0x5e9602[_0x4c3cde(0x1a7)](undefined,_0x3c88c);if(!_0x5217c0&&_0x24733c!==undefined&&_0x53f6c1!==0x0){_0x5217c0=!![];const _0x466983=Buffer[_0x4c3cde(0x1dd)]([Buffer['from']([0x4,_0x53f6c1]),this[_0x4c3cde(0x1fa)](_0x24733c)]);this[_0x4c3cde(0x1d5)](_0x4c3cde(0x1c2),_0x466983);}}const _0x22b836=(_0x5ea769=this[_0x4c3cde(0x1c8)]['*'])!==null&&_0x5ea769!==void 0x0?_0x5ea769:[];for(const _0x5139f8 of _0x22b836)_0x5139f8[_0x4c3cde(0x1a7)](undefined,_0x1c49af,_0x3c88c);if(!_0x5217c0&&_0x1cee55===0x3){}break;}case 0x4:{const _0x4acf8c=_0x3d5a6d[0x1],_0x35f5ee=this[_0x4c3cde(0x1b1)][_0x4acf8c];if(_0x35f5ee==undefined)return;const _0x2f3009=this[_0x4c3cde(0x1bd)](_0x3d5a6d[_0x4c3cde(0x1f7)](0x2));_0x35f5ee(_0x2f3009);break;}}break;}case 0x9:this[_0x4c3cde(0x1d5)]('pong',_0x3d5a6d);break;case 0xa:break;case 0x8:if(this[_0x4c3cde(0x1da)]===_0x4c3cde(0x1e3))return;let _0x424e1c=0x3e8,_0x205613='';_0x3d5a6d['length']>=0x2&&(_0x424e1c=_0x3d5a6d['readUInt16BE'](0x0),_0x205613=_0x3d5a6d[_0x4c3cde(0x1f7)](0x2)[_0x4c3cde(0x1ea)]('utf-8'));this[_0x4c3cde(0x1b7)](_0x424e1c,_0x205613,null);break;default:this['raise'](_0x4c3cde(0x1bf),new Error('Received\x20message\x20with\x20unsupported\x20opcode:\x20'+_0xf334b0));}}['encode'](_0x432557){const _0x9e8622=a11_0xf0212;return Buffer[_0x9e8622(0x1ef)](JSON[_0x9e8622(0x1ac)](_0x432557),_0x9e8622(0x1b0));}[a11_0xf0212(0x1bd)](_0x1027a2){const _0x5e3df4=a11_0xf0212;return JSON[_0x5e3df4(0x1de)](_0x1027a2[_0x5e3df4(0x1ea)](_0x5e3df4(0x1b0)));}[a11_0xf0212(0x1a8)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0xbeb64e,_0x1207f7)=>{const _0xa88fd4=a11_0x59a9;if(this[_0xa88fd4(0x1da)]!==_0xa88fd4(0x1c5))return;const _0x18c9b1=a11_0x3d2a31[_0xa88fd4(0x1db)](),_0x805193=setTimeout(()=>{const _0x2f5091=_0xa88fd4;delete this['pingRequests'][_0x18c9b1];if(![_0x2f5091(0x1e3),_0x2f5091(0x1e6)][_0x2f5091(0x1eb)](this[_0x2f5091(0x1f9)]))this[_0x2f5091(0x1b7)](0x3e8,'',null);_0xbeb64e(![]);},this['pingTimeout']);this[_0xa88fd4(0x1ee)][_0x18c9b1]=()=>{const _0x3915aa=_0xa88fd4;delete this[_0x3915aa(0x1ee)][_0x18c9b1],clearTimeout(_0x805193),_0xbeb64e(!![]),setTimeout(()=>{const _0x31bedf=_0x3915aa;if(this[_0x31bedf(0x1da)]!==_0x31bedf(0x1c5))return;this['checkHeartbeat']();},this[_0x3915aa(0x1bc)]);},this['send']('binary',Buffer[_0xa88fd4(0x1dd)]([Buffer[_0xa88fd4(0x1ef)]([0x0]),Buffer['from'](_0x18c9b1)]));});});}['on'](_0x58eb8e,_0x5b33a9){const _0x2a72ec=a11_0xf0212;if(this[_0x2a72ec(0x1c8)][_0x58eb8e]==undefined)this[_0x2a72ec(0x1c8)][_0x58eb8e]=[];this[_0x2a72ec(0x1c8)][_0x58eb8e][_0x2a72ec(0x1a9)](_0x5b33a9);}[a11_0xf0212(0x1b2)](_0x2f3987,_0x28d3f8){const _0x293bbd=a11_0xf0212;if(_0x28d3f8==undefined){this[_0x293bbd(0x1c8)][_0x2f3987]=[];return;}const _0x9d8a2c=this['handlers'][_0x2f3987],_0x328a0b=(_0x9d8a2c!==null&&_0x9d8a2c!==void 0x0?_0x9d8a2c:[])[_0x293bbd(0x1aa)](_0x20d4a3=>_0x20d4a3===_0x28d3f8);if(_0x328a0b===-0x1)throw new Error(_0x293bbd(0x1ec)+_0x2f3987+_0x293bbd(0x1e4));_0x9d8a2c[_0x293bbd(0x1dc)](_0x328a0b,0x1);}[a11_0xf0212(0x1e7)](_0x3a6b95,_0x2f66ba){const _0x979c79=a11_0xf0212;var _0x218279,_0x53bb0a;const _0x1e1419=(_0x218279=this['handlers'][_0x3a6b95])!==null&&_0x218279!==void 0x0?_0x218279:[];for(const _0x56d103 of _0x1e1419)_0x56d103(_0x2f66ba);const _0x3cb7d6=(_0x53bb0a=this[_0x979c79(0x1c8)]['*'])!==null&&_0x53bb0a!==void 0x0?_0x53bb0a:[];for(const _0x45f5b2 of _0x3cb7d6)_0x45f5b2(_0x3a6b95,_0x2f66ba);}static[a11_0xf0212(0x1d6)](_0x4bcafa,_0x2a6f03){const _0x5c42b2=a11_0xf0212,_0x11f839=_0x4bcafa[_0x5c42b2(0x1be)][_0x5c42b2(0x1ad)];if(_0x11f839==undefined)return _0x2a6f03[_0x5c42b2(0x1b9)](),null;const _0x29fa81=a11_0x3d2a31[_0x5c42b2(0x1d9)](_0x5c42b2(0x1bb));_0x29fa81[_0x5c42b2(0x1ce)](_0x11f839+'258EAFA5-E914-47DA-95CA-C5AB0DC85B11');const _0x6646fe=_0x29fa81[_0x5c42b2(0x1fc)](_0x5c42b2(0x1f3)),_0x14367e=[_0x5c42b2(0x1f2),_0x5c42b2(0x1c0),_0x5c42b2(0x1e2),_0x5c42b2(0x1b3)+_0x6646fe];return _0x2a6f03['write'](_0x14367e[_0x5c42b2(0x1d8)]('\x0d\x0a')+'\x0d\x0a\x0d\x0a'),new Socket(_0x2a6f03);}}