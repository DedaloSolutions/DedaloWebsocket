const a9_0x206255=a9_0xc633;(function(_0x1f342c,_0x371ba0){const _0x556554=a9_0xc633,_0x1b32c1=_0x1f342c();while(!![]){try{const _0x1ceede=-parseInt(_0x556554(0x1d3))/0x1+parseInt(_0x556554(0x1bf))/0x2*(parseInt(_0x556554(0x19c))/0x3)+-parseInt(_0x556554(0x1b0))/0x4*(parseInt(_0x556554(0x19b))/0x5)+-parseInt(_0x556554(0x18f))/0x6*(parseInt(_0x556554(0x19f))/0x7)+parseInt(_0x556554(0x191))/0x8*(parseInt(_0x556554(0x184))/0x9)+-parseInt(_0x556554(0x1c0))/0xa*(parseInt(_0x556554(0x19a))/0xb)+parseInt(_0x556554(0x1bc))/0xc;if(_0x1ceede===_0x371ba0)break;else _0x1b32c1['push'](_0x1b32c1['shift']());}catch(_0x5212d7){_0x1b32c1['push'](_0x1b32c1['shift']());}}}(a9_0x46d1,0x1e72e));var __awaiter=this&&this['__awaiter']||function(_0x2c20ca,_0x2e4894,_0x2d4a8d,_0x351ee0){function _0x191834(_0x5b3f8c){return _0x5b3f8c instanceof _0x2d4a8d?_0x5b3f8c:new _0x2d4a8d(function(_0x2d9490){_0x2d9490(_0x5b3f8c);});}return new(_0x2d4a8d||(_0x2d4a8d=Promise))(function(_0x3daeb2,_0x138bff){const _0x133bfe=a9_0xc633;function _0x1f9e9d(_0x48cb96){const _0x204c71=a9_0xc633;try{_0xfb680b(_0x351ee0[_0x204c71(0x1b6)](_0x48cb96));}catch(_0x256430){_0x138bff(_0x256430);}}function _0x584b11(_0x3ea92b){const _0x4c537d=a9_0xc633;try{_0xfb680b(_0x351ee0[_0x4c537d(0x18e)](_0x3ea92b));}catch(_0x549c5a){_0x138bff(_0x549c5a);}}function _0xfb680b(_0x3d0262){const _0x55b845=a9_0xc633;_0x3d0262[_0x55b845(0x1d2)]?_0x3daeb2(_0x3d0262['value']):_0x191834(_0x3d0262['value'])[_0x55b845(0x1c6)](_0x1f9e9d,_0x584b11);}_0xfb680b((_0x351ee0=_0x351ee0[_0x133bfe(0x197)](_0x2c20ca,_0x2e4894||[]))[_0x133bfe(0x1b6)]());});};function a9_0xc633(_0x55f8ac,_0x57fb7c){const _0x46d13=a9_0x46d1();return a9_0xc633=function(_0xc63389,_0x5ba053){_0xc63389=_0xc63389-0x182;let _0x5202c9=_0x46d13[_0xc63389];return _0x5202c9;},a9_0xc633(_0x55f8ac,_0x57fb7c);}import a9_0xa1abf5 from'crypto';function a9_0x46d1(){const _0x249420=['error','checkHeartbeat','sha1','includes','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','pong','HTTP/1.1\x20101\x20Switching\x20Protocols','throw','991272JeEEMV','copy','14480Apcand','requestId','pendingRequests','send','push','readUInt16BE','apply','slice','locals','8195qjHFzV','65QXlTYt','54dFWJvk','off','open','7YqXZIw','writeUInt16BE','concat','splice','write','handle','call','length','\x0d\x0a\x0d\x0a','text','base64','data','socket','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','encode','from','Received\x20non-standard\x20text\x20message:\x20','7556GRxRWx','alloc','ping','\x20but\x20no\x20pending\x20request\x20was\x20found','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','once','next','closed','closing','toString','close','The\x20websocket\x20is\x20not\x20connected','5991384JmFLmf','handlers','digest','20722mruicx','3020JPJXka','destroy','findIndex','Timeout','disconnect','join','then','handshake','headers','pingTimeout','decode','Connection:\x20Upgrade','Upgrade:\x20websocket','update','end','parse','Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping','pingInterval','done','184313xEGEMU','createHash','sec-websocket-key','raise','readBigUInt64BE','Received\x20a\x20request\x20with\x20callback\x20for\x20the\x20event\x20','Received\x20a\x20request\x20with\x20eventName\x20',';\x20This\x20is\x20non-standard:\x20someone\x20is\x20trying\x20to\x20hack\x20the\x20protocol?','utf-8','binary','pingRequests','189VegyVj','emit','status'];a9_0x46d1=function(){return _0x249420;};return a9_0x46d1();}export default class Socket{constructor(_0x22482f){const _0x4f3f69=a9_0xc633;this['socket']=_0x22482f,this[_0x4f3f69(0x186)]=_0x4f3f69(0x1c7),this[_0x4f3f69(0x1d1)]=0x5*0x3e8,this[_0x4f3f69(0x1c9)]=0x2*0x3e8,this[_0x4f3f69(0x183)]={},this[_0x4f3f69(0x192)]=0x1,this[_0x4f3f69(0x193)]={},this[_0x4f3f69(0x199)]={},this[_0x4f3f69(0x1bd)]={},this[_0x4f3f69(0x1ab)]['on'](_0x4f3f69(0x1aa),_0x15659a=>this['handle'](_0x15659a)),this[_0x4f3f69(0x1ab)]['on']('error',_0xc01e6b=>this[_0x4f3f69(0x1d6)](_0x4f3f69(0x187),_0xc01e6b)),this[_0x4f3f69(0x1ab)]['on'](_0x4f3f69(0x1ba),()=>{}),this['checkHeartbeat']();const _0x3c9e4d=this[_0x4f3f69(0x1ad)]({'pingInterval':this[_0x4f3f69(0x1d1)]});this[_0x4f3f69(0x194)](_0x4f3f69(0x182),_0x3c9e4d);}[a9_0x206255(0x1c4)](){return __awaiter(this,arguments,void 0x0,function*(_0x2d514b=0x3e8,_0x2c64b6='',_0x1e29a6=0x1388){return new Promise((_0x3a68fc,_0x4b5627)=>{const _0x1ef642=a9_0xc633,_0x431f98=Buffer[_0x1ef642(0x1ae)](_0x2c64b6,_0x1ef642(0x1db)),_0x2dab52=Buffer[_0x1ef642(0x1b1)](0x2+_0x431f98[_0x1ef642(0x1a6)]);_0x2dab52[_0x1ef642(0x1a0)](_0x2d514b,0x0),_0x431f98[_0x1ef642(0x190)](_0x2dab52,0x2);const _0x21abc8=_0x2dab52[_0x1ef642(0x1a6)],_0x3a5e13=_0x21abc8<0x7e?_0x21abc8:_0x21abc8<0x10000?0x7e:0x7f,_0x4b63e3=_0x3a5e13===0x7e?Buffer[_0x1ef642(0x1ae)]([0x88,0x7e,_0x21abc8>>0x8&0xff,_0x21abc8&0xff]):_0x3a5e13===0x7f?Buffer[_0x1ef642(0x1ae)]([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x21abc8>>0x8&0xff,_0x21abc8&0xff]):Buffer[_0x1ef642(0x1ae)]([0x88,_0x21abc8]),_0x153c38=Buffer[_0x1ef642(0x1a1)]([_0x4b63e3,_0x2dab52]);this[_0x1ef642(0x1ab)]['write'](_0x153c38),this['status']=_0x1ef642(0x1b8);if(_0x1e29a6===null)this[_0x1ef642(0x186)]=_0x1ef642(0x1b7),this['socket'][_0x1ef642(0x1ce)](),this[_0x1ef642(0x1d6)]('close',{'code':_0x2d514b,'reason':_0x2c64b6}),_0x3a68fc();else{let _0x2de5d3=!![];this[_0x1ef642(0x1ab)][_0x1ef642(0x1b5)](_0x1ef642(0x1aa),_0x2b0391=>{const _0x5893a2=_0x1ef642;if(!_0x2de5d3)return;_0x2b0391[0x0]===0x88?(this['status']=_0x5893a2(0x1b7),this[_0x5893a2(0x1ab)][_0x5893a2(0x1ce)](),this['raise'](_0x5893a2(0x1ba),{'code':_0x2d514b,'reason':_0x2c64b6}),_0x3a68fc()):_0x4b5627(new Error('Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.'));}),setTimeout(()=>{const _0x4a1dbb=_0x1ef642;_0x2de5d3=![],_0x4b5627(new Error('Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.')),this[_0x4a1dbb(0x1ab)][_0x4a1dbb(0x1ce)]();},_0x1e29a6);}});});}[a9_0x206255(0x194)](_0x48959f,_0x37cee2){const _0x217f5c=a9_0x206255;let _0x30f717,_0xce5b89;switch(_0x48959f){case _0x217f5c(0x1a8):_0x30f717=Buffer[_0x217f5c(0x1ae)](_0x37cee2,_0x217f5c(0x1db)),_0xce5b89=0x1;break;case _0x217f5c(0x182):_0x30f717=_0x37cee2,_0xce5b89=0x2;break;case _0x217f5c(0x1b2):_0x30f717=_0x37cee2,_0xce5b89=0x9;break;case'pong':_0x30f717=_0x37cee2,_0xce5b89=0xa;break;}const _0x445672=[];if(_0x30f717[_0x217f5c(0x1a6)]<0x7e)_0x445672[_0x217f5c(0x195)](_0x30f717[_0x217f5c(0x1a6)]);else{if(_0x30f717[_0x217f5c(0x1a6)]<0x10000)_0x445672[_0x217f5c(0x195)](0x7e,_0x30f717[_0x217f5c(0x1a6)]>>0x8&0xff,_0x30f717[_0x217f5c(0x1a6)]&0xff);else{_0x445672[_0x217f5c(0x195)](0x7f);for(let _0x277543=0x7;_0x277543>=0x0;_0x277543--)_0x445672[_0x217f5c(0x195)](_0x30f717[_0x217f5c(0x1a6)]>>_0x277543*0x8&0xff);}}const _0x372ec6=Buffer[_0x217f5c(0x1a1)]([Buffer['from']([0x80|_0xce5b89,..._0x445672]),_0x30f717]);this[_0x217f5c(0x1ab)]['write'](_0x372ec6);}[a9_0x206255(0x185)](_0x3a8478,_0x143039,_0x2f6630,_0x4fd377=0x32*0x3e8){const _0x415728=a9_0x206255;if(this['socket']==undefined||this[_0x415728(0x186)]!==_0x415728(0x19e))throw new Error(_0x415728(0x1bb));if([_0x415728(0x1c7),'open','error',_0x415728(0x1ba)][_0x415728(0x18a)](_0x3a8478))throw new Error('Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handskake,\x20open,\x20error\x20or\x20close');const _0x4310f7=_0x2f6630==undefined?0x0:this[_0x415728(0x192)],_0xcbe7dc=Buffer[_0x415728(0x1ae)](_0x3a8478,_0x415728(0x1db));if(_0xcbe7dc['length']>0xff)throw new Error(_0x415728(0x1ac));if(_0x2f6630!=undefined){this[_0x415728(0x192)]=(this[_0x415728(0x192)]+0x1)%0x80||0x1;const _0x4739b=setTimeout(()=>{const _0x40e054=_0x415728;delete this[_0x40e054(0x193)][_0x4310f7],_0x2f6630(new Error(_0x40e054(0x1c3)));},_0x4fd377);this[_0x415728(0x193)][_0x4310f7]=_0x1d8c4b=>{if(!(_0x1d8c4b instanceof Error))clearTimeout(_0x4739b);_0x2f6630(_0x1d8c4b);};}const _0x121df2=Buffer[_0x415728(0x1a1)]([Buffer[_0x415728(0x1ae)]([_0x4310f7|0x80,_0xcbe7dc[_0x415728(0x1a6)]]),_0xcbe7dc,this[_0x415728(0x1ad)](_0x143039)]);this[_0x415728(0x194)](_0x415728(0x182),_0x121df2);}[a9_0x206255(0x1a4)](_0x1dd415){const _0x24e1d3=a9_0x206255;var _0x509f17;const _0x4d267c=_0x1dd415[0x0],_0x47977b=(_0x4d267c&0x80)!==0x0,_0x1aa046=_0x4d267c&0xf,_0x4277dc=_0x1dd415[0x1],_0x51b015=(_0x4277dc&0x80)!==0x0;let _0xf9d95=_0x4277dc&0x7f,_0x245890=0x2;if(_0xf9d95===0x7e)_0xf9d95=_0x1dd415['readUInt16BE'](_0x245890),_0x245890+=0x2;else _0xf9d95===0x7f&&(_0xf9d95=Number(_0x1dd415[_0x24e1d3(0x1d7)](_0x245890)),_0x245890+=0x8);const _0x4e462f=_0x51b015?_0x1dd415[_0x24e1d3(0x198)](_0x245890,_0x245890+0x4):Buffer['alloc'](0x0);if(_0x51b015)_0x245890+=0x4;let _0x1694ea=_0x1dd415['slice'](_0x245890,_0x245890+_0xf9d95);if(_0x51b015){const _0x49bcf4=Buffer[_0x24e1d3(0x1b1)](_0x1694ea[_0x24e1d3(0x1a6)]);for(let _0x32a86f=0x0;_0x32a86f<_0x1694ea[_0x24e1d3(0x1a6)];_0x32a86f++)_0x49bcf4[_0x32a86f]=_0x1694ea[_0x32a86f]^_0x4e462f[_0x32a86f%0x4];_0x1694ea=_0x49bcf4;}switch(_0x1aa046){case 0x1:this[_0x24e1d3(0x1d6)](_0x24e1d3(0x187),new Error(_0x24e1d3(0x1af)+_0x1694ea[_0x24e1d3(0x1b9)](_0x24e1d3(0x1db))));break;case 0x2:{if(this['status']===_0x24e1d3(0x1c7)){const _0x5a3fb1=this[_0x24e1d3(0x1ca)](_0x1694ea);this[_0x24e1d3(0x1d6)]('handshake',_0x5a3fb1),this['status']=_0x24e1d3(0x19e),this[_0x24e1d3(0x194)](_0x24e1d3(0x182),Buffer[_0x24e1d3(0x1b1)](0x0));return;}const _0x490e67=_0x1694ea['readUInt8'](0x0),_0x2d5c1e=_0x490e67&0x7f,_0x7cde4d=(_0x490e67&0x80)!==0x0;if(_0x7cde4d){const _0xec8f47=_0x1694ea['readUInt8'](0x1),_0x2678de=_0x1694ea[_0x24e1d3(0x198)](0x2,0x2+_0xec8f47)['toString'](_0x24e1d3(0x1db));if([_0x24e1d3(0x1c7),_0x24e1d3(0x19e),_0x24e1d3(0x187),'close']['includes'](_0x2678de)){this[_0x24e1d3(0x1d6)]('error',new Error(_0x24e1d3(0x1d9)+_0x2678de+_0x24e1d3(0x1da)));return;}const _0x56772f=this[_0x24e1d3(0x1ca)](_0x1694ea['slice'](0x2+_0xec8f47)),_0x3ca759=(_0x509f17=this['handlers'][_0x2678de])!==null&&_0x509f17!==void 0x0?_0x509f17:[];let _0x119982=![];for(const _0x1e4350 of _0x3ca759){const _0xfeb7ab=_0x1e4350[_0x24e1d3(0x1a5)](undefined,_0x56772f);if(!_0x119982&&_0xfeb7ab!==undefined&&_0x2d5c1e!==0x0){_0x119982=!![];const _0x59d91e=Buffer[_0x24e1d3(0x1a1)]([Buffer[_0x24e1d3(0x1ae)]([_0x2d5c1e&0x7f]),this[_0x24e1d3(0x1ad)](_0xfeb7ab)]);this['send'](_0x24e1d3(0x182),_0x59d91e);}}if(!_0x119982&&_0x2d5c1e!==0x0)this[_0x24e1d3(0x1d6)](_0x24e1d3(0x187),new Error(_0x24e1d3(0x1d8)+_0x2678de+'\x20but\x20no\x20handler\x20return\x20a\x20result'));return;}const _0x5649d8=this[_0x24e1d3(0x193)][_0x2d5c1e];if(_0x5649d8==undefined){this['raise'](_0x24e1d3(0x187),new Error('Received\x20a\x20response\x20for\x20the\x20id\x20'+_0x2d5c1e+_0x24e1d3(0x1b3)));return;}const _0x3911ae=this[_0x24e1d3(0x1ca)](_0x1694ea[_0x24e1d3(0x198)](0x1));_0x5649d8[_0x24e1d3(0x1a5)](undefined,_0x3911ae);break;}case 0x9:this['send'](_0x24e1d3(0x18c),_0x1694ea);break;case 0xa:const _0x489587=_0x1694ea[_0x24e1d3(0x1b9)](_0x24e1d3(0x1db)),_0x4d5315=this[_0x24e1d3(0x183)][_0x489587];if(_0x4d5315==undefined){this[_0x24e1d3(0x1d6)]('error',new Error(_0x24e1d3(0x1d0)));return;}_0x4d5315();break;case 0x8:if(this[_0x24e1d3(0x186)]===_0x24e1d3(0x1b8))return;let _0x3ab5c4=0x3e8,_0x2a820b='';_0x1694ea[_0x24e1d3(0x1a6)]>=0x2&&(_0x3ab5c4=_0x1694ea[_0x24e1d3(0x196)](0x0),_0x2a820b=_0x1694ea[_0x24e1d3(0x198)](0x2)[_0x24e1d3(0x1b9)](_0x24e1d3(0x1db)));this['disconnect'](_0x3ab5c4,_0x2a820b,null);break;default:this[_0x24e1d3(0x1d6)]('error',new Error('Received\x20message\x20with\x20unsupported\x20opcode:\x20'+_0x1aa046));}}[a9_0x206255(0x1ad)](_0xcce3f6){const _0x5c7f8d=a9_0x206255;return Buffer[_0x5c7f8d(0x1ae)](JSON['stringify'](_0xcce3f6),_0x5c7f8d(0x1db));}['decode'](_0x480e6f){const _0x544fb9=a9_0x206255;return JSON[_0x544fb9(0x1cf)](_0x480e6f['toString'](_0x544fb9(0x1db)));}[a9_0x206255(0x188)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x18cc62,_0x54a7d4)=>{const _0x4ab226=a9_0xc633,_0x4643d4=a9_0xa1abf5['randomUUID'](),_0x35d025=setTimeout(()=>{const _0x3410be=a9_0xc633;delete this[_0x3410be(0x183)][_0x4643d4],this['disconnect'](0x3e8,'',null),_0x18cc62(![]);},this['pingTimeout']);this[_0x4ab226(0x183)][_0x4643d4]=()=>{const _0x2325a1=_0x4ab226;delete this[_0x2325a1(0x183)][_0x4643d4],clearTimeout(_0x35d025),_0x18cc62(!![]),setTimeout(()=>{const _0x137d1a=_0x2325a1;if(this[_0x137d1a(0x186)]!==_0x137d1a(0x19e))return;this[_0x137d1a(0x188)]();},this[_0x2325a1(0x1d1)]);},this[_0x4ab226(0x194)](_0x4ab226(0x1b2),Buffer[_0x4ab226(0x1ae)](_0x4643d4));});});}['on'](_0x398690,_0x4b6fe4){const _0x30c145=a9_0x206255;if(this['handlers'][_0x398690]==undefined)this[_0x30c145(0x1bd)][_0x398690]=[];this[_0x30c145(0x1bd)][_0x398690]['push'](_0x4b6fe4);}[a9_0x206255(0x19d)](_0x39284a,_0x55ae62){const _0x4bbb4f=a9_0x206255;if(_0x55ae62==undefined){this[_0x4bbb4f(0x1bd)][_0x39284a]=[];return;}const _0x4ef598=this[_0x4bbb4f(0x1bd)][_0x39284a],_0x14cf45=(_0x4ef598!==null&&_0x4ef598!==void 0x0?_0x4ef598:[])[_0x4bbb4f(0x1c2)](_0x5437cd=>_0x5437cd===_0x55ae62);if(_0x14cf45===-0x1)throw new Error(_0x4bbb4f(0x1b4)+_0x39284a+'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found');_0x4ef598[_0x4bbb4f(0x1a2)](_0x14cf45,0x1);}['raise'](_0x59aa17,_0x19e69c){const _0x44b34d=a9_0x206255;var _0x1c9eb9;const _0x29273d=(_0x1c9eb9=this[_0x44b34d(0x1bd)][_0x59aa17])!==null&&_0x1c9eb9!==void 0x0?_0x1c9eb9:[];for(const _0x5f1fb4 of _0x29273d){_0x5f1fb4(_0x19e69c);}}static['fromUpgradeRequest'](_0x19734c,_0x355b6e){const _0xda66b6=a9_0x206255,_0x56b8c8=_0x19734c[_0xda66b6(0x1c8)][_0xda66b6(0x1d5)];if(_0x56b8c8==undefined)return _0x355b6e[_0xda66b6(0x1c1)](),null;const _0x5b19fd=a9_0xa1abf5[_0xda66b6(0x1d4)](_0xda66b6(0x189));_0x5b19fd[_0xda66b6(0x1cd)](_0x56b8c8+_0xda66b6(0x18b));const _0x49878c=_0x5b19fd[_0xda66b6(0x1be)](_0xda66b6(0x1a9)),_0x268cd1=[_0xda66b6(0x18d),_0xda66b6(0x1cc),_0xda66b6(0x1cb),'Sec-WebSocket-Accept:\x20'+_0x49878c];return _0x355b6e[_0xda66b6(0x1a3)](_0x268cd1[_0xda66b6(0x1c5)]('\x0d\x0a')+_0xda66b6(0x1a7)),new Socket(_0x355b6e);}}