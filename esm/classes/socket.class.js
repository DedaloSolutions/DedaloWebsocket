const a9_0x4c3622=a9_0x3c9e;(function(_0x53fcb7,_0x40a27b){const _0xa951de=a9_0x3c9e,_0x50df35=_0x53fcb7();while(!![]){try{const _0x8121ad=parseInt(_0xa951de(0x1bf))/0x1+-parseInt(_0xa951de(0x1e7))/0x2+parseInt(_0xa951de(0x1d9))/0x3+parseInt(_0xa951de(0x1a7))/0x4*(parseInt(_0xa951de(0x1b0))/0x5)+parseInt(_0xa951de(0x1ea))/0x6+parseInt(_0xa951de(0x1a4))/0x7*(parseInt(_0xa951de(0x1d4))/0x8)+-parseInt(_0xa951de(0x1b7))/0x9;if(_0x8121ad===_0x40a27b)break;else _0x50df35['push'](_0x50df35['shift']());}catch(_0x2cc48c){_0x50df35['push'](_0x50df35['shift']());}}}(a9_0xef6b,0xc148f));function a9_0x3c9e(_0x35e9a3,_0x4ee27d){const _0xef6b89=a9_0xef6b();return a9_0x3c9e=function(_0x3c9e26,_0x2fe87d){_0x3c9e26=_0x3c9e26-0x19a;let _0x2bfb34=_0xef6b89[_0x3c9e26];return _0x2bfb34;},a9_0x3c9e(_0x35e9a3,_0x4ee27d);}var __awaiter=this&&this[a9_0x4c3622(0x1ed)]||function(_0x35e056,_0x40d02e,_0x562a7d,_0x2c6db5){function _0x503a9c(_0x2867ec){return _0x2867ec instanceof _0x562a7d?_0x2867ec:new _0x562a7d(function(_0x30da8d){_0x30da8d(_0x2867ec);});}return new(_0x562a7d||(_0x562a7d=Promise))(function(_0x250d9d,_0x17cc35){function _0x1cc34a(_0xc78508){const _0x167657=a9_0x3c9e;try{_0x399b9b(_0x2c6db5[_0x167657(0x1a6)](_0xc78508));}catch(_0x4d8861){_0x17cc35(_0x4d8861);}}function _0x281b16(_0x2c802a){try{_0x399b9b(_0x2c6db5['throw'](_0x2c802a));}catch(_0x2febe7){_0x17cc35(_0x2febe7);}}function _0x399b9b(_0x971278){const _0x59267d=a9_0x3c9e;_0x971278[_0x59267d(0x1cc)]?_0x250d9d(_0x971278[_0x59267d(0x19c)]):_0x503a9c(_0x971278[_0x59267d(0x19c)])[_0x59267d(0x1cb)](_0x1cc34a,_0x281b16);}_0x399b9b((_0x2c6db5=_0x2c6db5['apply'](_0x35e056,_0x40d02e||[]))['next']());});};function a9_0xef6b(){const _0x2df964=['closed','8YKZdFq','base64','writeUInt16BE','handshake','data','4243764SXeYAl',';\x20This\x20is\x20non-standard:\x20someone\x20is\x20trying\x20to\x20hack\x20the\x20protocol?','Timeout','ping','destroy','\x20but\x20no\x20pending\x20request\x20was\x20found','\x20but\x20no\x20handler\x20return\x20a\x20result','text','Received\x20non-standard\x20text\x20message:\x20','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','readUInt8','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','slice','end','31098MxTfEQ','pingTimeout','copy','3042240TDmemx','binary','Received\x20a\x20response\x20for\x20the\x20id\x20','__awaiter','push','open','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handskake,\x20open,\x20error\x20or\x20close','randomUUID','value','HTTP/1.1\x20101\x20Switching\x20Protocols','digest','Received\x20a\x20request\x20with\x20callback\x20for\x20the\x20event\x20','socket','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','closing','call','3518627TkHoOf','off','next','4MSOBAB','from','requestId','stringify','readBigUInt64BE','Upgrade:\x20websocket','raise','sha1','encode','4343225YaHDjo','readUInt16BE','includes','alloc','utf-8','handle','once','35243685LNqJMe','close','Received\x20a\x20request\x20with\x20eventName\x20','Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.','\x0d\x0a\x0d\x0a','join','error','status','1430275VGAEAz','The\x20websocket\x20is\x20not\x20connected','pingInterval','pingRequests','send','length','toString','checkHeartbeat','pendingRequests','handlers','decode','pong','then','done','Connection:\x20Upgrade','findIndex','concat','parse','write','fromUpgradeRequest'];a9_0xef6b=function(){return _0x2df964;};return a9_0xef6b();}import a9_0x40baf1 from'crypto';export default class Socket{constructor(_0x26958d){const _0x4146a6=a9_0x4c3622;this['socket']=_0x26958d,this['status']='handshake',this['pingInterval']=0x5*0x3e8,this['pingTimeout']=0x2*0x3e8,this[_0x4146a6(0x1c2)]={},this[_0x4146a6(0x1a9)]=0x1,this[_0x4146a6(0x1c7)]={},this[_0x4146a6(0x1d8)]={},this['handlers']={},this[_0x4146a6(0x1a0)]['on'](_0x4146a6(0x1d8),_0x5cf5f2=>this['handle'](_0x5cf5f2)),this['socket']['on'](_0x4146a6(0x1bd),_0x15aca0=>this[_0x4146a6(0x1ad)](_0x4146a6(0x1bd),_0x15aca0)),this[_0x4146a6(0x1a0)]['on'](_0x4146a6(0x1b8),()=>{}),this['checkHeartbeat']();const _0x133803=this['encode']({'pingInterval':this[_0x4146a6(0x1c1)]});this['send'](_0x4146a6(0x1eb),_0x133803);}['disconnect'](){return __awaiter(this,arguments,void 0x0,function*(_0x335a85=0x3e8,_0x38c3fd='',_0x55e9f0=0x1388){return new Promise((_0x1b8c6f,_0x5d30cf)=>{const _0xb22523=a9_0x3c9e,_0x44a4b6=Buffer[_0xb22523(0x1a8)](_0x38c3fd,_0xb22523(0x1b4)),_0x178959=Buffer[_0xb22523(0x1b3)](0x2+_0x44a4b6[_0xb22523(0x1c4)]);_0x178959[_0xb22523(0x1d6)](_0x335a85,0x0),_0x44a4b6[_0xb22523(0x1e9)](_0x178959,0x2);const _0x53e5c9=_0x178959[_0xb22523(0x1c4)],_0x1dd29d=_0x53e5c9<0x7e?_0x53e5c9:_0x53e5c9<0x10000?0x7e:0x7f,_0xdc1599=_0x1dd29d===0x7e?Buffer[_0xb22523(0x1a8)]([0x88,0x7e,_0x53e5c9>>0x8&0xff,_0x53e5c9&0xff]):_0x1dd29d===0x7f?Buffer[_0xb22523(0x1a8)]([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x53e5c9>>0x8&0xff,_0x53e5c9&0xff]):Buffer['from']([0x88,_0x53e5c9]),_0x3e2de6=Buffer[_0xb22523(0x1cf)]([_0xdc1599,_0x178959]);this[_0xb22523(0x1a0)][_0xb22523(0x1d1)](_0x3e2de6),this['status']=_0xb22523(0x1a2);if(_0x55e9f0===null)this[_0xb22523(0x1be)]='closed',this[_0xb22523(0x1a0)][_0xb22523(0x1e6)](),this[_0xb22523(0x1ad)](_0xb22523(0x1b8),{'code':_0x335a85,'reason':_0x38c3fd}),_0x1b8c6f();else{let _0x52db28=!![];this[_0xb22523(0x1a0)][_0xb22523(0x1b6)](_0xb22523(0x1d8),_0x278569=>{const _0x14969b=_0xb22523;if(!_0x52db28)return;_0x278569[0x0]===0x88?(this['status']=_0x14969b(0x1d3),this[_0x14969b(0x1a0)][_0x14969b(0x1e6)](),this[_0x14969b(0x1ad)](_0x14969b(0x1b8),{'code':_0x335a85,'reason':_0x38c3fd}),_0x1b8c6f()):_0x5d30cf(new Error(_0x14969b(0x1ba)));}),setTimeout(()=>{const _0x2c3322=_0xb22523;_0x52db28=![],_0x5d30cf(new Error('Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.')),this[_0x2c3322(0x1a0)][_0x2c3322(0x1e6)]();},_0x55e9f0);}});});}[a9_0x4c3622(0x1c3)](_0x42966a,_0x2460e0){const _0x20b83a=a9_0x4c3622;let _0x37c519,_0x2d1813;switch(_0x42966a){case _0x20b83a(0x1e0):_0x37c519=Buffer['from'](_0x2460e0,_0x20b83a(0x1b4)),_0x2d1813=0x1;break;case _0x20b83a(0x1eb):_0x37c519=_0x2460e0,_0x2d1813=0x2;break;case'ping':_0x37c519=_0x2460e0,_0x2d1813=0x9;break;case _0x20b83a(0x1ca):_0x37c519=_0x2460e0,_0x2d1813=0xa;break;}const _0x2ad98a=[];if(_0x37c519[_0x20b83a(0x1c4)]<0x7e)_0x2ad98a[_0x20b83a(0x1ee)](_0x37c519['length']);else{if(_0x37c519[_0x20b83a(0x1c4)]<0x10000)_0x2ad98a[_0x20b83a(0x1ee)](0x7e,_0x37c519['length']>>0x8&0xff,_0x37c519[_0x20b83a(0x1c4)]&0xff);else{_0x2ad98a[_0x20b83a(0x1ee)](0x7f);for(let _0x4ce4be=0x7;_0x4ce4be>=0x0;_0x4ce4be--)_0x2ad98a['push'](_0x37c519[_0x20b83a(0x1c4)]>>_0x4ce4be*0x8&0xff);}}const _0x2f2793=Buffer[_0x20b83a(0x1cf)]([Buffer['from']([0x80|_0x2d1813,..._0x2ad98a]),_0x37c519]);this[_0x20b83a(0x1a0)][_0x20b83a(0x1d1)](_0x2f2793);}['emit'](_0x5b3d66,_0x39a422,_0x53fc6a,_0x2374d4=0x32*0x3e8){const _0xc1876f=a9_0x4c3622;if(this[_0xc1876f(0x1a0)]==undefined||this[_0xc1876f(0x1be)]!==_0xc1876f(0x1ef))throw new Error(_0xc1876f(0x1c0));if([_0xc1876f(0x1d7),_0xc1876f(0x1ef),_0xc1876f(0x1bd),_0xc1876f(0x1b8)][_0xc1876f(0x1b2)](_0x5b3d66))throw new Error(_0xc1876f(0x19a));const _0x7b3edc=_0x53fc6a==undefined?0x0:this[_0xc1876f(0x1a9)],_0xb939a0=Buffer[_0xc1876f(0x1a8)](_0x5b3d66,_0xc1876f(0x1b4));if(_0xb939a0[_0xc1876f(0x1c4)]>0xff)throw new Error(_0xc1876f(0x1a1));if(_0x53fc6a!=undefined){this[_0xc1876f(0x1a9)]=(this[_0xc1876f(0x1a9)]+0x1)%0x80||0x1;const _0x43a11a=setTimeout(()=>{const _0x66d3a5=_0xc1876f;delete this[_0x66d3a5(0x1c7)][_0x7b3edc],_0x53fc6a(new Error(_0x66d3a5(0x1db)));},_0x2374d4);this[_0xc1876f(0x1c7)][_0x7b3edc]=_0x48b20f=>{if(!(_0x48b20f instanceof Error))clearTimeout(_0x43a11a);_0x53fc6a(_0x48b20f);};}const _0x4d8590=Buffer[_0xc1876f(0x1cf)]([Buffer[_0xc1876f(0x1a8)]([_0x7b3edc|0x80,_0xb939a0[_0xc1876f(0x1c4)]]),_0xb939a0,this['encode'](_0x39a422)]);this[_0xc1876f(0x1c3)](_0xc1876f(0x1eb),_0x4d8590);}[a9_0x4c3622(0x1b5)](_0xab7fcd){const _0x3e6461=a9_0x4c3622;var _0x4156c2,_0x45c232;const _0x39c7d7=_0xab7fcd[0x0],_0x534e10=(_0x39c7d7&0x80)!==0x0,_0x3074f9=_0x39c7d7&0xf,_0xfd6492=_0xab7fcd[0x1],_0x33250e=(_0xfd6492&0x80)!==0x0;let _0x2fcf32=_0xfd6492&0x7f,_0x92197b=0x2;if(_0x2fcf32===0x7e)_0x2fcf32=_0xab7fcd[_0x3e6461(0x1b1)](_0x92197b),_0x92197b+=0x2;else _0x2fcf32===0x7f&&(_0x2fcf32=Number(_0xab7fcd[_0x3e6461(0x1ab)](_0x92197b)),_0x92197b+=0x8);const _0xae6a3c=_0x33250e?_0xab7fcd[_0x3e6461(0x1e5)](_0x92197b,_0x92197b+0x4):Buffer[_0x3e6461(0x1b3)](0x0);if(_0x33250e)_0x92197b+=0x4;let _0x2f28d2=_0xab7fcd[_0x3e6461(0x1e5)](_0x92197b,_0x92197b+_0x2fcf32);if(_0x33250e){const _0x247ade=Buffer[_0x3e6461(0x1b3)](_0x2f28d2[_0x3e6461(0x1c4)]);for(let _0x4c2f39=0x0;_0x4c2f39<_0x2f28d2[_0x3e6461(0x1c4)];_0x4c2f39++)_0x247ade[_0x4c2f39]=_0x2f28d2[_0x4c2f39]^_0xae6a3c[_0x4c2f39%0x4];_0x2f28d2=_0x247ade;}switch(_0x3074f9){case 0x1:this[_0x3e6461(0x1ad)](_0x3e6461(0x1bd),new Error(_0x3e6461(0x1e1)+_0x2f28d2[_0x3e6461(0x1c5)](_0x3e6461(0x1b4))));break;case 0x2:{if(this[_0x3e6461(0x1be)]==='handshake'){const _0x44e1fb=this[_0x3e6461(0x1c9)](_0x2f28d2);this[_0x3e6461(0x1ad)](_0x3e6461(0x1d7),_0x44e1fb),this[_0x3e6461(0x1be)]=_0x3e6461(0x1ef),this['send'](_0x3e6461(0x1eb),Buffer[_0x3e6461(0x1b3)](0x0));return;}const _0x335e8a=_0x2f28d2[_0x3e6461(0x1e3)](0x0),_0x9d866b=_0x335e8a&0x7f,_0x50bf37=(_0x335e8a&0x80)!==0x0;if(_0x50bf37){const _0x37e205=_0x2f28d2['readUInt8'](0x1),_0x249b39=_0x2f28d2[_0x3e6461(0x1e5)](0x2,0x2+_0x37e205)[_0x3e6461(0x1c5)]('utf-8');if([_0x3e6461(0x1d7),'open',_0x3e6461(0x1bd),'close','*'][_0x3e6461(0x1b2)](_0x249b39)){this[_0x3e6461(0x1ad)]('error',new Error(_0x3e6461(0x1b9)+_0x249b39+_0x3e6461(0x1da)));return;}const _0x2f6b3f=this[_0x3e6461(0x1c9)](_0x2f28d2[_0x3e6461(0x1e5)](0x2+_0x37e205)),_0x4b09e0=(_0x4156c2=this[_0x3e6461(0x1c8)][_0x249b39])!==null&&_0x4156c2!==void 0x0?_0x4156c2:[];let _0xba7287=![];for(const _0x3b24d6 of _0x4b09e0){const _0x34739d=_0x3b24d6[_0x3e6461(0x1a3)](undefined,_0x2f6b3f);if(!_0xba7287&&_0x34739d!==undefined&&_0x9d866b!==0x0){_0xba7287=!![];const _0x30c96f=Buffer[_0x3e6461(0x1cf)]([Buffer[_0x3e6461(0x1a8)]([_0x9d866b&0x7f]),this[_0x3e6461(0x1af)](_0x34739d)]);this[_0x3e6461(0x1c3)](_0x3e6461(0x1eb),_0x30c96f);}}const _0x11def9=(_0x45c232=this[_0x3e6461(0x1c8)]['*'])!==null&&_0x45c232!==void 0x0?_0x45c232:[];for(const _0x1c4fa6 of _0x11def9)_0x1c4fa6[_0x3e6461(0x1a3)](undefined,_0x249b39,_0x2f6b3f);if(!_0xba7287&&_0x9d866b!==0x0)this['raise'](_0x3e6461(0x1bd),new Error(_0x3e6461(0x19f)+_0x249b39+_0x3e6461(0x1df)));return;}const _0x58626b=this[_0x3e6461(0x1c7)][_0x9d866b];if(_0x58626b==undefined){this['raise'](_0x3e6461(0x1bd),new Error(_0x3e6461(0x1ec)+_0x9d866b+_0x3e6461(0x1de)));return;}const _0x3589a8=this[_0x3e6461(0x1c9)](_0x2f28d2['slice'](0x1));_0x58626b['call'](undefined,_0x3589a8);break;}case 0x9:this[_0x3e6461(0x1c3)](_0x3e6461(0x1ca),_0x2f28d2);break;case 0xa:const _0x34855d=_0x2f28d2['toString'](_0x3e6461(0x1b4)),_0x296aaf=this['pingRequests'][_0x34855d];if(_0x296aaf==undefined){this['raise'](_0x3e6461(0x1bd),new Error('Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping'));return;}_0x296aaf();break;case 0x8:if(this['status']===_0x3e6461(0x1a2))return;let _0x4a67a2=0x3e8,_0x250040='';_0x2f28d2[_0x3e6461(0x1c4)]>=0x2&&(_0x4a67a2=_0x2f28d2[_0x3e6461(0x1b1)](0x0),_0x250040=_0x2f28d2[_0x3e6461(0x1e5)](0x2)['toString'](_0x3e6461(0x1b4)));this['disconnect'](_0x4a67a2,_0x250040,null);break;default:this[_0x3e6461(0x1ad)]('error',new Error('Received\x20message\x20with\x20unsupported\x20opcode:\x20'+_0x3074f9));}}[a9_0x4c3622(0x1af)](_0x50b8fc){const _0x1de455=a9_0x4c3622;return Buffer[_0x1de455(0x1a8)](JSON[_0x1de455(0x1aa)](_0x50b8fc),_0x1de455(0x1b4));}['decode'](_0x186284){const _0x1557e2=a9_0x4c3622;return JSON[_0x1557e2(0x1d0)](_0x186284['toString']('utf-8'));}[a9_0x4c3622(0x1c6)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x4d8504,_0x2f64ea)=>{const _0x434f61=a9_0x3c9e,_0x438112=a9_0x40baf1[_0x434f61(0x19b)](),_0x3396ff=setTimeout(()=>{const _0x31dcd8=_0x434f61;delete this[_0x31dcd8(0x1c2)][_0x438112],this['disconnect'](0x3e8,'',null),_0x4d8504(![]);},this[_0x434f61(0x1e8)]);this[_0x434f61(0x1c2)][_0x438112]=()=>{const _0x5ddeb7=_0x434f61;delete this[_0x5ddeb7(0x1c2)][_0x438112],clearTimeout(_0x3396ff),_0x4d8504(!![]),setTimeout(()=>{const _0x5029b3=_0x5ddeb7;if(this[_0x5029b3(0x1be)]!==_0x5029b3(0x1ef))return;this[_0x5029b3(0x1c6)]();},this[_0x5ddeb7(0x1c1)]);},this[_0x434f61(0x1c3)](_0x434f61(0x1dc),Buffer[_0x434f61(0x1a8)](_0x438112));});});}['on'](_0x24146d,_0x242fc8){const _0x57e8de=a9_0x4c3622;if(this['handlers'][_0x24146d]==undefined)this[_0x57e8de(0x1c8)][_0x24146d]=[];this[_0x57e8de(0x1c8)][_0x24146d]['push'](_0x242fc8);}[a9_0x4c3622(0x1a5)](_0x2af0be,_0xc4e06a){const _0x2cfa3f=a9_0x4c3622;if(_0xc4e06a==undefined){this[_0x2cfa3f(0x1c8)][_0x2af0be]=[];return;}const _0x5bce8c=this[_0x2cfa3f(0x1c8)][_0x2af0be],_0x32e3ad=(_0x5bce8c!==null&&_0x5bce8c!==void 0x0?_0x5bce8c:[])[_0x2cfa3f(0x1ce)](_0x28133e=>_0x28133e===_0xc4e06a);if(_0x32e3ad===-0x1)throw new Error(_0x2cfa3f(0x1e4)+_0x2af0be+_0x2cfa3f(0x1e2));_0x5bce8c['splice'](_0x32e3ad,0x1);}[a9_0x4c3622(0x1ad)](_0x48dd0c,_0x38666){const _0x5f0fd1=a9_0x4c3622;var _0x1e9ac5,_0x47eca0;const _0x9dc40=(_0x1e9ac5=this[_0x5f0fd1(0x1c8)][_0x48dd0c])!==null&&_0x1e9ac5!==void 0x0?_0x1e9ac5:[];for(const _0x4034ba of _0x9dc40)_0x4034ba(_0x38666);const _0x335826=(_0x47eca0=this[_0x5f0fd1(0x1c8)]['*'])!==null&&_0x47eca0!==void 0x0?_0x47eca0:[];for(const _0x103622 of _0x335826)_0x103622(_0x48dd0c,_0x38666);}static[a9_0x4c3622(0x1d2)](_0xbc5188,_0x72f875){const _0x424df6=a9_0x4c3622,_0x1fab4f=_0xbc5188['headers']['sec-websocket-key'];if(_0x1fab4f==undefined)return _0x72f875[_0x424df6(0x1dd)](),null;const _0x2d71ac=a9_0x40baf1['createHash'](_0x424df6(0x1ae));_0x2d71ac['update'](_0x1fab4f+'258EAFA5-E914-47DA-95CA-C5AB0DC85B11');const _0x1a8637=_0x2d71ac[_0x424df6(0x19e)](_0x424df6(0x1d5)),_0x5a24fc=[_0x424df6(0x19d),_0x424df6(0x1ac),_0x424df6(0x1cd),'Sec-WebSocket-Accept:\x20'+_0x1a8637];return _0x72f875[_0x424df6(0x1d1)](_0x5a24fc[_0x424df6(0x1bc)]('\x0d\x0a')+_0x424df6(0x1bb)),new Socket(_0x72f875);}}