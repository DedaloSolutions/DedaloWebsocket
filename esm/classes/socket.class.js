const a11_0x2fcce7=a11_0x4df4;(function(_0x207ec6,_0xcc70ad){const _0x4d17f2=a11_0x4df4,_0x269775=_0x207ec6();while(!![]){try{const _0x31e009=parseInt(_0x4d17f2(0xab))/0x1*(parseInt(_0x4d17f2(0xb6))/0x2)+-parseInt(_0x4d17f2(0xba))/0x3+parseInt(_0x4d17f2(0xd8))/0x4*(-parseInt(_0x4d17f2(0x91))/0x5)+parseInt(_0x4d17f2(0x8a))/0x6*(parseInt(_0x4d17f2(0xa1))/0x7)+-parseInt(_0x4d17f2(0xaa))/0x8+parseInt(_0x4d17f2(0xd6))/0x9*(-parseInt(_0x4d17f2(0xaf))/0xa)+parseInt(_0x4d17f2(0xa5))/0xb;if(_0x31e009===_0xcc70ad)break;else _0x269775['push'](_0x269775['shift']());}catch(_0x1b2275){_0x269775['push'](_0x269775['shift']());}}}(a11_0x3508,0xe2eaa));var __awaiter=this&&this[a11_0x2fcce7(0x94)]||function(_0x576c7a,_0x2fccf1,_0x96e6b3,_0x2550da){function _0x532634(_0x5e7323){return _0x5e7323 instanceof _0x96e6b3?_0x5e7323:new _0x96e6b3(function(_0x313294){_0x313294(_0x5e7323);});}return new(_0x96e6b3||(_0x96e6b3=Promise))(function(_0xfcad57,_0x3504fe){const _0x4b8bba=a11_0x4df4;function _0x20cff8(_0x541f50){const _0x318fbe=a11_0x4df4;try{_0x2c11ff(_0x2550da[_0x318fbe(0x99)](_0x541f50));}catch(_0x1ec8f7){_0x3504fe(_0x1ec8f7);}}function _0x5808d4(_0x1d52fe){const _0x34251b=a11_0x4df4;try{_0x2c11ff(_0x2550da[_0x34251b(0x88)](_0x1d52fe));}catch(_0x2f1768){_0x3504fe(_0x2f1768);}}function _0x2c11ff(_0x46a9b8){const _0xfe21b0=a11_0x4df4;_0x46a9b8['done']?_0xfcad57(_0x46a9b8[_0xfe21b0(0xc6)]):_0x532634(_0x46a9b8[_0xfe21b0(0xc6)])[_0xfe21b0(0xa4)](_0x20cff8,_0x5808d4);}_0x2c11ff((_0x2550da=_0x2550da['apply'](_0x576c7a,_0x2fccf1||[]))[_0x4b8bba(0x99)]());});};import a11_0x57b7ee from'crypto';export default class Socket{constructor(_0x44b4d3){const _0x271494=a11_0x2fcce7;this[_0x271494(0xda)]=_0x44b4d3,this[_0x271494(0xd2)]='handshake',this['pingInterval']=0x5*0x3e8,this[_0x271494(0x96)]=0x2*0x3e8,this[_0x271494(0xc5)]={},this['requestId']=0x1,this[_0x271494(0x90)]={},this['data']={},this[_0x271494(0x9f)]={},this['socket']['on'](_0x271494(0xb2),_0x30e2f5=>this[_0x271494(0xd5)](_0x30e2f5)),this[_0x271494(0xda)]['on']('error',_0x34376f=>this[_0x271494(0x92)](_0x271494(0x8c),_0x34376f)),this['socket']['on'](_0x271494(0xb0),()=>{}),this['checkHeartbeat']();const _0x3fec9a=this[_0x271494(0xdd)]({'pingInterval':this[_0x271494(0xa6)]});this['send']('binary',_0x3fec9a);}['disconnect'](){return __awaiter(this,arguments,void 0x0,function*(_0x327972=0x3e8,_0x396fc0='',_0x76e05c=0x1388){return new Promise((_0x1614d7,_0xfd359c)=>{const _0x31f27f=a11_0x4df4,_0x3490ef=Buffer[_0x31f27f(0xcb)](_0x396fc0,_0x31f27f(0xcf)),_0x39fe47=Buffer[_0x31f27f(0xc8)](0x2+_0x3490ef[_0x31f27f(0xc1)]);_0x39fe47[_0x31f27f(0xbb)](_0x327972,0x0),_0x3490ef['copy'](_0x39fe47,0x2);const _0x2b0bce=_0x39fe47[_0x31f27f(0xc1)],_0x549c9e=_0x2b0bce<0x7e?_0x2b0bce:_0x2b0bce<0x10000?0x7e:0x7f,_0x370717=_0x549c9e===0x7e?Buffer[_0x31f27f(0xcb)]([0x88,0x7e,_0x2b0bce>>0x8&0xff,_0x2b0bce&0xff]):_0x549c9e===0x7f?Buffer[_0x31f27f(0xcb)]([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x2b0bce>>0x8&0xff,_0x2b0bce&0xff]):Buffer[_0x31f27f(0xcb)]([0x88,_0x2b0bce]),_0x27654a=Buffer[_0x31f27f(0x8d)]([_0x370717,_0x39fe47]);this[_0x31f27f(0xda)]['write'](_0x27654a),this[_0x31f27f(0xd2)]=_0x31f27f(0xdb);if(_0x76e05c===null)this[_0x31f27f(0xd2)]=_0x31f27f(0xcd),this[_0x31f27f(0xda)][_0x31f27f(0xcc)](),this[_0x31f27f(0x92)]('close',{'code':_0x327972,'reason':_0x396fc0}),_0x1614d7();else{let _0x191c5d=!![];this['socket'][_0x31f27f(0xb9)](_0x31f27f(0xb2),_0x21acbc=>{const _0x4a6acc=_0x31f27f;if(!_0x191c5d)return;_0x21acbc[0x0]===0x88?(this[_0x4a6acc(0xd2)]=_0x4a6acc(0xcd),this[_0x4a6acc(0xda)][_0x4a6acc(0xcc)](),this[_0x4a6acc(0x92)]('close',{'code':_0x327972,'reason':_0x396fc0}),_0x1614d7()):_0xfd359c(new Error(_0x4a6acc(0xa8)));}),setTimeout(()=>{const _0x5dff15=_0x31f27f;_0x191c5d=![],_0xfd359c(new Error('Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.')),this['socket'][_0x5dff15(0xcc)]();},_0x76e05c);}});});}['send'](_0x3dd270,_0x3778c4){const _0x486b19=a11_0x2fcce7;let _0x15bd12,_0x59603d;switch(_0x3dd270){case _0x486b19(0xc4):_0x15bd12=Buffer[_0x486b19(0xcb)](_0x3778c4,_0x486b19(0xcf)),_0x59603d=0x1;break;case _0x486b19(0xce):_0x15bd12=_0x3778c4,_0x59603d=0x2;break;case _0x486b19(0xa7):_0x15bd12=_0x3778c4,_0x59603d=0x9;break;case _0x486b19(0xad):_0x15bd12=_0x3778c4,_0x59603d=0xa;break;}const _0x14f2cb=[];if(_0x15bd12[_0x486b19(0xc1)]<0x7e)_0x14f2cb['push'](_0x15bd12[_0x486b19(0xc1)]);else{if(_0x15bd12[_0x486b19(0xc1)]<0x10000)_0x14f2cb[_0x486b19(0xbd)](0x7e,_0x15bd12[_0x486b19(0xc1)]>>0x8&0xff,_0x15bd12[_0x486b19(0xc1)]&0xff);else{_0x14f2cb['push'](0x7f);for(let _0x244225=0x7;_0x244225>=0x0;_0x244225--)_0x14f2cb[_0x486b19(0xbd)](_0x15bd12['length']>>_0x244225*0x8&0xff);}}const _0x5aba27=Buffer[_0x486b19(0x8d)]([Buffer[_0x486b19(0xcb)]([0x80|_0x59603d,..._0x14f2cb]),_0x15bd12]);this[_0x486b19(0xda)][_0x486b19(0x9d)](_0x5aba27);}['emit'](_0x36802d,_0x1f2817,_0x173251,_0x1f9430=0x32*0x3e8){const _0x30b062=a11_0x2fcce7;if(this[_0x30b062(0xda)]==undefined||this[_0x30b062(0xd2)]!==_0x30b062(0x9b))throw new Error(_0x30b062(0x9e));if(['handshake',_0x30b062(0x9b),'error',_0x30b062(0xb0)][_0x30b062(0xd9)](_0x36802d))throw new Error(_0x30b062(0xd0));const _0x517d51=_0x173251==undefined?0x0:this[_0x30b062(0xb3)],_0x5509a5=Buffer[_0x30b062(0xcb)](_0x36802d,'utf-8');if(_0x5509a5['length']>0xff)throw new Error(_0x30b062(0xb4));if(_0x173251!=undefined){this['requestId']=(this['requestId']+0x1)%0x80||0x1;const _0x393afb=setTimeout(()=>{const _0x39df23=_0x30b062;delete this['pendingRequests'][_0x517d51],_0x173251(new Error(_0x39df23(0x9c)));},_0x1f9430);this[_0x30b062(0x90)][_0x517d51]=_0x301a66=>{if(!(_0x301a66 instanceof Error))clearTimeout(_0x393afb);_0x173251(_0x301a66);};}const _0x20469f=Buffer['concat']([Buffer['from']([_0x517d51|0x80,_0x5509a5[_0x30b062(0xc1)]]),_0x5509a5,this[_0x30b062(0xdd)](_0x1f2817)]);this[_0x30b062(0xb5)](_0x30b062(0xce),_0x20469f);}[a11_0x2fcce7(0xd5)](_0x9cf49a){const _0x4a68c3=a11_0x2fcce7;var _0x1a5629,_0x7b9288;const _0x1e951a=_0x9cf49a[0x0],_0x442713=(_0x1e951a&0x80)!==0x0,_0x579411=_0x1e951a&0xf,_0x2f2353=_0x9cf49a[0x1],_0x514afb=(_0x2f2353&0x80)!==0x0;let _0x31d1de=_0x2f2353&0x7f,_0x115db8=0x2;if(_0x31d1de===0x7e)_0x31d1de=_0x9cf49a['readUInt16BE'](_0x115db8),_0x115db8+=0x2;else _0x31d1de===0x7f&&(_0x31d1de=Number(_0x9cf49a[_0x4a68c3(0xd4)](_0x115db8)),_0x115db8+=0x8);const _0x3ed96b=_0x514afb?_0x9cf49a[_0x4a68c3(0x9a)](_0x115db8,_0x115db8+0x4):Buffer[_0x4a68c3(0xc8)](0x0);if(_0x514afb)_0x115db8+=0x4;let _0x236c3f=_0x9cf49a[_0x4a68c3(0x9a)](_0x115db8,_0x115db8+_0x31d1de);if(_0x514afb){const _0x148b3c=Buffer[_0x4a68c3(0xc8)](_0x236c3f[_0x4a68c3(0xc1)]);for(let _0x537d3d=0x0;_0x537d3d<_0x236c3f[_0x4a68c3(0xc1)];_0x537d3d++)_0x148b3c[_0x537d3d]=_0x236c3f[_0x537d3d]^_0x3ed96b[_0x537d3d%0x4];_0x236c3f=_0x148b3c;}switch(_0x579411){case 0x1:this['raise'](_0x4a68c3(0x8c),new Error(_0x4a68c3(0xca)+_0x236c3f[_0x4a68c3(0xa0)]('utf-8')));break;case 0x2:{if(this['status']==='handshake'){const _0x201841=this[_0x4a68c3(0x97)](_0x236c3f);this[_0x4a68c3(0x92)](_0x4a68c3(0xa9),_0x201841),this['status']=_0x4a68c3(0x9b),this[_0x4a68c3(0xb5)](_0x4a68c3(0xce),Buffer[_0x4a68c3(0xc8)](0x0));return;}const _0x5dc2c0=_0x236c3f['readUInt8'](0x0),_0x4cecf3=_0x5dc2c0&0x7f,_0x8381f8=(_0x5dc2c0&0x80)!==0x0;if(_0x8381f8){const _0x43bc7f=_0x236c3f[_0x4a68c3(0xb1)](0x1),_0xd3a4f=_0x236c3f[_0x4a68c3(0x9a)](0x2,0x2+_0x43bc7f)[_0x4a68c3(0xa0)](_0x4a68c3(0xcf));if([_0x4a68c3(0xa9),_0x4a68c3(0x9b),_0x4a68c3(0x8c),_0x4a68c3(0xb0),'*'][_0x4a68c3(0xd9)](_0xd3a4f)){this[_0x4a68c3(0x92)]('error',new Error('Received\x20a\x20request\x20with\x20eventName\x20'+_0xd3a4f+';\x20This\x20is\x20non-standard:\x20someone\x20is\x20trying\x20to\x20hack\x20the\x20protocol?'));return;}const _0x382f29=this['decode'](_0x236c3f[_0x4a68c3(0x9a)](0x2+_0x43bc7f)),_0x269c18=(_0x1a5629=this[_0x4a68c3(0x9f)][_0xd3a4f])!==null&&_0x1a5629!==void 0x0?_0x1a5629:[];let _0x31f7c9=![];for(const _0x5cbccd of _0x269c18){const _0x40244d=_0x5cbccd[_0x4a68c3(0xbf)](undefined,_0x382f29);if(!_0x31f7c9&&_0x40244d!==undefined&&_0x4cecf3!==0x0){_0x31f7c9=!![];const _0x283f39=Buffer['concat']([Buffer[_0x4a68c3(0xcb)]([_0x4cecf3&0x7f]),this[_0x4a68c3(0xdd)](_0x40244d)]);this[_0x4a68c3(0xb5)](_0x4a68c3(0xce),_0x283f39);}}const _0x4d5d61=(_0x7b9288=this[_0x4a68c3(0x9f)]['*'])!==null&&_0x7b9288!==void 0x0?_0x7b9288:[];for(const _0x18ff98 of _0x4d5d61)_0x18ff98[_0x4a68c3(0xbf)](undefined,_0xd3a4f,_0x382f29);if(!_0x31f7c9&&_0x4cecf3!==0x0)this['raise']('error',new Error(_0x4a68c3(0xc2)+_0xd3a4f+_0x4a68c3(0xae)));return;}const _0x179e04=this[_0x4a68c3(0x90)][_0x4cecf3];if(_0x179e04==undefined){this[_0x4a68c3(0x92)]('error',new Error(_0x4a68c3(0xdc)+_0x4cecf3+_0x4a68c3(0x8b)));return;}const _0x260b72=this[_0x4a68c3(0x97)](_0x236c3f['slice'](0x1));_0x179e04[_0x4a68c3(0xbf)](undefined,_0x260b72);break;}case 0x9:this['send']('pong',_0x236c3f);break;case 0xa:const _0x372d8a=_0x236c3f['toString'](_0x4a68c3(0xcf)),_0x437bb4=this['pingRequests'][_0x372d8a];if(_0x437bb4==undefined){this[_0x4a68c3(0x92)](_0x4a68c3(0x8c),new Error(_0x4a68c3(0xd1)));return;}_0x437bb4();break;case 0x8:if(this[_0x4a68c3(0xd2)]==='closing')return;let _0x100fb5=0x3e8,_0x3e96cc='';_0x236c3f[_0x4a68c3(0xc1)]>=0x2&&(_0x100fb5=_0x236c3f['readUInt16BE'](0x0),_0x3e96cc=_0x236c3f['slice'](0x2)[_0x4a68c3(0xa0)]('utf-8'));this[_0x4a68c3(0xd3)](_0x100fb5,_0x3e96cc,null);break;default:this['raise'](_0x4a68c3(0x8c),new Error(_0x4a68c3(0xc9)+_0x579411));}}[a11_0x2fcce7(0xdd)](_0x41b0b5){const _0x1cd334=a11_0x2fcce7;return Buffer[_0x1cd334(0xcb)](JSON[_0x1cd334(0xc3)](_0x41b0b5),_0x1cd334(0xcf));}[a11_0x2fcce7(0x97)](_0x19b577){return JSON['parse'](_0x19b577['toString']('utf-8'));}[a11_0x2fcce7(0xa2)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x494663,_0x1c9770)=>{const _0x4681f1=a11_0x4df4,_0x3755e4=a11_0x57b7ee[_0x4681f1(0x89)](),_0x11d202=setTimeout(()=>{const _0x4a17eb=_0x4681f1;delete this[_0x4a17eb(0xc5)][_0x3755e4],this['disconnect'](0x3e8,'',null),_0x494663(![]);},this[_0x4681f1(0x96)]);this[_0x4681f1(0xc5)][_0x3755e4]=()=>{const _0x4a881e=_0x4681f1;delete this['pingRequests'][_0x3755e4],clearTimeout(_0x11d202),_0x494663(!![]),setTimeout(()=>{const _0x4aeb9e=a11_0x4df4;if(this[_0x4aeb9e(0xd2)]!==_0x4aeb9e(0x9b))return;this['checkHeartbeat']();},this[_0x4a881e(0xa6)]);},this[_0x4681f1(0xb5)](_0x4681f1(0xa7),Buffer[_0x4681f1(0xcb)](_0x3755e4));});});}['on'](_0x24d7bd,_0x3d9580){const _0x452956=a11_0x2fcce7;if(this[_0x452956(0x9f)][_0x24d7bd]==undefined)this[_0x452956(0x9f)][_0x24d7bd]=[];this[_0x452956(0x9f)][_0x24d7bd][_0x452956(0xbd)](_0x3d9580);}['off'](_0x9a77c0,_0x5affe1){const _0x231efb=a11_0x2fcce7;if(_0x5affe1==undefined){this[_0x231efb(0x9f)][_0x9a77c0]=[];return;}const _0x174592=this[_0x231efb(0x9f)][_0x9a77c0],_0x4eacbf=(_0x174592!==null&&_0x174592!==void 0x0?_0x174592:[])[_0x231efb(0x95)](_0x1db27e=>_0x1db27e===_0x5affe1);if(_0x4eacbf===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x9a77c0+_0x231efb(0xbc));_0x174592[_0x231efb(0xb7)](_0x4eacbf,0x1);}['raise'](_0x52613d,_0x5e05ba){const _0x39176a=a11_0x2fcce7;var _0xd1b126,_0x35c17;const _0x43010c=(_0xd1b126=this[_0x39176a(0x9f)][_0x52613d])!==null&&_0xd1b126!==void 0x0?_0xd1b126:[];for(const _0x5de579 of _0x43010c)_0x5de579(_0x5e05ba);const _0x3465c5=(_0x35c17=this[_0x39176a(0x9f)]['*'])!==null&&_0x35c17!==void 0x0?_0x35c17:[];for(const _0x240e0a of _0x3465c5)_0x240e0a(_0x52613d,_0x5e05ba);}static[a11_0x2fcce7(0xb8)](_0x21851f,_0x5d106c){const _0x3efa40=a11_0x2fcce7,_0xc223a=_0x21851f[_0x3efa40(0xc7)]['sec-websocket-key'];if(_0xc223a==undefined)return _0x5d106c[_0x3efa40(0xa3)](),null;const _0x45dfef=a11_0x57b7ee[_0x3efa40(0xbe)](_0x3efa40(0xac));_0x45dfef[_0x3efa40(0xd7)](_0xc223a+'258EAFA5-E914-47DA-95CA-C5AB0DC85B11');const _0x21ba4e=_0x45dfef[_0x3efa40(0x8e)](_0x3efa40(0xc0)),_0x282494=[_0x3efa40(0x98),_0x3efa40(0x8f),'Connection:\x20Upgrade','Sec-WebSocket-Accept:\x20'+_0x21ba4e];return _0x5d106c[_0x3efa40(0x9d)](_0x282494[_0x3efa40(0x93)]('\x0d\x0a')+'\x0d\x0a\x0d\x0a'),new Socket(_0x5d106c);}}function a11_0x4df4(_0x45b2c4,_0x19f714){const _0x3508e8=a11_0x3508();return a11_0x4df4=function(_0x4df4f1,_0x439dad){_0x4df4f1=_0x4df4f1-0x88;let _0x1f8949=_0x3508e8[_0x4df4f1];return _0x1f8949;},a11_0x4df4(_0x45b2c4,_0x19f714);}function a11_0x3508(){const _0x4d5608=['27013547bZqmKT','pingInterval','ping','Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.','handshake','4526128rlFQhi','7FlqhsE','sha1','pong','\x20but\x20no\x20handler\x20return\x20a\x20result','130FiCtJy','close','readUInt8','data','requestId','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','send','58502PaORlG','splice','fromUpgradeRequest','once','5447793kznYyF','writeUInt16BE','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','push','createHash','call','base64','length','Received\x20a\x20request\x20with\x20callback\x20for\x20the\x20event\x20','stringify','text','pingRequests','value','headers','alloc','Received\x20message\x20with\x20unsupported\x20opcode:\x20','Received\x20non-standard\x20text\x20message:\x20','from','end','closed','binary','utf-8','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handskake,\x20open,\x20error\x20or\x20close','Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping','status','disconnect','readBigUInt64BE','handle','300222JTqJcG','update','4uJUtgG','includes','socket','closing','Received\x20a\x20response\x20for\x20the\x20id\x20','encode','throw','randomUUID','132QDbfMX','\x20but\x20no\x20pending\x20request\x20was\x20found','error','concat','digest','Upgrade:\x20websocket','pendingRequests','1750995UhNOvF','raise','join','__awaiter','findIndex','pingTimeout','decode','HTTP/1.1\x20101\x20Switching\x20Protocols','next','slice','open','Timeout','write','The\x20websocket\x20is\x20not\x20connected','handlers','toString','456421KTDUkj','checkHeartbeat','destroy','then'];a11_0x3508=function(){return _0x4d5608;};return a11_0x3508();}