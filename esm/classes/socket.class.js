const a11_0x23f03e=a11_0x144e;function a11_0x144e(_0x321b6a,_0x4370fc){const _0x2b9ccd=a11_0x2b9c();return a11_0x144e=function(_0x144e65,_0x3e740b){_0x144e65=_0x144e65-0x18f;let _0x2b7456=_0x2b9ccd[_0x144e65];return _0x2b7456;},a11_0x144e(_0x321b6a,_0x4370fc);}(function(_0x562f12,_0x3d535d){const _0x2f5f67=a11_0x144e,_0x1703d7=_0x562f12();while(!![]){try{const _0x18c221=-parseInt(_0x2f5f67(0x1cf))/0x1*(parseInt(_0x2f5f67(0x1ba))/0x2)+parseInt(_0x2f5f67(0x1e5))/0x3+parseInt(_0x2f5f67(0x1e3))/0x4+parseInt(_0x2f5f67(0x18f))/0x5*(-parseInt(_0x2f5f67(0x1d2))/0x6)+-parseInt(_0x2f5f67(0x1a6))/0x7*(-parseInt(_0x2f5f67(0x1de))/0x8)+parseInt(_0x2f5f67(0x1b8))/0x9*(-parseInt(_0x2f5f67(0x1e9))/0xa)+-parseInt(_0x2f5f67(0x1b6))/0xb*(-parseInt(_0x2f5f67(0x1af))/0xc);if(_0x18c221===_0x3d535d)break;else _0x1703d7['push'](_0x1703d7['shift']());}catch(_0x48d535){_0x1703d7['push'](_0x1703d7['shift']());}}}(a11_0x2b9c,0xe68b7));var __awaiter=this&&this[a11_0x23f03e(0x198)]||function(_0x1b7f67,_0x90bd26,_0x1474f,_0x159665){function _0x5d9d5f(_0x1326df){return _0x1326df instanceof _0x1474f?_0x1326df:new _0x1474f(function(_0xd5b5fc){_0xd5b5fc(_0x1326df);});}return new(_0x1474f||(_0x1474f=Promise))(function(_0x550fb8,_0x62b7e5){const _0x408504=a11_0x144e;function _0xc00544(_0x145b94){const _0x25a018=a11_0x144e;try{_0x41b5ec(_0x159665[_0x25a018(0x1c5)](_0x145b94));}catch(_0x57ad4b){_0x62b7e5(_0x57ad4b);}}function _0x42a6ee(_0x307496){const _0x58cebc=a11_0x144e;try{_0x41b5ec(_0x159665[_0x58cebc(0x1bf)](_0x307496));}catch(_0x3561ef){_0x62b7e5(_0x3561ef);}}function _0x41b5ec(_0x5a8694){const _0x40e72f=a11_0x144e;_0x5a8694['done']?_0x550fb8(_0x5a8694[_0x40e72f(0x1c6)]):_0x5d9d5f(_0x5a8694[_0x40e72f(0x1c6)])[_0x40e72f(0x1da)](_0xc00544,_0x42a6ee);}_0x41b5ec((_0x159665=_0x159665[_0x408504(0x1a8)](_0x1b7f67,_0x90bd26||[]))[_0x408504(0x1c5)]());});};function a11_0x2b9c(){const _0x2e1e62=['NaN','disconnect','handlers','Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.','Connection:\x20Upgrade','handle','1861274HBZCgY','binary','data','1572FeBEze','open','includes','socket','slice','pendingRequests','alloc','push','then','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22','call','Received\x20message\x20with\x20unsupported\x20opcode:\x20','2792FrGiUj','readUInt16BE','once','from','checkHeartbeat','3015984DdkjoE','splice','3659646VPpZNz','readBigUInt64BE','findIndex','decode','10TyqrMR','3215ZDQgdd','pingRequests','ping','\x0d\x0a\x0d\x0a','closed','end','requestId','concat','status','__awaiter','toString','handshake','The\x20websocket\x20is\x20not\x20connected','copy','set','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','emit','base64','Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping','stringify','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','headers','length','19754PBmvyx','Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.','apply','Sec-WebSocket-Accept:\x20','Received\x20non-standard\x20text\x20message:\x20','text','sha1','_status','write','34356tQsZxh','pingTimeout','pong','error','join','utf-8','createHash','517pRAIZt','close','1073394yWwdGe','writeUInt16BE','2KJhvFL','encode','send','destroy','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','throw','pingInterval','closing','off','sec-websocket-key','fromUpgradeRequest','next','value','raise','update'];a11_0x2b9c=function(){return _0x2e1e62;};return a11_0x2b9c();}import a11_0x3f10cb from'crypto';export default class Socket{constructor(_0x133af8){const _0x172f1d=a11_0x23f03e;this['socket']=_0x133af8,this[_0x172f1d(0x1ad)]=_0x172f1d(0x19a),this[_0x172f1d(0x1c0)]=0x5*0x3e8,this[_0x172f1d(0x1b0)]=0x2*0x3e8,this[_0x172f1d(0x190)]={},this[_0x172f1d(0x195)]=0x1,this[_0x172f1d(0x1d7)]={},this[_0x172f1d(0x1d1)]={},this[_0x172f1d(0x1cb)]={},this[_0x172f1d(0x1d5)]['on'](_0x172f1d(0x1d1),_0x3c26e1=>this['handle'](_0x3c26e1)),this[_0x172f1d(0x1d5)]['on']('error',_0x2f1862=>this[_0x172f1d(0x1c7)](_0x172f1d(0x1b2),_0x2f1862));const _0xbdc815=this[_0x172f1d(0x1bb)]({'pingInterval':this['pingInterval']});this[_0x172f1d(0x1bc)](_0x172f1d(0x1d0),_0xbdc815);}[a11_0x23f03e(0x1ca)](){return __awaiter(this,arguments,void 0x0,function*(_0x458d28=0x3e8,_0x53e85d='',_0x3d9194=0x1388){return new Promise((_0x4aef78,_0x3e291c)=>{const _0x225105=a11_0x144e,_0x7ab80f=Buffer[_0x225105(0x1e1)](_0x53e85d,_0x225105(0x1b4)),_0x4d6f0e=Buffer[_0x225105(0x1d8)](0x2+_0x7ab80f['length']);_0x4d6f0e[_0x225105(0x1b9)](_0x458d28,0x0),_0x7ab80f[_0x225105(0x19c)](_0x4d6f0e,0x2);const _0x23c61c=_0x4d6f0e[_0x225105(0x1a5)],_0x1566d0=_0x23c61c<0x7e?_0x23c61c:_0x23c61c<0x10000?0x7e:0x7f,_0xdd3520=_0x1566d0===0x7e?Buffer[_0x225105(0x1e1)]([0x88,0x7e,_0x23c61c>>0x8&0xff,_0x23c61c&0xff]):_0x1566d0===0x7f?Buffer[_0x225105(0x1e1)]([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x23c61c>>0x8&0xff,_0x23c61c&0xff]):Buffer[_0x225105(0x1e1)]([0x88,_0x23c61c]),_0x3b30be=Buffer[_0x225105(0x196)]([_0xdd3520,_0x4d6f0e]);this[_0x225105(0x1d5)][_0x225105(0x1ae)](_0x3b30be),this['_status']=_0x225105(0x1c1);if(_0x3d9194===null)this[_0x225105(0x1d5)][_0x225105(0x194)](),this['status']!=='closed'&&(this[_0x225105(0x1c7)](_0x225105(0x1b7),{'code':_0x458d28,'reason':_0x53e85d}),this['_status']=_0x225105(0x193)),_0x4aef78();else{let _0x533605=!![];this[_0x225105(0x1d5)][_0x225105(0x1e0)]('data',_0x1da17c=>{const _0x376eeb=_0x225105;if(!_0x533605)return;_0x1da17c[0x0]===0x88?(this[_0x376eeb(0x1ad)]=_0x376eeb(0x193),this['socket'][_0x376eeb(0x194)](),this[_0x376eeb(0x1c7)](_0x376eeb(0x1b7),{'code':_0x458d28,'reason':_0x53e85d}),_0x4aef78()):_0x3e291c(new Error(_0x376eeb(0x1cc)));}),setTimeout(()=>{const _0x504ae9=_0x225105;_0x533605=![],_0x3e291c(new Error(_0x504ae9(0x1a7))),this['socket'][_0x504ae9(0x194)]();},_0x3d9194);}});});}get['status'](){const _0x206441=a11_0x23f03e;return this[_0x206441(0x1ad)];}[a11_0x23f03e(0x1bc)](_0x3e01fc,_0x596f90){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x71b229=a11_0x144e;let _0x19e0ea,_0x2e8789;switch(_0x3e01fc){case _0x71b229(0x1ab):_0x19e0ea=Buffer[_0x71b229(0x1e1)](_0x596f90,_0x71b229(0x1b4)),_0x2e8789=0x1;break;case _0x71b229(0x1d0):_0x19e0ea=_0x596f90,_0x2e8789=0x2;break;case _0x71b229(0x191):_0x19e0ea=_0x596f90,_0x2e8789=0x9;break;case _0x71b229(0x1b1):_0x19e0ea=_0x596f90,_0x2e8789=0xa;break;}const _0x40283a=[];if(_0x19e0ea[_0x71b229(0x1a5)]<0x7e)_0x40283a[_0x71b229(0x1d9)](_0x19e0ea[_0x71b229(0x1a5)]);else{if(_0x19e0ea[_0x71b229(0x1a5)]<0x10000)_0x40283a['push'](0x7e,_0x19e0ea[_0x71b229(0x1a5)]>>0x8&0xff,_0x19e0ea['length']&0xff);else{_0x40283a['push'](0x7f);for(let _0x12beb8=0x7;_0x12beb8>=0x0;_0x12beb8--)_0x40283a[_0x71b229(0x1d9)](_0x19e0ea['length']>>_0x12beb8*0x8&0xff);}}const _0x8dfc07=Buffer[_0x71b229(0x196)]([Buffer['from']([0x80|_0x2e8789,..._0x40283a]),_0x19e0ea]);return new Promise((_0x5c336d,_0x42d9d8)=>{const _0x971e02=_0x71b229;this[_0x971e02(0x1d5)][_0x971e02(0x1ae)](_0x8dfc07,undefined,_0x15e9da=>{if(_0x15e9da!=undefined)return _0x42d9d8(_0x15e9da);_0x5c336d();});});});}[a11_0x23f03e(0x19f)](_0x1bbe4d,_0x457c99,_0x883c82){return __awaiter(this,arguments,void 0x0,function*(_0x4596b0,_0x2b6c98,_0x2aebc2,_0x40ea72=0x5*0x3e8){const _0x397906=a11_0x144e;if(this[_0x397906(0x1d5)]==undefined||this[_0x397906(0x197)]!==_0x397906(0x1d3))throw new Error(_0x397906(0x19b));if(['handshake',_0x397906(0x1d3),_0x397906(0x1b2),_0x397906(0x1b7),'*'][_0x397906(0x1d4)](_0x4596b0))throw new Error(_0x397906(0x1db));const _0x36a557=new TextEncoder()['encode'](_0x4596b0);if(_0x36a557[_0x397906(0x1a5)]>0xff)throw new Error(_0x397906(0x1be));const _0x623f6d=this[_0x397906(0x195)];if(_0x2aebc2!=undefined){this['requestId']=(this['requestId']+0x1)%0x100;const _0x490c96=setTimeout(()=>{const _0x51e4e2=_0x397906;delete this[_0x51e4e2(0x1d7)][_0x623f6d],_0x2aebc2(new Error('Timeout'));},_0x40ea72);this[_0x397906(0x1d7)][_0x623f6d]=_0x4855db=>{if(!(_0x4855db instanceof Error))clearTimeout(_0x490c96);_0x2aebc2(_0x4855db);};}const _0x48007c=this[_0x397906(0x1bb)](_0x2b6c98),_0x38fc41=new Uint8Array(0x2+(_0x2aebc2==undefined?0x0:0x1)+_0x36a557[_0x397906(0x1a5)]+_0x48007c[_0x397906(0x1a5)]);_0x38fc41[0x0]=_0x2aebc2==undefined?0x2:0x3;if(_0x2aebc2!=undefined)_0x38fc41[0x1]=_0x623f6d;return _0x38fc41[0x1+(_0x2aebc2!=undefined?0x1:0x0)]=_0x36a557[_0x397906(0x1a5)],_0x38fc41[_0x397906(0x19d)](_0x36a557,0x2+(_0x2aebc2!=undefined?0x1:0x0)),_0x38fc41[_0x397906(0x19d)](_0x48007c,0x2+(_0x2aebc2!=undefined?0x1:0x0)+_0x36a557['length']),this[_0x397906(0x1bc)]('binary',_0x38fc41);});}[a11_0x23f03e(0x1ce)](_0x3168cf){const _0x3358d6=a11_0x23f03e;var _0xe497e8,_0x2b0196;const _0x2624f5=_0x3168cf[0x0],_0x7a1983=(_0x2624f5&0x80)!==0x0,_0x3c676b=_0x2624f5&0xf,_0x2a7a38=_0x3168cf[0x1],_0xbc3962=(_0x2a7a38&0x80)!==0x0;let _0x45e455=_0x2a7a38&0x7f,_0x8598be=0x2;if(_0x45e455===0x7e)_0x45e455=_0x3168cf[_0x3358d6(0x1df)](_0x8598be),_0x8598be+=0x2;else _0x45e455===0x7f&&(_0x45e455=Number(_0x3168cf[_0x3358d6(0x1e6)](_0x8598be)),_0x8598be+=0x8);const _0x8ea59d=_0xbc3962?_0x3168cf[_0x3358d6(0x1d6)](_0x8598be,_0x8598be+0x4):Buffer['alloc'](0x0);if(_0xbc3962)_0x8598be+=0x4;let _0x5f4523=_0x3168cf[_0x3358d6(0x1d6)](_0x8598be,_0x8598be+_0x45e455);if(_0xbc3962){const _0x1baed1=Buffer[_0x3358d6(0x1d8)](_0x5f4523[_0x3358d6(0x1a5)]);for(let _0x572d36=0x0;_0x572d36<_0x5f4523[_0x3358d6(0x1a5)];_0x572d36++)_0x1baed1[_0x572d36]=_0x5f4523[_0x572d36]^_0x8ea59d[_0x572d36%0x4];_0x5f4523=_0x1baed1;}switch(_0x3c676b){case 0x1:this[_0x3358d6(0x1c7)](_0x3358d6(0x1b2),new Error(_0x3358d6(0x1aa)+_0x5f4523['toString']('utf-8')));break;case 0x2:{if(this[_0x3358d6(0x1ad)]===_0x3358d6(0x19a)){const _0x2449b8=this[_0x3358d6(0x1e8)](_0x5f4523);this[_0x3358d6(0x1c7)](_0x3358d6(0x19a),_0x2449b8),this['_status']=_0x3358d6(0x1d3),this['send']('binary',Buffer[_0x3358d6(0x1d8)](0x0)),this[_0x3358d6(0x1e2)]();return;}const _0x5a72c2=_0x5f4523[0x0];switch(_0x5a72c2){case 0x0:{_0x5f4523[0x0]=0x1,this[_0x3358d6(0x1bc)](_0x3358d6(0x1d0),_0x5f4523);break;}case 0x1:{const _0x17d6b2=_0x5f4523[_0x3358d6(0x1d6)](0x1)[_0x3358d6(0x199)]('utf-8'),_0x3d05ff=this['pingRequests'][_0x17d6b2];if(_0x3d05ff==undefined){this['raise'](_0x3358d6(0x1b2),new Error(_0x3358d6(0x1a1)));return;}_0x3d05ff();break;}case 0x2:case 0x3:{const _0x5e1d42=_0x5a72c2===0x2?Number[_0x3358d6(0x1c9)]:_0x5f4523[0x1],_0x4fe627=_0x5a72c2===0x2?0x0:0x1,_0x50effb=_0x5f4523[0x1+_0x4fe627],_0x4e09f8=new TextDecoder()['decode'](_0x5f4523[_0x3358d6(0x1d6)](0x2+_0x4fe627,0x2+_0x4fe627+_0x50effb));if([_0x3358d6(0x19a),_0x3358d6(0x1d3),_0x3358d6(0x1b2),_0x3358d6(0x1b7),'*'][_0x3358d6(0x1d4)](_0x4e09f8))return;const _0x48e629=this['decode'](_0x5f4523['slice'](0x2+_0x4fe627+_0x50effb)),_0x4dece9=(_0xe497e8=this[_0x3358d6(0x1cb)][_0x4e09f8])!==null&&_0xe497e8!==void 0x0?_0xe497e8:[];let _0x574ae4=![];for(const _0x1dd795 of _0x4dece9){const _0x391c65=_0x1dd795[_0x3358d6(0x1dc)](undefined,_0x48e629);if(!_0x574ae4&&_0x391c65!==undefined&&_0x5e1d42!==0x0){_0x574ae4=!![];const _0x65e3ad=Buffer[_0x3358d6(0x196)]([Buffer['from']([0x4,_0x5e1d42]),this['encode'](_0x391c65)]);this[_0x3358d6(0x1bc)](_0x3358d6(0x1d0),_0x65e3ad);}}const _0x12ef09=(_0x2b0196=this[_0x3358d6(0x1cb)]['*'])!==null&&_0x2b0196!==void 0x0?_0x2b0196:[];for(const _0x41f948 of _0x12ef09)_0x41f948[_0x3358d6(0x1dc)](undefined,_0x4e09f8,_0x48e629);if(!_0x574ae4&&_0x5a72c2===0x3){}break;}case 0x4:{const _0x55b200=_0x5f4523[0x1],_0x50bece=this['pendingRequests'][_0x55b200];if(_0x50bece==undefined)return;const _0x3db56b=this['decode'](_0x5f4523[_0x3358d6(0x1d6)](0x2));_0x50bece(_0x3db56b);break;}}break;}case 0x9:this[_0x3358d6(0x1bc)](_0x3358d6(0x1b1),_0x5f4523);break;case 0xa:break;case 0x8:if(this[_0x3358d6(0x1ad)]===_0x3358d6(0x1c1))return;let _0x6caa2b=0x3e8,_0x584d1b='';_0x5f4523['length']>=0x2&&(_0x6caa2b=_0x5f4523[_0x3358d6(0x1df)](0x0),_0x584d1b=_0x5f4523[_0x3358d6(0x1d6)](0x2)[_0x3358d6(0x199)](_0x3358d6(0x1b4)));this[_0x3358d6(0x1ca)](_0x6caa2b,_0x584d1b,null);break;default:this['raise'](_0x3358d6(0x1b2),new Error(_0x3358d6(0x1dd)+_0x3c676b));}}[a11_0x23f03e(0x1bb)](_0x6150e5){const _0x412b60=a11_0x23f03e;return Buffer[_0x412b60(0x1e1)](JSON[_0x412b60(0x1a2)](_0x6150e5),_0x412b60(0x1b4));}['decode'](_0x4e0d93){const _0x6e50ea=a11_0x23f03e;return JSON['parse'](_0x4e0d93[_0x6e50ea(0x199)]('utf-8'));}[a11_0x23f03e(0x1e2)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x407a78,_0x410b0f)=>{const _0x12b197=a11_0x144e;if(this['_status']!==_0x12b197(0x1d3))return;const _0x4133a5=a11_0x3f10cb['randomUUID'](),_0x5d0805=setTimeout(()=>{const _0x562afd=_0x12b197;delete this['pingRequests'][_0x4133a5];if(![_0x562afd(0x1c1),_0x562afd(0x193)][_0x562afd(0x1d4)](this[_0x562afd(0x197)]))this[_0x562afd(0x1ca)](0x3e8,'',null);_0x407a78(![]);},this['pingTimeout']);this['pingRequests'][_0x4133a5]=()=>{const _0x1a116f=_0x12b197;delete this[_0x1a116f(0x190)][_0x4133a5],clearTimeout(_0x5d0805),_0x407a78(!![]),setTimeout(()=>{const _0x8af5ea=_0x1a116f;if(this[_0x8af5ea(0x1ad)]!==_0x8af5ea(0x1d3))return;this[_0x8af5ea(0x1e2)]();},this['pingInterval']);},this[_0x12b197(0x1bc)](_0x12b197(0x1d0),Buffer[_0x12b197(0x196)]([Buffer[_0x12b197(0x1e1)]([0x0]),Buffer[_0x12b197(0x1e1)](_0x4133a5)]));});});}['on'](_0x434ae0,_0x46896d){const _0x3b501e=a11_0x23f03e;if(this[_0x3b501e(0x1cb)][_0x434ae0]==undefined)this[_0x3b501e(0x1cb)][_0x434ae0]=[];this[_0x3b501e(0x1cb)][_0x434ae0][_0x3b501e(0x1d9)](_0x46896d);}[a11_0x23f03e(0x1c2)](_0x452a06,_0x23246c){const _0x576702=a11_0x23f03e;if(_0x23246c==undefined){this[_0x576702(0x1cb)][_0x452a06]=[];return;}const _0x20bca9=this[_0x576702(0x1cb)][_0x452a06],_0x3f4ea5=(_0x20bca9!==null&&_0x20bca9!==void 0x0?_0x20bca9:[])[_0x576702(0x1e7)](_0x50d98f=>_0x50d98f===_0x23246c);if(_0x3f4ea5===-0x1)throw new Error(_0x576702(0x1a3)+_0x452a06+'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found');_0x20bca9[_0x576702(0x1e4)](_0x3f4ea5,0x1);}['raise'](_0x56e345,_0xf2cc21){const _0xeda9d6=a11_0x23f03e;var _0x47f97d,_0x2f04c4;const _0x266e6a=(_0x47f97d=this[_0xeda9d6(0x1cb)][_0x56e345])!==null&&_0x47f97d!==void 0x0?_0x47f97d:[];for(const _0x38584c of _0x266e6a)_0x38584c(_0xf2cc21);const _0x1dc2bf=(_0x2f04c4=this[_0xeda9d6(0x1cb)]['*'])!==null&&_0x2f04c4!==void 0x0?_0x2f04c4:[];for(const _0x4bcd32 of _0x1dc2bf)_0x4bcd32(_0x56e345,_0xf2cc21);}static[a11_0x23f03e(0x1c4)](_0x17e02a,_0x5a1791){const _0x4f1817=a11_0x23f03e,_0x378b71=_0x17e02a[_0x4f1817(0x1a4)][_0x4f1817(0x1c3)];if(_0x378b71==undefined)return _0x5a1791[_0x4f1817(0x1bd)](),null;const _0x1b31f7=a11_0x3f10cb[_0x4f1817(0x1b5)](_0x4f1817(0x1ac));_0x1b31f7[_0x4f1817(0x1c8)](_0x378b71+_0x4f1817(0x19e));const _0x1d472b=_0x1b31f7['digest'](_0x4f1817(0x1a0)),_0x250dcf=['HTTP/1.1\x20101\x20Switching\x20Protocols','Upgrade:\x20websocket',_0x4f1817(0x1cd),_0x4f1817(0x1a9)+_0x1d472b];return _0x5a1791['write'](_0x250dcf[_0x4f1817(0x1b3)]('\x0d\x0a')+_0x4f1817(0x192)),new Socket(_0x5a1791);}}