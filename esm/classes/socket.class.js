const a9_0x169af9=a9_0x28bb;(function(_0x22f65e,_0x4a57da){const _0x159c38=a9_0x28bb,_0x2999e5=_0x22f65e();while(!![]){try{const _0x4ea167=-parseInt(_0x159c38(0xb9))/0x1*(parseInt(_0x159c38(0xf4))/0x2)+parseInt(_0x159c38(0xca))/0x3+-parseInt(_0x159c38(0xf5))/0x4+-parseInt(_0x159c38(0xf7))/0x5+-parseInt(_0x159c38(0xbe))/0x6+parseInt(_0x159c38(0xf2))/0x7+parseInt(_0x159c38(0xda))/0x8;if(_0x4ea167===_0x4a57da)break;else _0x2999e5['push'](_0x2999e5['shift']());}catch(_0x327750){_0x2999e5['push'](_0x2999e5['shift']());}}}(a9_0x7710,0xaf302));function a9_0x7710(){const _0x1fa221=['2623576EfWoLD','digest','4695610VifNVf','Connection:\x20Upgrade','length','handle','Received\x20message\x20with\x20unsupported\x20opcode:\x20','push','socket','pingInterval','text','apply',';\x20This\x20is\x20non-standard:\x20someone\x20is\x20trying\x20to\x20hack\x20the\x20protocol?','encode','requestId','join','throw','pong','emit','destroy','disconnect','closed','base64','once','readUInt16BE','\x20but\x20no\x20pending\x20request\x20was\x20found','checkHeartbeat','704357anUQra','Received\x20a\x20request\x20with\x20callback\x20for\x20the\x20event\x20','readBigUInt64BE','fromUpgradeRequest','Upgrade:\x20websocket','465696OFuNPF','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handskake,\x20open,\x20error\x20or\x20close','sec-websocket-key','concat','readUInt8','Received\x20a\x20response\x20for\x20the\x20id\x20','pingRequests','data','Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping','alloc','sha1','decode','2863554blJtXp','send','utf-8','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','Received\x20non-standard\x20text\x20message:\x20','then','close','\x20but\x20no\x20handler\x20return\x20a\x20result','closing','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','The\x20websocket\x20is\x20not\x20connected','next','call','handshake','open','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','15532520mdgCMJ','raise','from','findIndex','write','splice','parse','Timeout','error','toString','pendingRequests','pingTimeout','update','status','includes','slice','binary','handlers','HTTP/1.1\x20101\x20Switching\x20Protocols','stringify','end','randomUUID','\x0d\x0a\x0d\x0a','writeUInt16BE','1389332rRWSmB','value','2WHJBob'];a9_0x7710=function(){return _0x1fa221;};return a9_0x7710();}var __awaiter=this&&this['__awaiter']||function(_0x5e230c,_0x3a180d,_0x1b7bbf,_0x2e468b){function _0x47a420(_0x2b1781){return _0x2b1781 instanceof _0x1b7bbf?_0x2b1781:new _0x1b7bbf(function(_0x134510){_0x134510(_0x2b1781);});}return new(_0x1b7bbf||(_0x1b7bbf=Promise))(function(_0x2e9236,_0x27b26f){const _0x1758b2=a9_0x28bb;function _0xbd3b7f(_0x447d2a){const _0x3e2434=a9_0x28bb;try{_0x44cf3e(_0x2e468b[_0x3e2434(0xd5)](_0x447d2a));}catch(_0x578dec){_0x27b26f(_0x578dec);}}function _0x4d3ad1(_0x3371f5){const _0x236bbe=a9_0x28bb;try{_0x44cf3e(_0x2e468b[_0x236bbe(0xae)](_0x3371f5));}catch(_0x4e2338){_0x27b26f(_0x4e2338);}}function _0x44cf3e(_0x49b90b){const _0x50eb7b=a9_0x28bb;_0x49b90b['done']?_0x2e9236(_0x49b90b[_0x50eb7b(0xf3)]):_0x47a420(_0x49b90b['value'])[_0x50eb7b(0xcf)](_0xbd3b7f,_0x4d3ad1);}_0x44cf3e((_0x2e468b=_0x2e468b[_0x1758b2(0xa9)](_0x5e230c,_0x3a180d||[]))[_0x1758b2(0xd5)]());});};function a9_0x28bb(_0x46893a,_0x15fb83){const _0x771090=a9_0x7710();return a9_0x28bb=function(_0x28bbb2,_0x5d5a43){_0x28bbb2=_0x28bbb2-0xa5;let _0x43ac29=_0x771090[_0x28bbb2];return _0x43ac29;},a9_0x28bb(_0x46893a,_0x15fb83);}import a9_0x3f4906 from'crypto';export default class Socket{constructor(_0x137329){const _0x2efc02=a9_0x28bb;this['socket']=_0x137329,this[_0x2efc02(0xe7)]=_0x2efc02(0xd7),this['pingInterval']=0x5*0x3e8,this[_0x2efc02(0xe5)]=0x2*0x3e8,this[_0x2efc02(0xc4)]={},this[_0x2efc02(0xac)]=0x1,this['pendingRequests']={},this['locals']={},this[_0x2efc02(0xeb)]={},this[_0x2efc02(0xa6)]['on']('data',_0x1b735d=>this[_0x2efc02(0xfa)](_0x1b735d)),this[_0x2efc02(0xa6)]['on']('error',_0x3a7a19=>this[_0x2efc02(0xdb)](_0x2efc02(0xe2),_0x3a7a19)),this[_0x2efc02(0xa6)]['on'](_0x2efc02(0xd0),()=>{}),this[_0x2efc02(0xb8)]();const _0x3278dc=this[_0x2efc02(0xab)]({'pingInterval':this[_0x2efc02(0xa7)]});this[_0x2efc02(0xcb)](_0x2efc02(0xea),_0x3278dc);}['disconnect'](){return __awaiter(this,arguments,void 0x0,function*(_0xdb0dd7=0x3e8,_0x9b305a='',_0x259e2c=0x1388){return new Promise((_0x3d3a3b,_0xb730c1)=>{const _0x25d235=a9_0x28bb,_0x137c56=Buffer[_0x25d235(0xdc)](_0x9b305a,_0x25d235(0xcc)),_0x418074=Buffer['alloc'](0x2+_0x137c56[_0x25d235(0xf9)]);_0x418074[_0x25d235(0xf1)](_0xdb0dd7,0x0),_0x137c56['copy'](_0x418074,0x2);const _0x27c303=_0x418074['length'],_0xeabc68=_0x27c303<0x7e?_0x27c303:_0x27c303<0x10000?0x7e:0x7f,_0x26ab88=_0xeabc68===0x7e?Buffer[_0x25d235(0xdc)]([0x88,0x7e,_0x27c303>>0x8&0xff,_0x27c303&0xff]):_0xeabc68===0x7f?Buffer[_0x25d235(0xdc)]([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x27c303>>0x8&0xff,_0x27c303&0xff]):Buffer[_0x25d235(0xdc)]([0x88,_0x27c303]),_0x2c0910=Buffer[_0x25d235(0xc1)]([_0x26ab88,_0x418074]);this[_0x25d235(0xa6)][_0x25d235(0xde)](_0x2c0910),this['status']=_0x25d235(0xd2);if(_0x259e2c===null)this[_0x25d235(0xe7)]=_0x25d235(0xb3),this[_0x25d235(0xa6)][_0x25d235(0xee)](),this[_0x25d235(0xdb)]('close',{'code':_0xdb0dd7,'reason':_0x9b305a}),_0x3d3a3b();else{let _0x10a47c=!![];this[_0x25d235(0xa6)][_0x25d235(0xb5)](_0x25d235(0xc5),_0x57e0f9=>{const _0x3f72cc=_0x25d235;if(!_0x10a47c)return;_0x57e0f9[0x0]===0x88?(this[_0x3f72cc(0xe7)]=_0x3f72cc(0xb3),this[_0x3f72cc(0xa6)][_0x3f72cc(0xee)](),this[_0x3f72cc(0xdb)](_0x3f72cc(0xd0),{'code':_0xdb0dd7,'reason':_0x9b305a}),_0x3d3a3b()):_0xb730c1(new Error('Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.'));}),setTimeout(()=>{const _0x51bce8=_0x25d235;_0x10a47c=![],_0xb730c1(new Error('Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.')),this[_0x51bce8(0xa6)][_0x51bce8(0xee)]();},_0x259e2c);}});});}[a9_0x169af9(0xcb)](_0x408a3d,_0x370b8a){const _0x41acba=a9_0x169af9;let _0x2f30f3,_0x2e46ac;switch(_0x408a3d){case _0x41acba(0xa8):_0x2f30f3=Buffer['from'](_0x370b8a,_0x41acba(0xcc)),_0x2e46ac=0x1;break;case _0x41acba(0xea):_0x2f30f3=_0x370b8a,_0x2e46ac=0x2;break;case'ping':_0x2f30f3=_0x370b8a,_0x2e46ac=0x9;break;case _0x41acba(0xaf):_0x2f30f3=_0x370b8a,_0x2e46ac=0xa;break;}const _0x4d4bc5=[];if(_0x2f30f3[_0x41acba(0xf9)]<0x7e)_0x4d4bc5[_0x41acba(0xa5)](_0x2f30f3['length']);else{if(_0x2f30f3['length']<0x10000)_0x4d4bc5[_0x41acba(0xa5)](0x7e,_0x2f30f3[_0x41acba(0xf9)]>>0x8&0xff,_0x2f30f3[_0x41acba(0xf9)]&0xff);else{_0x4d4bc5['push'](0x7f);for(let _0x5b3c50=0x7;_0x5b3c50>=0x0;_0x5b3c50--)_0x4d4bc5[_0x41acba(0xa5)](_0x2f30f3[_0x41acba(0xf9)]>>_0x5b3c50*0x8&0xff);}}const _0x3aefff=Buffer[_0x41acba(0xc1)]([Buffer[_0x41acba(0xdc)]([0x80|_0x2e46ac,..._0x4d4bc5]),_0x2f30f3]);this[_0x41acba(0xa6)][_0x41acba(0xde)](_0x3aefff);}[a9_0x169af9(0xb0)](_0x1b2461,_0x561507,_0x4eef39,_0x4c9608=0x32*0x3e8){const _0x4d1fbe=a9_0x169af9;if(this[_0x4d1fbe(0xa6)]==undefined||this[_0x4d1fbe(0xe7)]!==_0x4d1fbe(0xd8))throw new Error(_0x4d1fbe(0xd4));if([_0x4d1fbe(0xd7),_0x4d1fbe(0xd8),'error',_0x4d1fbe(0xd0)][_0x4d1fbe(0xe8)](_0x1b2461))throw new Error(_0x4d1fbe(0xbf));const _0x16c5a6=_0x4eef39==undefined?0x0:this[_0x4d1fbe(0xac)],_0xaa11b0=Buffer[_0x4d1fbe(0xdc)](_0x1b2461,_0x4d1fbe(0xcc));if(_0xaa11b0[_0x4d1fbe(0xf9)]>0xff)throw new Error('Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)');if(_0x4eef39!=undefined){this['requestId']=(this[_0x4d1fbe(0xac)]+0x1)%0x80||0x1;const _0x4c1d89=setTimeout(()=>{const _0x5ef55b=_0x4d1fbe;delete this[_0x5ef55b(0xe4)][_0x16c5a6],_0x4eef39(new Error(_0x5ef55b(0xe1)));},_0x4c9608);this[_0x4d1fbe(0xe4)][_0x16c5a6]=_0x25a294=>{if(!(_0x25a294 instanceof Error))clearTimeout(_0x4c1d89);_0x4eef39(_0x25a294);};}const _0x317734=Buffer['concat']([Buffer[_0x4d1fbe(0xdc)]([_0x16c5a6|0x80,_0xaa11b0['length']]),_0xaa11b0,this['encode'](_0x561507)]);this[_0x4d1fbe(0xcb)](_0x4d1fbe(0xea),_0x317734);}[a9_0x169af9(0xfa)](_0x3abe44){const _0x4c80d6=a9_0x169af9;var _0x443085;const _0x2ac1f5=_0x3abe44[0x0],_0x54fc6b=(_0x2ac1f5&0x80)!==0x0,_0x101eb6=_0x2ac1f5&0xf,_0x5bd083=_0x3abe44[0x1],_0x2094d8=(_0x5bd083&0x80)!==0x0;let _0x41be41=_0x5bd083&0x7f,_0xdc869c=0x2;if(_0x41be41===0x7e)_0x41be41=_0x3abe44[_0x4c80d6(0xb6)](_0xdc869c),_0xdc869c+=0x2;else _0x41be41===0x7f&&(_0x41be41=Number(_0x3abe44[_0x4c80d6(0xbb)](_0xdc869c)),_0xdc869c+=0x8);const _0x43016a=_0x2094d8?_0x3abe44[_0x4c80d6(0xe9)](_0xdc869c,_0xdc869c+0x4):Buffer[_0x4c80d6(0xc7)](0x0);if(_0x2094d8)_0xdc869c+=0x4;let _0x32407f=_0x3abe44[_0x4c80d6(0xe9)](_0xdc869c,_0xdc869c+_0x41be41);if(_0x2094d8){const _0xb842c8=Buffer[_0x4c80d6(0xc7)](_0x32407f[_0x4c80d6(0xf9)]);for(let _0x4f3270=0x0;_0x4f3270<_0x32407f[_0x4c80d6(0xf9)];_0x4f3270++)_0xb842c8[_0x4f3270]=_0x32407f[_0x4f3270]^_0x43016a[_0x4f3270%0x4];_0x32407f=_0xb842c8;}switch(_0x101eb6){case 0x1:this[_0x4c80d6(0xdb)](_0x4c80d6(0xe2),new Error(_0x4c80d6(0xce)+_0x32407f[_0x4c80d6(0xe3)](_0x4c80d6(0xcc))));break;case 0x2:{if(this['status']==='handshake'){const _0x13dc2b=this[_0x4c80d6(0xc9)](_0x32407f);this[_0x4c80d6(0xdb)](_0x4c80d6(0xd7),_0x13dc2b),this[_0x4c80d6(0xe7)]=_0x4c80d6(0xd8),this[_0x4c80d6(0xcb)](_0x4c80d6(0xea),Buffer[_0x4c80d6(0xc7)](0x0));return;}const _0x59e00c=_0x32407f[_0x4c80d6(0xc2)](0x0),_0xf8757e=_0x59e00c&0x7f,_0x106207=(_0x59e00c&0x80)!==0x0;if(_0x106207){const _0x7b3d12=_0x32407f[_0x4c80d6(0xc2)](0x1),_0x4a3994=_0x32407f['slice'](0x2,0x2+_0x7b3d12)['toString'](_0x4c80d6(0xcc));if(['handshake',_0x4c80d6(0xd8),_0x4c80d6(0xe2),_0x4c80d6(0xd0)][_0x4c80d6(0xe8)](_0x4a3994)){this[_0x4c80d6(0xdb)](_0x4c80d6(0xe2),new Error('Received\x20a\x20request\x20with\x20eventName\x20'+_0x4a3994+_0x4c80d6(0xaa)));return;}const _0x279048=this[_0x4c80d6(0xc9)](_0x32407f[_0x4c80d6(0xe9)](0x2+_0x7b3d12)),_0x4aadec=(_0x443085=this[_0x4c80d6(0xeb)][_0x4a3994])!==null&&_0x443085!==void 0x0?_0x443085:[];let _0x2b9ede=![];for(const _0x2cb6c7 of _0x4aadec){const _0x2c2840=_0x2cb6c7[_0x4c80d6(0xd6)](undefined,_0x279048);if(!_0x2b9ede&&_0x2c2840!==undefined&&_0xf8757e!==0x0){_0x2b9ede=!![];const _0x3573e0=Buffer['concat']([Buffer[_0x4c80d6(0xdc)]([_0xf8757e&0x7f]),this[_0x4c80d6(0xab)](_0x2c2840)]);this[_0x4c80d6(0xcb)](_0x4c80d6(0xea),_0x3573e0);}}if(!_0x2b9ede&&_0xf8757e!==0x0)this['raise'](_0x4c80d6(0xe2),new Error(_0x4c80d6(0xba)+_0x4a3994+_0x4c80d6(0xd1)));return;}const _0x411cb6=this['pendingRequests'][_0xf8757e];if(_0x411cb6==undefined){this['raise']('error',new Error(_0x4c80d6(0xc3)+_0xf8757e+_0x4c80d6(0xb7)));return;}const _0x134034=this[_0x4c80d6(0xc9)](_0x32407f[_0x4c80d6(0xe9)](0x1));_0x411cb6[_0x4c80d6(0xd6)](undefined,_0x134034);break;}case 0x9:this['send'](_0x4c80d6(0xaf),_0x32407f);break;case 0xa:const _0x4fb5d0=_0x32407f['toString'](_0x4c80d6(0xcc)),_0x5691c0=this[_0x4c80d6(0xc4)][_0x4fb5d0];if(_0x5691c0==undefined){this[_0x4c80d6(0xdb)]('error',new Error(_0x4c80d6(0xc6)));return;}_0x5691c0();break;case 0x8:if(this[_0x4c80d6(0xe7)]===_0x4c80d6(0xd2))return;let _0x15bca0=0x3e8,_0x36be4a='';_0x32407f[_0x4c80d6(0xf9)]>=0x2&&(_0x15bca0=_0x32407f[_0x4c80d6(0xb6)](0x0),_0x36be4a=_0x32407f['slice'](0x2)[_0x4c80d6(0xe3)](_0x4c80d6(0xcc)));this[_0x4c80d6(0xb2)](_0x15bca0,_0x36be4a,null);break;default:this[_0x4c80d6(0xdb)](_0x4c80d6(0xe2),new Error(_0x4c80d6(0xfb)+_0x101eb6));}}[a9_0x169af9(0xab)](_0x7f42ca){const _0x14494c=a9_0x169af9;return Buffer['from'](JSON[_0x14494c(0xed)](_0x7f42ca),_0x14494c(0xcc));}[a9_0x169af9(0xc9)](_0x5e3a55){const _0x24708c=a9_0x169af9;return JSON[_0x24708c(0xe0)](_0x5e3a55[_0x24708c(0xe3)]('utf-8'));}[a9_0x169af9(0xb8)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x5855f6,_0x283c8a)=>{const _0x5cf75b=a9_0x28bb,_0x4d69aa=a9_0x3f4906[_0x5cf75b(0xef)](),_0x2421a0=setTimeout(()=>{const _0x45dff8=_0x5cf75b;delete this[_0x45dff8(0xc4)][_0x4d69aa],this[_0x45dff8(0xb2)](0x3e8,'',null),_0x5855f6(![]);},this['pingTimeout']);this[_0x5cf75b(0xc4)][_0x4d69aa]=()=>{const _0x5ec750=_0x5cf75b;delete this[_0x5ec750(0xc4)][_0x4d69aa],clearTimeout(_0x2421a0),_0x5855f6(!![]),setTimeout(()=>{const _0x3cb2b9=_0x5ec750;if(this[_0x3cb2b9(0xe7)]!==_0x3cb2b9(0xd8))return;this[_0x3cb2b9(0xb8)]();},this[_0x5ec750(0xa7)]);},this[_0x5cf75b(0xcb)]('ping',Buffer[_0x5cf75b(0xdc)](_0x4d69aa));});});}['on'](_0x2c9684,_0x5af99c){const _0x2b1d7e=a9_0x169af9;if(this['handlers'][_0x2c9684]==undefined)this[_0x2b1d7e(0xeb)][_0x2c9684]=[];this[_0x2b1d7e(0xeb)][_0x2c9684][_0x2b1d7e(0xa5)](_0x5af99c);}['off'](_0x260304,_0x10f097){const _0x1ef239=a9_0x169af9;if(_0x10f097==undefined){this['handlers'][_0x260304]=[];return;}const _0x2d0817=this[_0x1ef239(0xeb)][_0x260304],_0x3af00f=(_0x2d0817!==null&&_0x2d0817!==void 0x0?_0x2d0817:[])[_0x1ef239(0xdd)](_0x5471d5=>_0x5471d5===_0x10f097);if(_0x3af00f===-0x1)throw new Error(_0x1ef239(0xd9)+_0x260304+_0x1ef239(0xcd));_0x2d0817[_0x1ef239(0xdf)](_0x3af00f,0x1);}[a9_0x169af9(0xdb)](_0x1f1c56,_0x11fb1b){const _0x567670=a9_0x169af9;var _0x4f1a0f;const _0x3790aa=(_0x4f1a0f=this[_0x567670(0xeb)][_0x1f1c56])!==null&&_0x4f1a0f!==void 0x0?_0x4f1a0f:[];for(const _0x2a2d47 of _0x3790aa){_0x2a2d47(_0x11fb1b);}}static[a9_0x169af9(0xbc)](_0x186d20,_0x3add33){const _0x37d5a1=a9_0x169af9,_0x234e1c=_0x186d20['headers'][_0x37d5a1(0xc0)];if(_0x234e1c==undefined)return _0x3add33[_0x37d5a1(0xb1)](),null;const _0x3d6db7=a9_0x3f4906['createHash'](_0x37d5a1(0xc8));_0x3d6db7[_0x37d5a1(0xe6)](_0x234e1c+_0x37d5a1(0xd3));const _0x357357=_0x3d6db7[_0x37d5a1(0xf6)](_0x37d5a1(0xb4)),_0x3c1b1c=[_0x37d5a1(0xec),_0x37d5a1(0xbd),_0x37d5a1(0xf8),'Sec-WebSocket-Accept:\x20'+_0x357357];return _0x3add33[_0x37d5a1(0xde)](_0x3c1b1c[_0x37d5a1(0xad)]('\x0d\x0a')+_0x37d5a1(0xf0)),new Socket(_0x3add33);}}