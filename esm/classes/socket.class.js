const a9_0x41d32a=a9_0x19c1;(function(_0x2d80ac,_0x230353){const _0x140888=a9_0x19c1,_0x28a90f=_0x2d80ac();while(!![]){try{const _0x1324fd=parseInt(_0x140888(0x1ae))/0x1+parseInt(_0x140888(0x188))/0x2*(parseInt(_0x140888(0x17b))/0x3)+parseInt(_0x140888(0x1b6))/0x4*(-parseInt(_0x140888(0x19e))/0x5)+-parseInt(_0x140888(0x16c))/0x6*(parseInt(_0x140888(0x191))/0x7)+parseInt(_0x140888(0x189))/0x8*(-parseInt(_0x140888(0x192))/0x9)+-parseInt(_0x140888(0x1b5))/0xa*(-parseInt(_0x140888(0x1a8))/0xb)+parseInt(_0x140888(0x1a2))/0xc;if(_0x1324fd===_0x230353)break;else _0x28a90f['push'](_0x28a90f['shift']());}catch(_0x190dcf){_0x28a90f['push'](_0x28a90f['shift']());}}}(a9_0x1487,0xf3b7e));var __awaiter=this&&this[a9_0x41d32a(0x1a9)]||function(_0x3f2750,_0x54e98b,_0xbf8bbc,_0x52c427){function _0x236ce4(_0x4d89bd){return _0x4d89bd instanceof _0xbf8bbc?_0x4d89bd:new _0xbf8bbc(function(_0x1de279){_0x1de279(_0x4d89bd);});}return new(_0xbf8bbc||(_0xbf8bbc=Promise))(function(_0x3f7394,_0x44e8fd){const _0x28a7df=a9_0x19c1;function _0x4f7e85(_0x50b17b){try{_0x23e6a8(_0x52c427['next'](_0x50b17b));}catch(_0x31eefc){_0x44e8fd(_0x31eefc);}}function _0x15aada(_0xf7073){try{_0x23e6a8(_0x52c427['throw'](_0xf7073));}catch(_0x44578a){_0x44e8fd(_0x44578a);}}function _0x23e6a8(_0x56e9f8){const _0x8a5836=a9_0x19c1;_0x56e9f8['done']?_0x3f7394(_0x56e9f8[_0x8a5836(0x168)]):_0x236ce4(_0x56e9f8[_0x8a5836(0x168)])[_0x8a5836(0x17f)](_0x4f7e85,_0x15aada);}_0x23e6a8((_0x52c427=_0x52c427[_0x28a7df(0x165)](_0x3f2750,_0x54e98b||[]))['next']());});};import a9_0x3f463c from'crypto';export default class Socket{constructor(_0x3e47e4){const _0x1a647f=a9_0x41d32a;this[_0x1a647f(0x18c)]=_0x3e47e4,this[_0x1a647f(0x184)]=_0x1a647f(0x1b0),this[_0x1a647f(0x162)]=0x5*0x3e8,this[_0x1a647f(0x167)]=0x2*0x3e8,this[_0x1a647f(0x187)]={},this[_0x1a647f(0x1a0)]=0x1,this[_0x1a647f(0x16b)]={},this['data']={},this[_0x1a647f(0x190)]={},this[_0x1a647f(0x18c)]['on'](_0x1a647f(0x163),_0x25256f=>this['handle'](_0x25256f)),this[_0x1a647f(0x18c)]['on']('error',_0x5500cf=>this[_0x1a647f(0x1ad)]('error',_0x5500cf)),this[_0x1a647f(0x18c)]['on'](_0x1a647f(0x1a1),()=>{}),this[_0x1a647f(0x1aa)]();const _0x17816c=this['encode']({'pingInterval':this[_0x1a647f(0x162)]});this[_0x1a647f(0x1a4)]('binary',_0x17816c);}[a9_0x41d32a(0x16e)](){return __awaiter(this,arguments,void 0x0,function*(_0x3a1981=0x3e8,_0x39e32a='',_0x4a6e0e=0x1388){return new Promise((_0x280e1e,_0x466b2e)=>{const _0x280beb=a9_0x19c1,_0x36cf32=Buffer[_0x280beb(0x1ac)](_0x39e32a,_0x280beb(0x160)),_0x557b97=Buffer[_0x280beb(0x17c)](0x2+_0x36cf32[_0x280beb(0x170)]);_0x557b97['writeUInt16BE'](_0x3a1981,0x0),_0x36cf32['copy'](_0x557b97,0x2);const _0x1cd53b=_0x557b97[_0x280beb(0x170)],_0x467779=_0x1cd53b<0x7e?_0x1cd53b:_0x1cd53b<0x10000?0x7e:0x7f,_0x37dc68=_0x467779===0x7e?Buffer['from']([0x88,0x7e,_0x1cd53b>>0x8&0xff,_0x1cd53b&0xff]):_0x467779===0x7f?Buffer['from']([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x1cd53b>>0x8&0xff,_0x1cd53b&0xff]):Buffer[_0x280beb(0x1ac)]([0x88,_0x1cd53b]),_0x25c9bb=Buffer[_0x280beb(0x19b)]([_0x37dc68,_0x557b97]);this[_0x280beb(0x18c)]['write'](_0x25c9bb),this['status']=_0x280beb(0x18e);if(_0x4a6e0e===null)this[_0x280beb(0x184)]='closed',this[_0x280beb(0x18c)][_0x280beb(0x17d)](),this[_0x280beb(0x1ad)](_0x280beb(0x1a1),{'code':_0x3a1981,'reason':_0x39e32a}),_0x280e1e();else{let _0x2fd4d7=!![];this[_0x280beb(0x18c)][_0x280beb(0x16a)](_0x280beb(0x163),_0x4b0842=>{const _0x2b6f5a=_0x280beb;if(!_0x2fd4d7)return;_0x4b0842[0x0]===0x88?(this[_0x2b6f5a(0x184)]=_0x2b6f5a(0x1ab),this['socket'][_0x2b6f5a(0x17d)](),this[_0x2b6f5a(0x1ad)](_0x2b6f5a(0x1a1),{'code':_0x3a1981,'reason':_0x39e32a}),_0x280e1e()):_0x466b2e(new Error(_0x2b6f5a(0x180)));}),setTimeout(()=>{const _0x56280c=_0x280beb;_0x2fd4d7=![],_0x466b2e(new Error(_0x56280c(0x18f))),this[_0x56280c(0x18c)][_0x56280c(0x17d)]();},_0x4a6e0e);}});});}['send'](_0xdfe067,_0x6473d0){const _0x579a79=a9_0x41d32a;let _0x446884,_0x4c6e8b;switch(_0xdfe067){case _0x579a79(0x19f):_0x446884=Buffer[_0x579a79(0x1ac)](_0x6473d0,_0x579a79(0x160)),_0x4c6e8b=0x1;break;case'binary':_0x446884=_0x6473d0,_0x4c6e8b=0x2;break;case _0x579a79(0x199):_0x446884=_0x6473d0,_0x4c6e8b=0x9;break;case'pong':_0x446884=_0x6473d0,_0x4c6e8b=0xa;break;}const _0x40c00a=[];if(_0x446884['length']<0x7e)_0x40c00a[_0x579a79(0x181)](_0x446884[_0x579a79(0x170)]);else{if(_0x446884['length']<0x10000)_0x40c00a['push'](0x7e,_0x446884[_0x579a79(0x170)]>>0x8&0xff,_0x446884[_0x579a79(0x170)]&0xff);else{_0x40c00a[_0x579a79(0x181)](0x7f);for(let _0x5af46a=0x7;_0x5af46a>=0x0;_0x5af46a--)_0x40c00a['push'](_0x446884[_0x579a79(0x170)]>>_0x5af46a*0x8&0xff);}}const _0x3fd0da=Buffer[_0x579a79(0x19b)]([Buffer[_0x579a79(0x1ac)]([0x80|_0x4c6e8b,..._0x40c00a]),_0x446884]);this['socket'][_0x579a79(0x1b4)](_0x3fd0da);}['emit'](_0x235445,_0x396bea,_0x4b1508,_0x364815=0x32*0x3e8){const _0x69534d=a9_0x41d32a;if(this[_0x69534d(0x18c)]==undefined||this[_0x69534d(0x184)]!=='open')throw new Error(_0x69534d(0x1a5));if([_0x69534d(0x1b0),_0x69534d(0x186),_0x69534d(0x1a3),_0x69534d(0x1a1)][_0x69534d(0x19c)](_0x235445))throw new Error(_0x69534d(0x169));const _0x2841e8=_0x4b1508==undefined?0x0:this[_0x69534d(0x1a0)],_0xf8ec4=Buffer['from'](_0x235445,_0x69534d(0x160));if(_0xf8ec4[_0x69534d(0x170)]>0xff)throw new Error(_0x69534d(0x19a));if(_0x4b1508!=undefined){this[_0x69534d(0x1a0)]=(this[_0x69534d(0x1a0)]+0x1)%0x80||0x1;const _0x54c45d=setTimeout(()=>{const _0x4e3ba4=_0x69534d;delete this[_0x4e3ba4(0x16b)][_0x2841e8],_0x4b1508(new Error(_0x4e3ba4(0x194)));},_0x364815);this['pendingRequests'][_0x2841e8]=_0x13c22e=>{if(!(_0x13c22e instanceof Error))clearTimeout(_0x54c45d);_0x4b1508(_0x13c22e);};}const _0x5ad33e=Buffer[_0x69534d(0x19b)]([Buffer[_0x69534d(0x1ac)]([_0x2841e8|0x80,_0xf8ec4[_0x69534d(0x170)]]),_0xf8ec4,this['encode'](_0x396bea)]);this[_0x69534d(0x1a4)]('binary',_0x5ad33e);}[a9_0x41d32a(0x173)](_0xdbd61c){const _0x34f7f9=a9_0x41d32a;var _0x3eb990,_0x383a29;const _0x4d6d11=_0xdbd61c[0x0],_0x36e138=(_0x4d6d11&0x80)!==0x0,_0x47b988=_0x4d6d11&0xf,_0x4c4f13=_0xdbd61c[0x1],_0x4b3212=(_0x4c4f13&0x80)!==0x0;let _0x487471=_0x4c4f13&0x7f,_0x535066=0x2;if(_0x487471===0x7e)_0x487471=_0xdbd61c[_0x34f7f9(0x19d)](_0x535066),_0x535066+=0x2;else _0x487471===0x7f&&(_0x487471=Number(_0xdbd61c[_0x34f7f9(0x17a)](_0x535066)),_0x535066+=0x8);const _0x57bab5=_0x4b3212?_0xdbd61c[_0x34f7f9(0x18a)](_0x535066,_0x535066+0x4):Buffer['alloc'](0x0);if(_0x4b3212)_0x535066+=0x4;let _0x59b866=_0xdbd61c[_0x34f7f9(0x18a)](_0x535066,_0x535066+_0x487471);if(_0x4b3212){const _0x240077=Buffer['alloc'](_0x59b866[_0x34f7f9(0x170)]);for(let _0x125897=0x0;_0x125897<_0x59b866[_0x34f7f9(0x170)];_0x125897++)_0x240077[_0x125897]=_0x59b866[_0x125897]^_0x57bab5[_0x125897%0x4];_0x59b866=_0x240077;}switch(_0x47b988){case 0x1:this[_0x34f7f9(0x1ad)](_0x34f7f9(0x1a3),new Error(_0x34f7f9(0x175)+_0x59b866[_0x34f7f9(0x178)]('utf-8')));break;case 0x2:{if(this['status']===_0x34f7f9(0x1b0)){const _0x15863f=this[_0x34f7f9(0x1b2)](_0x59b866);this[_0x34f7f9(0x1ad)](_0x34f7f9(0x1b0),_0x15863f),this[_0x34f7f9(0x184)]='open',this['send']('binary',Buffer[_0x34f7f9(0x17c)](0x0));return;}const _0x1c7f45=_0x59b866['readUInt8'](0x0),_0x12c8f3=_0x1c7f45&0x7f,_0x5c4e3f=(_0x1c7f45&0x80)!==0x0;if(_0x5c4e3f){const _0x7d28e6=_0x59b866[_0x34f7f9(0x193)](0x1),_0x51c56d=_0x59b866['slice'](0x2,0x2+_0x7d28e6)[_0x34f7f9(0x178)](_0x34f7f9(0x160));if([_0x34f7f9(0x1b0),'open','error',_0x34f7f9(0x1a1),'*']['includes'](_0x51c56d)){this[_0x34f7f9(0x1ad)](_0x34f7f9(0x1a3),new Error('Received\x20a\x20request\x20with\x20eventName\x20'+_0x51c56d+';\x20This\x20is\x20non-standard:\x20someone\x20is\x20trying\x20to\x20hack\x20the\x20protocol?'));return;}const _0x15fdd5=this[_0x34f7f9(0x1b2)](_0x59b866[_0x34f7f9(0x18a)](0x2+_0x7d28e6)),_0x300014=(_0x3eb990=this[_0x34f7f9(0x190)][_0x51c56d])!==null&&_0x3eb990!==void 0x0?_0x3eb990:[];let _0x4d0ca5=![];for(const _0x238a32 of _0x300014){const _0x11d194=_0x238a32['call'](undefined,_0x15fdd5);if(!_0x4d0ca5&&_0x11d194!==undefined&&_0x12c8f3!==0x0){_0x4d0ca5=!![];const _0x3396d5=Buffer[_0x34f7f9(0x19b)]([Buffer[_0x34f7f9(0x1ac)]([_0x12c8f3&0x7f]),this['encode'](_0x11d194)]);this[_0x34f7f9(0x1a4)](_0x34f7f9(0x1b3),_0x3396d5);}}const _0xbd80d3=(_0x383a29=this['handlers']['*'])!==null&&_0x383a29!==void 0x0?_0x383a29:[];for(const _0x11c020 of _0xbd80d3)_0x11c020[_0x34f7f9(0x1a6)](undefined,_0x51c56d,_0x15fdd5);if(!_0x4d0ca5&&_0x12c8f3!==0x0)this['raise'](_0x34f7f9(0x1a3),new Error(_0x34f7f9(0x17e)+_0x51c56d+_0x34f7f9(0x18b)));return;}const _0x4a674c=this[_0x34f7f9(0x16b)][_0x12c8f3];if(_0x4a674c==undefined){this[_0x34f7f9(0x1ad)](_0x34f7f9(0x1a3),new Error(_0x34f7f9(0x185)+_0x12c8f3+_0x34f7f9(0x1a7)));return;}const _0x3130e8=this[_0x34f7f9(0x1b2)](_0x59b866[_0x34f7f9(0x18a)](0x1));_0x4a674c['call'](undefined,_0x3130e8);break;}case 0x9:this[_0x34f7f9(0x1a4)]('pong',_0x59b866);break;case 0xa:const _0x29ccd8=_0x59b866[_0x34f7f9(0x178)](_0x34f7f9(0x160)),_0x37d165=this[_0x34f7f9(0x187)][_0x29ccd8];if(_0x37d165==undefined){this[_0x34f7f9(0x1ad)]('error',new Error(_0x34f7f9(0x179)));return;}_0x37d165();break;case 0x8:if(this[_0x34f7f9(0x184)]===_0x34f7f9(0x18e))return;let _0x56e3a8=0x3e8,_0x454640='';_0x59b866[_0x34f7f9(0x170)]>=0x2&&(_0x56e3a8=_0x59b866['readUInt16BE'](0x0),_0x454640=_0x59b866[_0x34f7f9(0x18a)](0x2)['toString'](_0x34f7f9(0x160)));this[_0x34f7f9(0x16e)](_0x56e3a8,_0x454640,null);break;default:this[_0x34f7f9(0x1ad)]('error',new Error(_0x34f7f9(0x171)+_0x47b988));}}[a9_0x41d32a(0x183)](_0x5d5e6a){const _0x3e9208=a9_0x41d32a;return Buffer[_0x3e9208(0x1ac)](JSON['stringify'](_0x5d5e6a),_0x3e9208(0x160));}['decode'](_0x1936a9){const _0x42291e=a9_0x41d32a;return JSON['parse'](_0x1936a9[_0x42291e(0x178)]('utf-8'));}[a9_0x41d32a(0x1aa)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x558ab9,_0x1341e6)=>{const _0x2f967f=a9_0x19c1,_0x4e2d40=a9_0x3f463c[_0x2f967f(0x16d)](),_0x12d508=setTimeout(()=>{const _0x49ba09=_0x2f967f;delete this[_0x49ba09(0x187)][_0x4e2d40],this[_0x49ba09(0x16e)](0x3e8,'',null),_0x558ab9(![]);},this[_0x2f967f(0x167)]);this[_0x2f967f(0x187)][_0x4e2d40]=()=>{const _0x5a5a48=_0x2f967f;delete this[_0x5a5a48(0x187)][_0x4e2d40],clearTimeout(_0x12d508),_0x558ab9(!![]),setTimeout(()=>{const _0x40d728=_0x5a5a48;if(this[_0x40d728(0x184)]!=='open')return;this[_0x40d728(0x1aa)]();},this[_0x5a5a48(0x162)]);},this['send'](_0x2f967f(0x199),Buffer[_0x2f967f(0x1ac)](_0x4e2d40));});});}['on'](_0x3ccd05,_0x5c20a8){const _0x1e694a=a9_0x41d32a;if(this[_0x1e694a(0x190)][_0x3ccd05]==undefined)this[_0x1e694a(0x190)][_0x3ccd05]=[];this[_0x1e694a(0x190)][_0x3ccd05]['push'](_0x5c20a8);}['off'](_0x11b9ca,_0x25dc92){const _0x548312=a9_0x41d32a;if(_0x25dc92==undefined){this[_0x548312(0x190)][_0x11b9ca]=[];return;}const _0x30df75=this[_0x548312(0x190)][_0x11b9ca],_0x47cd8f=(_0x30df75!==null&&_0x30df75!==void 0x0?_0x30df75:[])[_0x548312(0x197)](_0x5070ab=>_0x5070ab===_0x25dc92);if(_0x47cd8f===-0x1)throw new Error(_0x548312(0x176)+_0x11b9ca+_0x548312(0x16f));_0x30df75[_0x548312(0x166)](_0x47cd8f,0x1);}[a9_0x41d32a(0x1ad)](_0x105e69,_0x39d920){const _0x82feb2=a9_0x41d32a;var _0x3b3364,_0xc2c0b7;const _0x327c92=(_0x3b3364=this[_0x82feb2(0x190)][_0x105e69])!==null&&_0x3b3364!==void 0x0?_0x3b3364:[];for(const _0x5b83e5 of _0x327c92)_0x5b83e5(_0x39d920);const _0xba05c1=(_0xc2c0b7=this[_0x82feb2(0x190)]['*'])!==null&&_0xc2c0b7!==void 0x0?_0xc2c0b7:[];for(const _0x184487 of _0xba05c1)_0x184487(_0x105e69,_0x39d920);}static[a9_0x41d32a(0x1af)](_0x24b9cb,_0x56c3d3){const _0x66884c=a9_0x41d32a,_0x315a0c=_0x24b9cb['headers'][_0x66884c(0x195)];if(_0x315a0c==undefined)return _0x56c3d3[_0x66884c(0x198)](),null;const _0x276293=a9_0x3f463c[_0x66884c(0x172)](_0x66884c(0x164));_0x276293[_0x66884c(0x18d)](_0x315a0c+_0x66884c(0x196));const _0x12db98=_0x276293[_0x66884c(0x174)](_0x66884c(0x1b1)),_0x372fe8=[_0x66884c(0x182),'Upgrade:\x20websocket',_0x66884c(0x177),'Sec-WebSocket-Accept:\x20'+_0x12db98];return _0x56c3d3['write'](_0x372fe8[_0x66884c(0x161)]('\x0d\x0a')+'\x0d\x0a\x0d\x0a'),new Socket(_0x56c3d3);}}function a9_0x19c1(_0x3de2ba,_0xc96e2b){const _0x1487dc=a9_0x1487();return a9_0x19c1=function(_0x19c1ef,_0x353cdf){_0x19c1ef=_0x19c1ef-0x160;let _0x22b6a6=_0x1487dc[_0x19c1ef];return _0x22b6a6;},a9_0x19c1(_0x3de2ba,_0xc96e2b);}function a9_0x1487(){const _0x5679de=['end','Received\x20a\x20request\x20with\x20callback\x20for\x20the\x20event\x20','then','Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.','push','HTTP/1.1\x20101\x20Switching\x20Protocols','encode','status','Received\x20a\x20response\x20for\x20the\x20id\x20','open','pingRequests','2OLixrF','324296uNlufL','slice','\x20but\x20no\x20handler\x20return\x20a\x20result','socket','update','closing','Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.','handlers','7NSQzOU','342ivAUZj','readUInt8','Timeout','sec-websocket-key','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','findIndex','destroy','ping','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','concat','includes','readUInt16BE','350grBcVR','text','requestId','close','12716112SfxzKP','error','send','The\x20websocket\x20is\x20not\x20connected','call','\x20but\x20no\x20pending\x20request\x20was\x20found','4202esUNIA','__awaiter','checkHeartbeat','closed','from','raise','56855MebAwb','fromUpgradeRequest','handshake','base64','decode','binary','write','41980KWdoAD','2316GkZLBn','utf-8','join','pingInterval','data','sha1','apply','splice','pingTimeout','value','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handskake,\x20open,\x20error\x20or\x20close','once','pendingRequests','8114196ocSDgF','randomUUID','disconnect','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','length','Received\x20message\x20with\x20unsupported\x20opcode:\x20','createHash','handle','digest','Received\x20non-standard\x20text\x20message:\x20','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','Connection:\x20Upgrade','toString','Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping','readBigUInt64BE','3634215xHQwRu','alloc'];a9_0x1487=function(){return _0x5679de;};return a9_0x1487();}