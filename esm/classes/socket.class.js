const a11_0x1d01be=a11_0x3b1d;(function(_0x4a3ad0,_0x37a75f){const _0x49f6eb=a11_0x3b1d,_0x53c55e=_0x4a3ad0();while(!![]){try{const _0x2b93de=parseInt(_0x49f6eb(0xc4))/0x1*(-parseInt(_0x49f6eb(0xb0))/0x2)+parseInt(_0x49f6eb(0xc5))/0x3+-parseInt(_0x49f6eb(0xc9))/0x4*(-parseInt(_0x49f6eb(0xbc))/0x5)+-parseInt(_0x49f6eb(0xc6))/0x6+parseInt(_0x49f6eb(0xd6))/0x7+-parseInt(_0x49f6eb(0x9e))/0x8+parseInt(_0x49f6eb(0xad))/0x9;if(_0x2b93de===_0x37a75f)break;else _0x53c55e['push'](_0x53c55e['shift']());}catch(_0x3fa963){_0x53c55e['push'](_0x53c55e['shift']());}}}(a11_0x52b1,0x4093f));var __awaiter=this&&this[a11_0x1d01be(0xbf)]||function(_0x4a5a49,_0x1b53dc,_0x332be7,_0x237bdf){function _0xd24e22(_0x1f90c1){return _0x1f90c1 instanceof _0x332be7?_0x1f90c1:new _0x332be7(function(_0x402cc7){_0x402cc7(_0x1f90c1);});}return new(_0x332be7||(_0x332be7=Promise))(function(_0x3e8598,_0x2c0e83){const _0x113b9b=a11_0x3b1d;function _0x47e360(_0x19d70c){const _0x1c3089=a11_0x3b1d;try{_0x4ec2f1(_0x237bdf[_0x1c3089(0xe1)](_0x19d70c));}catch(_0x5b4d09){_0x2c0e83(_0x5b4d09);}}function _0x4bd25f(_0x4d4418){const _0x57178a=a11_0x3b1d;try{_0x4ec2f1(_0x237bdf[_0x57178a(0xa5)](_0x4d4418));}catch(_0x486263){_0x2c0e83(_0x486263);}}function _0x4ec2f1(_0x37e1f7){const _0x529cb4=a11_0x3b1d;_0x37e1f7[_0x529cb4(0xe5)]?_0x3e8598(_0x37e1f7['value']):_0xd24e22(_0x37e1f7[_0x529cb4(0xdc)])[_0x529cb4(0xd5)](_0x47e360,_0x4bd25f);}_0x4ec2f1((_0x237bdf=_0x237bdf[_0x113b9b(0xb6)](_0x4a5a49,_0x1b53dc||[]))[_0x113b9b(0xe1)]());});};import a11_0x37c943 from'crypto';function a11_0x3b1d(_0x455cc9,_0x99f74c){const _0x52b1e0=a11_0x52b1();return a11_0x3b1d=function(_0x3b1df4,_0x44f860){_0x3b1df4=_0x3b1df4-0x9e;let _0x24837b=_0x52b1e0[_0x3b1df4];return _0x24837b;},a11_0x3b1d(_0x455cc9,_0x99f74c);}function a11_0x52b1(){const _0x53e5c9=['decode','next','close','text','encode','done','open','utf-8','end','pong','pendingRequests','sha1','call','readBigUInt64BE','readUInt8','Received\x20a\x20request\x20with\x20eventName\x20','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','3058584AFSRKB','\x20but\x20no\x20pending\x20request\x20was\x20found','toString','createHash','fromUpgradeRequest','handshake','destroy','throw','push','length','slice','from','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handskake,\x20open,\x20error\x20or\x20close','binary','raise','4581108SOerOS','disconnect','digest','97448LNsfqC','closing','off','parse','checkHeartbeat','includes','apply','\x20but\x20no\x20handler\x20return\x20a\x20result','requestId','splice','Sec-WebSocket-Accept:\x20','data','20pJurtg','Received\x20non-standard\x20text\x20message:\x20','join','__awaiter','Timeout','sec-websocket-key','send','pingTimeout','5mDYgsa','944637UJBahp','515946OqWaza','HTTP/1.1\x20101\x20Switching\x20Protocols','emit','50696tRFNsG','pingRequests','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','handlers','handle','error','Received\x20message\x20with\x20unsupported\x20opcode:\x20','closed',';\x20This\x20is\x20non-standard:\x20someone\x20is\x20trying\x20to\x20hack\x20the\x20protocol?','write','once','status','then','713006eLcAfW','socket','Received\x20a\x20request\x20with\x20callback\x20for\x20the\x20event\x20','readUInt16BE','Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.','headers','value','pingInterval','The\x20websocket\x20is\x20not\x20connected','alloc'];a11_0x52b1=function(){return _0x53e5c9;};return a11_0x52b1();}export default class Socket{constructor(_0x5c3d60){const _0xcbd02a=a11_0x1d01be;this['socket']=_0x5c3d60,this[_0xcbd02a(0xd4)]=_0xcbd02a(0xa3),this[_0xcbd02a(0xdd)]=0x5*0x3e8,this[_0xcbd02a(0xc3)]=0x2*0x3e8,this[_0xcbd02a(0xca)]={},this[_0xcbd02a(0xb8)]=0x1,this[_0xcbd02a(0xea)]={},this[_0xcbd02a(0xbb)]={},this[_0xcbd02a(0xcc)]={},this[_0xcbd02a(0xd7)]['on'](_0xcbd02a(0xbb),_0x71499c=>this[_0xcbd02a(0xcd)](_0x71499c)),this[_0xcbd02a(0xd7)]['on'](_0xcbd02a(0xce),_0x4be2b1=>this[_0xcbd02a(0xac)]('error',_0x4be2b1)),this[_0xcbd02a(0xd7)]['on'](_0xcbd02a(0xe2),()=>{}),this[_0xcbd02a(0xb4)]();const _0x45c946=this[_0xcbd02a(0xe4)]({'pingInterval':this['pingInterval']});this[_0xcbd02a(0xc2)](_0xcbd02a(0xab),_0x45c946);}[a11_0x1d01be(0xae)](){return __awaiter(this,arguments,void 0x0,function*(_0x398e6f=0x3e8,_0x1767f3='',_0x5b55b5=0x1388){return new Promise((_0x448319,_0x23d472)=>{const _0x3bc4cf=a11_0x3b1d,_0x5c9877=Buffer[_0x3bc4cf(0xa9)](_0x1767f3,_0x3bc4cf(0xe7)),_0x3e56ed=Buffer[_0x3bc4cf(0xdf)](0x2+_0x5c9877[_0x3bc4cf(0xa7)]);_0x3e56ed['writeUInt16BE'](_0x398e6f,0x0),_0x5c9877['copy'](_0x3e56ed,0x2);const _0x54f6db=_0x3e56ed[_0x3bc4cf(0xa7)],_0x70c39f=_0x54f6db<0x7e?_0x54f6db:_0x54f6db<0x10000?0x7e:0x7f,_0x4adc57=_0x70c39f===0x7e?Buffer[_0x3bc4cf(0xa9)]([0x88,0x7e,_0x54f6db>>0x8&0xff,_0x54f6db&0xff]):_0x70c39f===0x7f?Buffer[_0x3bc4cf(0xa9)]([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x54f6db>>0x8&0xff,_0x54f6db&0xff]):Buffer[_0x3bc4cf(0xa9)]([0x88,_0x54f6db]),_0x20a46c=Buffer['concat']([_0x4adc57,_0x3e56ed]);this[_0x3bc4cf(0xd7)][_0x3bc4cf(0xd2)](_0x20a46c),this['status']=_0x3bc4cf(0xb1);if(_0x5b55b5===null)this[_0x3bc4cf(0xd4)]=_0x3bc4cf(0xd0),this[_0x3bc4cf(0xd7)][_0x3bc4cf(0xe8)](),this[_0x3bc4cf(0xac)](_0x3bc4cf(0xe2),{'code':_0x398e6f,'reason':_0x1767f3}),_0x448319();else{let _0x132b26=!![];this[_0x3bc4cf(0xd7)][_0x3bc4cf(0xd3)](_0x3bc4cf(0xbb),_0x323006=>{const _0x4aea2e=_0x3bc4cf;if(!_0x132b26)return;_0x323006[0x0]===0x88?(this[_0x4aea2e(0xd4)]=_0x4aea2e(0xd0),this[_0x4aea2e(0xd7)][_0x4aea2e(0xe8)](),this[_0x4aea2e(0xac)](_0x4aea2e(0xe2),{'code':_0x398e6f,'reason':_0x1767f3}),_0x448319()):_0x23d472(new Error('Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.'));}),setTimeout(()=>{const _0x3ecc1c=_0x3bc4cf;_0x132b26=![],_0x23d472(new Error(_0x3ecc1c(0xda))),this[_0x3ecc1c(0xd7)][_0x3ecc1c(0xe8)]();},_0x5b55b5);}});});}[a11_0x1d01be(0xc2)](_0x3a668c,_0x19c8df){const _0x27fc67=a11_0x1d01be;let _0x3c3ebe,_0x5548da;switch(_0x3a668c){case _0x27fc67(0xe3):_0x3c3ebe=Buffer[_0x27fc67(0xa9)](_0x19c8df,_0x27fc67(0xe7)),_0x5548da=0x1;break;case _0x27fc67(0xab):_0x3c3ebe=_0x19c8df,_0x5548da=0x2;break;case'ping':_0x3c3ebe=_0x19c8df,_0x5548da=0x9;break;case'pong':_0x3c3ebe=_0x19c8df,_0x5548da=0xa;break;}const _0x46be82=[];if(_0x3c3ebe['length']<0x7e)_0x46be82[_0x27fc67(0xa6)](_0x3c3ebe[_0x27fc67(0xa7)]);else{if(_0x3c3ebe[_0x27fc67(0xa7)]<0x10000)_0x46be82[_0x27fc67(0xa6)](0x7e,_0x3c3ebe[_0x27fc67(0xa7)]>>0x8&0xff,_0x3c3ebe[_0x27fc67(0xa7)]&0xff);else{_0x46be82['push'](0x7f);for(let _0x1ad65d=0x7;_0x1ad65d>=0x0;_0x1ad65d--)_0x46be82[_0x27fc67(0xa6)](_0x3c3ebe[_0x27fc67(0xa7)]>>_0x1ad65d*0x8&0xff);}}const _0x227617=Buffer['concat']([Buffer[_0x27fc67(0xa9)]([0x80|_0x5548da,..._0x46be82]),_0x3c3ebe]);this[_0x27fc67(0xd7)]['write'](_0x227617);}[a11_0x1d01be(0xc8)](_0x1558ce,_0x4d2e4f,_0x2df866,_0x57d8c9=0x32*0x3e8){const _0x2876b5=a11_0x1d01be;if(this[_0x2876b5(0xd7)]==undefined||this[_0x2876b5(0xd4)]!=='open')throw new Error(_0x2876b5(0xde));if(['handshake','open','error','close'][_0x2876b5(0xb5)](_0x1558ce))throw new Error(_0x2876b5(0xaa));const _0x2469b2=_0x2df866==undefined?0x0:this[_0x2876b5(0xb8)],_0x3a239c=Buffer[_0x2876b5(0xa9)](_0x1558ce,_0x2876b5(0xe7));if(_0x3a239c['length']>0xff)throw new Error('Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)');if(_0x2df866!=undefined){this[_0x2876b5(0xb8)]=(this[_0x2876b5(0xb8)]+0x1)%0x80||0x1;const _0x4a5007=setTimeout(()=>{const _0x342903=_0x2876b5;delete this[_0x342903(0xea)][_0x2469b2],_0x2df866(new Error(_0x342903(0xc0)));},_0x57d8c9);this[_0x2876b5(0xea)][_0x2469b2]=_0x30f4fe=>{if(!(_0x30f4fe instanceof Error))clearTimeout(_0x4a5007);_0x2df866(_0x30f4fe);};}const _0x30c158=Buffer['concat']([Buffer[_0x2876b5(0xa9)]([_0x2469b2|0x80,_0x3a239c[_0x2876b5(0xa7)]]),_0x3a239c,this['encode'](_0x4d2e4f)]);this['send'](_0x2876b5(0xab),_0x30c158);}[a11_0x1d01be(0xcd)](_0xa69e72){const _0x4dc0aa=a11_0x1d01be;var _0x56cbde,_0x4dafaa;const _0x1080f3=_0xa69e72[0x0],_0x8efb1=(_0x1080f3&0x80)!==0x0,_0x354e45=_0x1080f3&0xf,_0x1419ac=_0xa69e72[0x1],_0x3ecb5e=(_0x1419ac&0x80)!==0x0;let _0x1c79a2=_0x1419ac&0x7f,_0x4f4e30=0x2;if(_0x1c79a2===0x7e)_0x1c79a2=_0xa69e72[_0x4dc0aa(0xd9)](_0x4f4e30),_0x4f4e30+=0x2;else _0x1c79a2===0x7f&&(_0x1c79a2=Number(_0xa69e72[_0x4dc0aa(0xed)](_0x4f4e30)),_0x4f4e30+=0x8);const _0x291530=_0x3ecb5e?_0xa69e72['slice'](_0x4f4e30,_0x4f4e30+0x4):Buffer['alloc'](0x0);if(_0x3ecb5e)_0x4f4e30+=0x4;let _0x105163=_0xa69e72[_0x4dc0aa(0xa8)](_0x4f4e30,_0x4f4e30+_0x1c79a2);if(_0x3ecb5e){const _0x6d4203=Buffer[_0x4dc0aa(0xdf)](_0x105163[_0x4dc0aa(0xa7)]);for(let _0x11c252=0x0;_0x11c252<_0x105163[_0x4dc0aa(0xa7)];_0x11c252++)_0x6d4203[_0x11c252]=_0x105163[_0x11c252]^_0x291530[_0x11c252%0x4];_0x105163=_0x6d4203;}switch(_0x354e45){case 0x1:this['raise'](_0x4dc0aa(0xce),new Error(_0x4dc0aa(0xbd)+_0x105163[_0x4dc0aa(0xa0)](_0x4dc0aa(0xe7))));break;case 0x2:{if(this['status']===_0x4dc0aa(0xa3)){const _0x5b8823=this[_0x4dc0aa(0xe0)](_0x105163);this['raise'](_0x4dc0aa(0xa3),_0x5b8823),this[_0x4dc0aa(0xd4)]=_0x4dc0aa(0xe6),this[_0x4dc0aa(0xc2)](_0x4dc0aa(0xab),Buffer[_0x4dc0aa(0xdf)](0x0));return;}const _0x417f6e=_0x105163[_0x4dc0aa(0xee)](0x0),_0xb60be2=_0x417f6e&0x7f,_0x45d2c0=(_0x417f6e&0x80)!==0x0;if(_0x45d2c0){const _0x59002f=_0x105163['readUInt8'](0x1),_0x248241=_0x105163[_0x4dc0aa(0xa8)](0x2,0x2+_0x59002f)[_0x4dc0aa(0xa0)](_0x4dc0aa(0xe7));if([_0x4dc0aa(0xa3),_0x4dc0aa(0xe6),_0x4dc0aa(0xce),'close','*'][_0x4dc0aa(0xb5)](_0x248241)){this[_0x4dc0aa(0xac)](_0x4dc0aa(0xce),new Error(_0x4dc0aa(0xef)+_0x248241+_0x4dc0aa(0xd1)));return;}const _0x9635dc=this[_0x4dc0aa(0xe0)](_0x105163[_0x4dc0aa(0xa8)](0x2+_0x59002f)),_0x49bc2d=(_0x56cbde=this['handlers'][_0x248241])!==null&&_0x56cbde!==void 0x0?_0x56cbde:[];let _0x4d8435=![];for(const _0xab7f49 of _0x49bc2d){const _0x659306=_0xab7f49[_0x4dc0aa(0xec)](undefined,_0x9635dc);if(!_0x4d8435&&_0x659306!==undefined&&_0xb60be2!==0x0){_0x4d8435=!![];const _0x333d19=Buffer['concat']([Buffer[_0x4dc0aa(0xa9)]([_0xb60be2&0x7f]),this[_0x4dc0aa(0xe4)](_0x659306)]);this[_0x4dc0aa(0xc2)]('binary',_0x333d19);}}const _0x676ba1=(_0x4dafaa=this['handlers']['*'])!==null&&_0x4dafaa!==void 0x0?_0x4dafaa:[];for(const _0x5d718c of _0x676ba1)_0x5d718c['call'](undefined,_0x248241,_0x9635dc);if(!_0x4d8435&&_0xb60be2!==0x0)this[_0x4dc0aa(0xac)]('error',new Error(_0x4dc0aa(0xd8)+_0x248241+_0x4dc0aa(0xb7)));return;}const _0x151249=this['pendingRequests'][_0xb60be2];if(_0x151249==undefined){this['raise']('error',new Error('Received\x20a\x20response\x20for\x20the\x20id\x20'+_0xb60be2+_0x4dc0aa(0x9f)));return;}const _0x2b68e9=this['decode'](_0x105163['slice'](0x1));_0x151249[_0x4dc0aa(0xec)](undefined,_0x2b68e9);break;}case 0x9:this[_0x4dc0aa(0xc2)](_0x4dc0aa(0xe9),_0x105163);break;case 0xa:const _0x171c10=_0x105163['toString'](_0x4dc0aa(0xe7)),_0x22aaf7=this[_0x4dc0aa(0xca)][_0x171c10];if(_0x22aaf7==undefined){this[_0x4dc0aa(0xac)](_0x4dc0aa(0xce),new Error('Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping'));return;}_0x22aaf7();break;case 0x8:if(this[_0x4dc0aa(0xd4)]===_0x4dc0aa(0xb1))return;let _0x27e844=0x3e8,_0x2572ef='';_0x105163[_0x4dc0aa(0xa7)]>=0x2&&(_0x27e844=_0x105163[_0x4dc0aa(0xd9)](0x0),_0x2572ef=_0x105163[_0x4dc0aa(0xa8)](0x2)[_0x4dc0aa(0xa0)](_0x4dc0aa(0xe7)));this[_0x4dc0aa(0xae)](_0x27e844,_0x2572ef,null);break;default:this[_0x4dc0aa(0xac)](_0x4dc0aa(0xce),new Error(_0x4dc0aa(0xcf)+_0x354e45));}}[a11_0x1d01be(0xe4)](_0x2e2f0b){const _0x5739b2=a11_0x1d01be;return Buffer[_0x5739b2(0xa9)](JSON['stringify'](_0x2e2f0b),'utf-8');}['decode'](_0xd8228e){const _0x27438f=a11_0x1d01be;return JSON[_0x27438f(0xb3)](_0xd8228e[_0x27438f(0xa0)](_0x27438f(0xe7)));}[a11_0x1d01be(0xb4)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x9f553d,_0x588fb7)=>{const _0x5602b9=a11_0x3b1d,_0x46e868=a11_0x37c943['randomUUID'](),_0x551900=setTimeout(()=>{const _0x27d351=a11_0x3b1d;delete this[_0x27d351(0xca)][_0x46e868],this[_0x27d351(0xae)](0x3e8,'',null),_0x9f553d(![]);},this[_0x5602b9(0xc3)]);this[_0x5602b9(0xca)][_0x46e868]=()=>{const _0x35cd85=_0x5602b9;delete this[_0x35cd85(0xca)][_0x46e868],clearTimeout(_0x551900),_0x9f553d(!![]),setTimeout(()=>{const _0x38563d=_0x35cd85;if(this[_0x38563d(0xd4)]!==_0x38563d(0xe6))return;this[_0x38563d(0xb4)]();},this[_0x35cd85(0xdd)]);},this['send']('ping',Buffer[_0x5602b9(0xa9)](_0x46e868));});});}['on'](_0x319a1e,_0x15a7ea){const _0xf36c3b=a11_0x1d01be;if(this[_0xf36c3b(0xcc)][_0x319a1e]==undefined)this[_0xf36c3b(0xcc)][_0x319a1e]=[];this[_0xf36c3b(0xcc)][_0x319a1e][_0xf36c3b(0xa6)](_0x15a7ea);}[a11_0x1d01be(0xb2)](_0x4dcbc2,_0x14265d){const _0x4e8d34=a11_0x1d01be;if(_0x14265d==undefined){this[_0x4e8d34(0xcc)][_0x4dcbc2]=[];return;}const _0x517e62=this['handlers'][_0x4dcbc2],_0x413d43=(_0x517e62!==null&&_0x517e62!==void 0x0?_0x517e62:[])['findIndex'](_0x24db3e=>_0x24db3e===_0x14265d);if(_0x413d43===-0x1)throw new Error(_0x4e8d34(0xcb)+_0x4dcbc2+'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found');_0x517e62[_0x4e8d34(0xb9)](_0x413d43,0x1);}['raise'](_0x56c147,_0x48cf4f){const _0x52f966=a11_0x1d01be;var _0x3a761f,_0x5ae481;const _0xcc5176=(_0x3a761f=this[_0x52f966(0xcc)][_0x56c147])!==null&&_0x3a761f!==void 0x0?_0x3a761f:[];for(const _0x2c2d9a of _0xcc5176)_0x2c2d9a(_0x48cf4f);const _0x5dfbcd=(_0x5ae481=this['handlers']['*'])!==null&&_0x5ae481!==void 0x0?_0x5ae481:[];for(const _0x2b3710 of _0x5dfbcd)_0x2b3710(_0x56c147,_0x48cf4f);}static[a11_0x1d01be(0xa2)](_0x2395c3,_0x11c55){const _0x391020=a11_0x1d01be,_0xc833d6=_0x2395c3[_0x391020(0xdb)][_0x391020(0xc1)];if(_0xc833d6==undefined)return _0x11c55[_0x391020(0xa4)](),null;const _0x4a8c3b=a11_0x37c943[_0x391020(0xa1)](_0x391020(0xeb));_0x4a8c3b['update'](_0xc833d6+_0x391020(0xf0));const _0xf987c5=_0x4a8c3b[_0x391020(0xaf)]('base64'),_0x57814e=[_0x391020(0xc7),'Upgrade:\x20websocket','Connection:\x20Upgrade',_0x391020(0xba)+_0xf987c5];return _0x11c55[_0x391020(0xd2)](_0x57814e[_0x391020(0xbe)]('\x0d\x0a')+'\x0d\x0a\x0d\x0a'),new Socket(_0x11c55);}}