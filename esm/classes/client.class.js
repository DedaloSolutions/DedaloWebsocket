const a8_0x54431a=a8_0x3bd6;(function(_0x4bb395,_0x26b68d){const _0x1bd605=a8_0x3bd6,_0x4f1c82=_0x4bb395();while(!![]){try{const _0x38c5ef=parseInt(_0x1bd605(0xab))/0x1+parseInt(_0x1bd605(0x8a))/0x2+-parseInt(_0x1bd605(0xa6))/0x3+parseInt(_0x1bd605(0xb2))/0x4*(-parseInt(_0x1bd605(0x90))/0x5)+parseInt(_0x1bd605(0xc9))/0x6*(parseInt(_0x1bd605(0xe7))/0x7)+-parseInt(_0x1bd605(0xe4))/0x8+parseInt(_0x1bd605(0xd0))/0x9*(parseInt(_0x1bd605(0xa2))/0xa);if(_0x38c5ef===_0x26b68d)break;else _0x4f1c82['push'](_0x4f1c82['shift']());}catch(_0x223db8){_0x4f1c82['push'](_0x4f1c82['shift']());}}}(a8_0x4360,0xb6809));var __awaiter=this&&this[a8_0x54431a(0xe8)]||function(_0x573cc3,_0x2d5e7b,_0x3e10a0,_0x246949){function _0x2e4a8f(_0x30310d){return _0x30310d instanceof _0x3e10a0?_0x30310d:new _0x3e10a0(function(_0xa6b75e){_0xa6b75e(_0x30310d);});}return new(_0x3e10a0||(_0x3e10a0=Promise))(function(_0x14fa1c,_0x5f192b){const _0x2c7bc3=a8_0x3bd6;function _0x952528(_0x14a317){const _0x5db97e=a8_0x3bd6;try{_0x5e988d(_0x246949[_0x5db97e(0xcc)](_0x14a317));}catch(_0x1eaa58){_0x5f192b(_0x1eaa58);}}function _0x6109a5(_0x44fcb0){const _0x11d6f7=a8_0x3bd6;try{_0x5e988d(_0x246949[_0x11d6f7(0x8e)](_0x44fcb0));}catch(_0xf9a83c){_0x5f192b(_0xf9a83c);}}function _0x5e988d(_0x53bee0){const _0x3911b0=a8_0x3bd6;_0x53bee0[_0x3911b0(0x84)]?_0x14fa1c(_0x53bee0[_0x3911b0(0x82)]):_0x2e4a8f(_0x53bee0[_0x3911b0(0x82)])['then'](_0x952528,_0x6109a5);}_0x5e988d((_0x246949=_0x246949[_0x2c7bc3(0xaa)](_0x573cc3,_0x2d5e7b||[]))[_0x2c7bc3(0xcc)]());});};import a8_0x692669 from'crypto';import a8_0x36cf93 from'net';function a8_0x3bd6(_0x174a59,_0x38a9a3){const _0x43608f=a8_0x4360();return a8_0x3bd6=function(_0x3bd677,_0x3a76a1){_0x3bd677=_0x3bd677-0x80;let _0x59dac5=_0x43608f[_0x3bd677];return _0x59dac5;},a8_0x3bd6(_0x174a59,_0x38a9a3);}function a8_0x4360(){const _0x2c443f=['pendingRequests','url','Sec-WebSocket-Key:\x20','split','error','\x20HTTP/1.1','connect','sec-websocket-accept','readUInt16BE','70HGcBES','requestId','raise','heartbeatTimeout','886152aZTVfJ','update','data','off','apply','938990KSyDjJ','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','once','decode','The\x20request\x20line\x20of\x20the\x20handshake\x20isn\x27t\x20valid','emit','3164gCHZyp','pong','reconnectTimeout','receive','\x20but\x20to\x20pending\x20request\x20was\x20found','handlers','writeUInt8','\x0d\x0a\x0d\x0a','socket','indexOf','The\x20websocket\x20is\x20not\x20connected','parse','encode','drain','_status','trim','writeUInt16BE',',\x20that\x20requires\x20a\x20response.','alloc','closed','includes','The\x20sec-websocket-key\x20isn\x27t\x20valid','Upgrade:\x20websocket','420804XWQxUf','connecting','send','next','Received\x20a\x20response\x20for\x20id\x20','createHash','utf-8','2136438xlDbta','subarray','handshake','HTTP/1.1\x20101\x20Switching\x20Protocols','push','Connection:\x20Upgrade','heartbeatInterval','end','digest','close','Sec-WebSocket-Version:\x2013','reduce','concat','ping','binary','wss://','Host:\x20','Received\x20non-standard\x20text\x20message:\x20','length','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','6943224ezKuye','disconnect','Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.','21pBgNOR','__awaiter','Received\x20message\x20with\x20unsupported\x20opcode:\x20','copy','value','createConnection','done','from','slice','status','write','toString','501310bGMtRz','parseInt','readUInt8','Received\x20emit\x20from\x20client\x20for\x20a\x20reserved\x20event:\x20','throw','closing','7275QWfhaS','open','base64','call','checkHeartbeat','replace','join','No\x20handler\x20returns\x20a\x20value\x20for\x20event\x20','The\x20websocket\x20is\x20already\x20connected'];a8_0x4360=function(){return _0x2c443f;};return a8_0x4360();}import a8_0x321239 from'tls';export default class Client{constructor(){const _0x4890e1=a8_0x54431a;this[_0x4890e1(0xc0)]=_0x4890e1(0xc5),this[_0x4890e1(0xd6)]=0xa*0x3e8+0x1f4,this[_0x4890e1(0xa3)]=0x1,this[_0x4890e1(0x99)]={},this[_0x4890e1(0xb7)]={},this['url']='',this[_0x4890e1(0xb4)]=null,this[_0x4890e1(0xd2)]=null;}[a8_0x54431a(0x9f)](_0x52ced3){return __awaiter(this,arguments,void 0x0,function*(_0xe2854e,{handshake:_0x5e6d2d,reconnectTimeout:_0x5ef12a}={}){return new Promise((_0x236fea,_0x38b6ff)=>{const _0xa29e94=a8_0x3bd6;if(this[_0xa29e94(0xc0)]!=='closed')return _0x38b6ff(new Error(_0xa29e94(0x98)));this[_0xa29e94(0xc0)]=_0xa29e94(0xca),this[_0xa29e94(0x9a)]=_0xe2854e,this[_0xa29e94(0xd2)]=_0x5e6d2d!==null&&_0x5e6d2d!==void 0x0?_0x5e6d2d:null,this['reconnectTimeout']=_0x5ef12a!==null&&_0x5ef12a!==void 0x0?_0x5ef12a:null;const _0x4ee923=_0xe2854e['startsWith'](_0xa29e94(0xdf)),_0x1558ef=_0xe2854e[_0xa29e94(0x95)](/^wss?:\/\//,''),[_0x2ffc87,..._0xfaf41c]=_0x1558ef[_0xa29e94(0x9c)]('/'),[_0x289239,_0xe62f5d]=_0x2ffc87['split'](':'),_0x35be60=_0xe62f5d?Number[_0xa29e94(0x8b)](_0xe62f5d):_0x4ee923?0x1bb:0x50,_0x8af9fe='/'+_0xfaf41c[_0xa29e94(0x96)]('/'),_0x604b9d=_0x4ee923?a8_0x321239[_0xa29e94(0x9f)](_0x35be60,_0x289239):a8_0x36cf93[_0xa29e94(0x83)](_0x35be60,_0x289239),_0x4c1525=a8_0x692669['randomBytes'](0x10)['toString'](_0xa29e94(0x92)),_0x568a93=a8_0x692669[_0xa29e94(0xce)]('sha1')[_0xa29e94(0xa7)](_0x4c1525+_0xa29e94(0xad))[_0xa29e94(0xd8)](_0xa29e94(0x92)),_0x166811=['GET\x20'+_0x8af9fe+_0xa29e94(0x9e),_0xa29e94(0xe0)+_0x289239,_0xa29e94(0xc8),_0xa29e94(0xd5),_0xa29e94(0x9b)+_0x4c1525,_0xa29e94(0xda)];_0x604b9d['write'](_0x166811[_0xa29e94(0x96)]('\x0d\x0a')+_0xa29e94(0xb9)),_0x604b9d[_0xa29e94(0xae)](_0xa29e94(0xa8),_0x53b226=>{const _0x595994=_0xa29e94;var _0x573815;const _0x2a96a5=_0x53b226[_0x595994(0xbb)]('\x0d\x0a\x0d\x0a')+0x4,_0x1c866d=_0x53b226[_0x595994(0xd1)](0x0,_0x2a96a5)[_0x595994(0x89)](),[_0x4b372e,..._0x51e6ef]=_0x1c866d[_0x595994(0x9c)]('\x0d\x0a'),_0xb622ae=_0x51e6ef[_0x595994(0xdb)]((_0x49348a,_0x12baba)=>{const _0x466a91=_0x595994;if(_0x12baba[_0x466a91(0xe2)]===0x0)return _0x49348a;const [_0x2a0e11,_0x387260]=_0x12baba[_0x466a91(0x9c)](':\x20');return _0x49348a[_0x2a0e11[_0x466a91(0xc1)]()['toLowerCase']()]=_0x387260[_0x466a91(0xc1)](),_0x49348a;},{});try{if(_0x4b372e!==_0x595994(0xd3))throw new Error(_0x595994(0xb0));if(_0xb622ae[_0x595994(0xa0)]!==_0x568a93)throw new Error(_0x595994(0xc7));this[_0x595994(0xba)]=_0x604b9d,this['socket']['on'](_0x595994(0xa8),_0xd51de7=>this[_0x595994(0xb5)](_0xd51de7)),this[_0x595994(0xba)]['on']('error',_0x48acaa=>this[_0x595994(0xa4)](_0x595994(0x9d),_0x48acaa)),this[_0x595994(0xc0)]=_0x595994(0xd2);if(_0x53b226['length']>_0x2a96a5)this[_0x595994(0xb5)](_0x53b226[_0x595994(0xd1)](_0x2a96a5));this['send'](_0x595994(0xde),this[_0x595994(0xbe)]((_0x573815=this[_0x595994(0xd2)])!==null&&_0x573815!==void 0x0?_0x573815:null)),_0x236fea();}catch(_0x3cd48d){this[_0x595994(0xa4)](_0x595994(0x9d),_0x3cd48d),_0x38b6ff(_0x3cd48d),this[_0x595994(0xc0)]=_0x595994(0xc5),_0x604b9d[_0x595994(0xd7)]();}});});});}[a8_0x54431a(0xe5)](){return __awaiter(this,arguments,void 0x0,function*(_0x52f90d=0x3e8,_0x28fbf0='',_0x3ef4a9=0x1388){return new Promise((_0x18cee6,_0x1b43b2)=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x4175f1=a8_0x3bd6;if(this[_0x4175f1(0xc0)]===_0x4175f1(0x8f)||this[_0x4175f1(0xc0)]===_0x4175f1(0xc5))return _0x1b43b2(new Error('The\x20websocket\x20is\x20already\x20disconnected'));const _0x2e0064=Buffer[_0x4175f1(0x85)](_0x28fbf0,_0x4175f1(0xcf)),_0x161c36=Buffer[_0x4175f1(0xc4)](0x2+_0x2e0064[_0x4175f1(0xe2)]);_0x161c36[_0x4175f1(0xc2)](_0x52f90d,0x0),_0x2e0064[_0x4175f1(0x81)](_0x161c36,0x2);const _0x447eff=_0x161c36[_0x4175f1(0xe2)],_0xf4f864=_0x447eff<0x7e?_0x447eff:_0x447eff<0x10000?0x7e:0x7f,_0x42bef0=_0xf4f864===0x7e?Buffer[_0x4175f1(0x85)]([0x88,0x7e,_0x447eff>>0x8&0xff,_0x447eff&0xff]):_0xf4f864===0x7f?Buffer['from']([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x447eff>>0x8&0xff,_0x447eff&0xff]):Buffer[_0x4175f1(0x85)]([0x88,_0x447eff]),_0x1cad99=Buffer[_0x4175f1(0xdc)]([_0x42bef0,_0x161c36]);this['socket'][_0x4175f1(0x88)](_0x1cad99),this[_0x4175f1(0xc0)]='closing',this[_0x4175f1(0xba)][_0x4175f1(0xae)](_0x4175f1(0xa8),_0x302369=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x120fee=_0x4175f1;if(this[_0x120fee(0xc0)]===_0x120fee(0xc5))return;_0x302369[0x0]===0x88?(this[_0x120fee(0xd9)](_0x52f90d,_0x28fbf0),_0x18cee6()):_0x1b43b2(new Error('Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.'));})),_0x3ef4a9>0x0?setTimeout(()=>{const _0x485777=_0x4175f1;this['close'](_0x52f90d,_0x28fbf0),_0x1b43b2(new Error(_0x485777(0xe6)));},_0x3ef4a9):(this[_0x4175f1(0xd9)](_0x52f90d,_0x28fbf0),_0x18cee6());}));});}['close'](){return __awaiter(this,arguments,void 0x0,function*(_0x3b2477=0x3e8,_0x443ea2=''){const _0xd05d3e=a8_0x3bd6;if(this[_0xd05d3e(0xc0)]===_0xd05d3e(0xc5))return;this['_status']=_0xd05d3e(0xc5),yield new Promise(_0x25b11e=>this[_0xd05d3e(0xba)][_0xd05d3e(0xd7)](()=>_0x25b11e())),this[_0xd05d3e(0xa4)](_0xd05d3e(0xd9),{'code':_0x3b2477,'reason':_0x443ea2});if(this[_0xd05d3e(0xb4)]!=undefined)setTimeout(()=>{const _0x364995=_0xd05d3e;this['connect'](this[_0x364995(0x9a)],{'handshake':this[_0x364995(0xd2)],'reconnectTimeout':this[_0x364995(0xb4)]});},this['reconnectTimeout']);});}get['status'](){const _0x1a1d18=a8_0x54431a;return this[_0x1a1d18(0xc0)];}[a8_0x54431a(0x94)](){const _0x200cec=a8_0x54431a;if(this['heartbeatTimeout']!=undefined)clearTimeout(this[_0x200cec(0xa5)]);this[_0x200cec(0xa5)]=setTimeout(()=>{const _0x9e621e=_0x200cec;if(this[_0x9e621e(0xc0)]!==_0x9e621e(0x91))return;this[_0x9e621e(0xe5)]();},this[_0x200cec(0xd6)]);}[a8_0x54431a(0xb5)](_0xb4b926){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x358b79=a8_0x3bd6;var _0x2bff6b,_0x291ca2;if(this[_0x358b79(0xc0)]===_0x358b79(0xc5))return;const _0x2fef4c=_0xb4b926[0x0],_0x44d7e7=(_0x2fef4c&0x80)!==0x0,_0xae5328=_0x2fef4c&0xf,_0xf47440=_0xb4b926[0x1],_0x3c67fb=(_0xf47440&0x80)!==0x0;let _0xe8894d=_0xf47440&0x7f,_0x26a7ec=0x2;if(_0xe8894d===0x7e)_0xe8894d=_0xb4b926[_0x358b79(0xa1)](_0x26a7ec),_0x26a7ec+=0x2;else _0xe8894d===0x7f&&(_0xe8894d=Number(_0xb4b926['readBigUInt64BE'](_0x26a7ec)),_0x26a7ec+=0x8);const _0x446ec4=_0x3c67fb?_0xb4b926['slice'](_0x26a7ec,_0x26a7ec+0x4):Buffer[_0x358b79(0xc4)](0x0);if(_0x3c67fb)_0x26a7ec+=0x4;let _0x36daf7=_0xb4b926[_0x358b79(0x86)](_0x26a7ec,_0x26a7ec+_0xe8894d);if(_0x3c67fb){const _0x278a5f=Buffer[_0x358b79(0xc4)](_0x36daf7[_0x358b79(0xe2)]);for(let _0x200f8b=0x0;_0x200f8b<_0x36daf7[_0x358b79(0xe2)];_0x200f8b++)_0x278a5f[_0x200f8b]=_0x36daf7[_0x200f8b]^_0x446ec4[_0x200f8b%0x4];_0x36daf7=_0x278a5f;}switch(_0xae5328){case 0x1:this['raise'](_0x358b79(0x9d),new Error(_0x358b79(0xe1)+_0x36daf7[_0x358b79(0x89)](_0x358b79(0xcf))));break;case 0x2:{if(this[_0x358b79(0xc0)]==='handshake'){const {pingInterval:_0x139d23}=this[_0x358b79(0xaf)](_0x36daf7);this[_0x358b79(0xd6)]=_0x139d23+0x1f4,this['_status']='open';break;}const _0x48583b=_0x36daf7[_0x358b79(0x8c)](0x0);switch(_0x48583b){case 0x0:{const _0x1e78c8=_0x36daf7[_0x358b79(0xd1)](0x1),_0x1dfe8e=Buffer[_0x358b79(0xc4)](0x5+_0x36daf7[_0x358b79(0xe2)]);_0x1dfe8e[_0x358b79(0xb8)](0x1,0x0),_0x1e78c8[_0x358b79(0x81)](_0x1dfe8e,0x1),this[_0x358b79(0xcb)](_0x358b79(0xde),_0x1dfe8e),this[_0x358b79(0x94)]();break;}case 0x1:{break;}case 0x2:{const _0x33a11c=_0x36daf7['readUInt8'](0x1),_0xa86e31=_0x36daf7[_0x358b79(0x8c)](0x2),_0x4ce048=_0x36daf7['subarray'](0x3,0x3+_0xa86e31)['toString']('utf-8');if([_0x358b79(0xd2),_0x358b79(0x91),_0x358b79(0x9d),_0x358b79(0xd9),'*'][_0x358b79(0xc6)](_0x4ce048)){this['raise'](_0x358b79(0x9d),new Error(_0x358b79(0x8d)+_0x4ce048));return;}const _0x565677=this[_0x358b79(0xaf)](_0x36daf7[_0x358b79(0xd1)](0x3+_0xa86e31)),_0x4ce540=(_0x2bff6b=this[_0x358b79(0xb7)][_0x4ce048])!==null&&_0x2bff6b!==void 0x0?_0x2bff6b:[];let _0x3b3497;for(const _0x379f7a of _0x4ce540){const _0xf68d90=yield _0x379f7a[_0x358b79(0x93)](undefined,_0x565677);if(_0x3b3497===undefined)_0x3b3497=_0xf68d90;}if(_0x33a11c!==0x0){if(_0x3b3497===undefined)this[_0x358b79(0xa4)]('error',new Error(_0x358b79(0x97)+_0x4ce048+_0x358b79(0xc3)));const _0x11a853=this[_0x358b79(0xbe)](_0x3b3497!==null&&_0x3b3497!==void 0x0?_0x3b3497:null),_0x48a8e2=Buffer[_0x358b79(0xc4)](0x2+_0x11a853[_0x358b79(0xe2)]);_0x48a8e2[_0x358b79(0xb8)](0x3,0x0),_0x48a8e2['writeUInt8'](_0x33a11c,0x1),_0x11a853[_0x358b79(0x81)](_0x48a8e2,0x2),yield this[_0x358b79(0xcb)](_0x358b79(0xde),_0x48a8e2);}const _0x10160a=(_0x291ca2=this[_0x358b79(0xb7)]['*'])!==null&&_0x291ca2!==void 0x0?_0x291ca2:[];for(const _0x42ce23 of _0x10160a)_0x42ce23[_0x358b79(0x93)](undefined,_0x4ce048,_0x36daf7);break;}case 0x3:{const _0x40f2e4=_0x36daf7[_0x358b79(0x8c)](0x1),_0x3df96b=this[_0x358b79(0x99)][_0x40f2e4];if(_0x3df96b==undefined){this[_0x358b79(0xa4)](_0x358b79(0x9d),new Error(_0x358b79(0xcd)+_0x40f2e4+_0x358b79(0xb6)));break;}const _0xc3bbe0=this[_0x358b79(0xaf)](_0x36daf7[_0x358b79(0xd1)](0x2));_0x3df96b(_0xc3bbe0);break;}}break;}case 0x9:this[_0x358b79(0xcb)](_0x358b79(0xb3),_0x36daf7);break;case 0xa:break;case 0x8:if(this['_status']===_0x358b79(0x8f))return;let _0x205143=0x3e8,_0x51eb3e='';_0x36daf7[_0x358b79(0xe2)]>=0x2&&(_0x205143=_0x36daf7['readUInt16BE'](0x0),_0x51eb3e=_0x36daf7[_0x358b79(0xd1)](0x2)[_0x358b79(0x89)](_0x358b79(0xcf)));this[_0x358b79(0xe5)](_0x205143,_0x51eb3e,0x0);break;default:this['raise']('error',new Error(_0x358b79(0x80)+_0xae5328));}if(_0xb4b926[_0x358b79(0xe2)]>_0x26a7ec+_0xe8894d)this[_0x358b79(0xb5)](_0xb4b926['subarray'](_0x26a7ec+_0xe8894d));});}['send'](_0x4341e4,_0x144b88){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x185f90=a8_0x3bd6;let _0x40bca6,_0x3874f7;switch(_0x4341e4){case'text':_0x40bca6=Buffer[_0x185f90(0x85)](_0x144b88,'utf-8'),_0x3874f7=0x1;break;case _0x185f90(0xde):_0x40bca6=_0x144b88,_0x3874f7=0x2;break;case _0x185f90(0xdd):_0x40bca6=_0x144b88,_0x3874f7=0x9;break;case'pong':_0x40bca6=_0x144b88,_0x3874f7=0xa;break;}let _0x3747cb;if(_0x40bca6['length']<=0x7d)_0x3747cb=Buffer[_0x185f90(0x85)]([0x80|_0x40bca6[_0x185f90(0xe2)]]);else _0x40bca6['length']<=0xffff?(_0x3747cb=Buffer[_0x185f90(0xdc)]([Buffer['from']([0x80|0x7e]),Buffer[_0x185f90(0xc4)](0x2)]),_0x3747cb[_0x185f90(0xc2)](_0x40bca6['length'],0x1)):(_0x3747cb=Buffer['concat']([Buffer[_0x185f90(0x85)]([0x80|0x7f]),Buffer['alloc'](0x8)]),_0x3747cb['writeBigUInt64BE'](BigInt(_0x40bca6['length']),0x1));const _0x4fc107=a8_0x692669['randomBytes'](0x4),_0x2ff7a1=Buffer[_0x185f90(0xc4)](_0x40bca6[_0x185f90(0xe2)]);for(let _0x3ebe7f=0x0;_0x3ebe7f<_0x40bca6[_0x185f90(0xe2)];_0x3ebe7f++)_0x2ff7a1[_0x3ebe7f]=_0x40bca6[_0x3ebe7f]^_0x4fc107[_0x3ebe7f%0x4];const _0x5ecf09=Buffer[_0x185f90(0xdc)]([Buffer['from']([0x80|_0x3874f7]),_0x3747cb,_0x4fc107,_0x2ff7a1]);return new Promise((_0xc798eb,_0x817165)=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x4dfd3f=_0x185f90,_0x123d90=this[_0x4dfd3f(0xba)]['write'](_0x5ecf09,undefined,_0x224c92=>{if(_0x224c92==undefined)return;_0x817165(_0x224c92);});if(!_0x123d90)yield new Promise(_0x57a5f3=>this[_0x4dfd3f(0xba)]['once'](_0x4dfd3f(0xbf),_0x57a5f3));_0xc798eb();}));});}[a8_0x54431a(0xbe)](_0x1d08e4){const _0x53183c=a8_0x54431a;return Buffer['from'](JSON['stringify'](_0x1d08e4),_0x53183c(0xcf));}[a8_0x54431a(0xaf)](_0xb40f85){const _0x4d80c2=a8_0x54431a;return JSON[_0x4d80c2(0xbd)](_0xb40f85[_0x4d80c2(0x89)](_0x4d80c2(0xcf)));}[a8_0x54431a(0xb1)](_0xb128cc,_0x53a7cb,_0x3e3865){return __awaiter(this,arguments,void 0x0,function*(_0x24e906,_0x47ad80,_0xbfaf4c,_0x5097ae=0x5*0x3e8){const _0x10b5d8=a8_0x3bd6;if(this[_0x10b5d8(0xba)]==undefined||this[_0x10b5d8(0x87)]!=='open')throw new Error(_0x10b5d8(0xbc));if([_0x10b5d8(0xd2),_0x10b5d8(0x91),_0x10b5d8(0x9d),_0x10b5d8(0xd9),'*'][_0x10b5d8(0xc6)](_0x24e906))throw new Error('Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22');const _0x1949b9=Buffer[_0x10b5d8(0x85)](_0x24e906,_0x10b5d8(0xcf));if(_0x1949b9[_0x10b5d8(0xe2)]>0xff)throw new Error('Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)');const _0x5ab683=_0xbfaf4c==undefined?0x0:this['requestId'];if(_0xbfaf4c!=undefined){this[_0x10b5d8(0xa3)]=(this[_0x10b5d8(0xa3)]+0x1)%0x100||0x1;const _0x71db98=setTimeout(()=>{delete this['pendingRequests'][_0x5ab683],_0xbfaf4c['call'](undefined,new Error('Timeout'));},_0x5097ae);this[_0x10b5d8(0x99)][_0x5ab683]=_0x142bd7=>{clearTimeout(_0x71db98),_0xbfaf4c['call'](undefined,_0x142bd7);};}const _0x201eb4=this[_0x10b5d8(0xbe)](_0x47ad80),_0x13d20a=Buffer[_0x10b5d8(0xc4)](0x3+_0x1949b9[_0x10b5d8(0xe2)]+_0x201eb4[_0x10b5d8(0xe2)]);_0x13d20a[_0x10b5d8(0xb8)](0x2,0x0),_0x13d20a[_0x10b5d8(0xb8)](_0x5ab683,0x1),_0x13d20a['writeUInt8'](_0x1949b9['length'],0x2),_0x1949b9[_0x10b5d8(0x81)](_0x13d20a,0x3),_0x201eb4['copy'](_0x13d20a,0x3+_0x1949b9[_0x10b5d8(0xe2)]),yield this[_0x10b5d8(0xcb)]('binary',_0x13d20a);});}['on'](_0x5d6420,_0x5a9d5c){const _0x3f7bae=a8_0x54431a;if(this['handlers'][_0x5d6420]==undefined)this[_0x3f7bae(0xb7)][_0x5d6420]=[];this[_0x3f7bae(0xb7)][_0x5d6420][_0x3f7bae(0xd4)](_0x5a9d5c);}[a8_0x54431a(0xa9)](_0x381900,_0x58b5fa){const _0x1b1008=a8_0x54431a;if(_0x58b5fa==undefined){this['handlers'][_0x381900]=[];return;}const _0x2a1276=this['handlers'][_0x381900],_0xb8a353=(_0x2a1276!==null&&_0x2a1276!==void 0x0?_0x2a1276:[])['findIndex'](_0x24cab8=>_0x24cab8===_0x58b5fa);if(_0xb8a353===-0x1)throw new Error(_0x1b1008(0xac)+_0x381900+_0x1b1008(0xe3));_0x2a1276['splice'](_0xb8a353,0x1);}[a8_0x54431a(0xa4)](_0x105ed6,_0x3936f7){const _0x1e5bed=a8_0x54431a;var _0x598553,_0x4c3100;const _0x5743a0=(_0x598553=this[_0x1e5bed(0xb7)][_0x105ed6])!==null&&_0x598553!==void 0x0?_0x598553:[];for(const _0x598b12 of _0x5743a0)_0x598b12(_0x3936f7);const _0x42b11e=(_0x4c3100=this[_0x1e5bed(0xb7)]['*'])!==null&&_0x4c3100!==void 0x0?_0x4c3100:[];for(const _0x3a43ce of _0x42b11e)_0x3a43ce(_0x105ed6,_0x3936f7);}}