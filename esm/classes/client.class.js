const a7_0x4756e7=a7_0x4e39;(function(_0x7a9767,_0x4a1e6d){const _0x198a63=a7_0x4e39,_0x5ca030=_0x7a9767();while(!![]){try{const _0x5823cf=parseInt(_0x198a63(0xf2))/0x1*(parseInt(_0x198a63(0x101))/0x2)+-parseInt(_0x198a63(0x12c))/0x3*(parseInt(_0x198a63(0xfb))/0x4)+-parseInt(_0x198a63(0xf9))/0x5+-parseInt(_0x198a63(0x11f))/0x6+parseInt(_0x198a63(0xee))/0x7+-parseInt(_0x198a63(0x129))/0x8*(-parseInt(_0x198a63(0x10b))/0x9)+parseInt(_0x198a63(0x10d))/0xa*(parseInt(_0x198a63(0xfd))/0xb);if(_0x5823cf===_0x4a1e6d)break;else _0x5ca030['push'](_0x5ca030['shift']());}catch(_0x5e774f){_0x5ca030['push'](_0x5ca030['shift']());}}}(a7_0x5bd2,0x28f06));function a7_0x5bd2(){const _0x1e33a1=['message','push','ping','1174380EBlKSS','send','764224TsKXub','status','11PtUdao','open','string','__awaiter','4CVdLpk','splice','handle','handshake','disconnect','raise','checkHeartbeat','url','removeAllListeners','socket','7623zyjVEL','error','5280260GjSjZT','addEventListener','sent-info','done','closing','readUInt8','from','value','closed','utf-8','emit','length','parse','includes','removeEventListener','The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','next','handlers','1931910QcUFte','apply','toString','CLOSING','CLOSED','heartbeatTimeout','pong','handshakeData','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','readyState','992ifRPqX','findIndex','off','3ArijtN','requestId','pendingRequests','decode','throw','The\x20websocket\x20is\x20already\x20connected','connect','encode','heartbeatInterval','isArray','then','slice','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error\x20or\x20close','handshakeStatus','waiting','1139075dBAtpi','completed','alloc','Timeout','59912slEzXn','close','reconnectTimeout','concat'];a7_0x5bd2=function(){return _0x1e33a1;};return a7_0x5bd2();}var __awaiter=this&&this[a7_0x4756e7(0x100)]||function(_0xb0f807,_0x1a5848,_0x3590d2,_0x484f57){function _0x5002d1(_0x4de3fe){return _0x4de3fe instanceof _0x3590d2?_0x4de3fe:new _0x3590d2(function(_0xd28f5d){_0xd28f5d(_0x4de3fe);});}return new(_0x3590d2||(_0x3590d2=Promise))(function(_0x40c697,_0x18d63e){const _0x4cf0a6=a7_0x4e39;function _0x1c5e05(_0x182392){const _0x22b1f7=a7_0x4e39;try{_0x9c2981(_0x484f57[_0x22b1f7(0x11d)](_0x182392));}catch(_0x3bf6dd){_0x18d63e(_0x3bf6dd);}}function _0x46ddf7(_0x4d454e){const _0x39dd9c=a7_0x4e39;try{_0x9c2981(_0x484f57[_0x39dd9c(0x130)](_0x4d454e));}catch(_0x215af0){_0x18d63e(_0x215af0);}}function _0x9c2981(_0x4d8b3b){const _0x5c00ec=a7_0x4e39;_0x4d8b3b[_0x5c00ec(0x110)]?_0x40c697(_0x4d8b3b[_0x5c00ec(0x114)]):_0x5002d1(_0x4d8b3b[_0x5c00ec(0x114)])[_0x5c00ec(0x136)](_0x1c5e05,_0x46ddf7);}_0x9c2981((_0x484f57=_0x484f57[_0x4cf0a6(0x120)](_0xb0f807,_0x1a5848||[]))[_0x4cf0a6(0x11d)]());});};import a7_0x1589f4 from'ws';function a7_0x4e39(_0x3779af,_0x18667c){const _0x5bd2da=a7_0x5bd2();return a7_0x4e39=function(_0x4e39d1,_0x4a4dac){_0x4e39d1=_0x4e39d1-0xed;let _0x3aacd0=_0x5bd2da[_0x4e39d1];return _0x3aacd0;},a7_0x4e39(_0x3779af,_0x18667c);}export default class Client{constructor(){const _0x5767e3=a7_0x4756e7;this[_0x5767e3(0x134)]=0x5*0x3e8+0x1f4,this[_0x5767e3(0xf4)]=null,this[_0x5767e3(0x139)]=_0x5767e3(0xed),this[_0x5767e3(0x12d)]=0x1,this[_0x5767e3(0x12e)]={},this[_0x5767e3(0x11e)]={},this['checkHeartbeat']=()=>{const _0x155b11=_0x5767e3;if(this[_0x155b11(0x124)]!=undefined)clearTimeout(this[_0x155b11(0x124)]);this[_0x155b11(0x124)]=setTimeout(()=>{const _0x32386d=_0x155b11;var _0x3e6b0a;if(this[_0x32386d(0x10a)]!=undefined&&this[_0x32386d(0x10a)]['readyState']!==a7_0x1589f4['OPEN'])return;(_0x3e6b0a=this[_0x32386d(0x10a)])===null||_0x3e6b0a===void 0x0?void 0x0:_0x3e6b0a[_0x32386d(0xf3)]();},this[_0x155b11(0x134)]);};}[a7_0x4756e7(0x132)](){return __awaiter(this,arguments,void 0x0,function*({url:_0xcacdd5,allowReject:_0x46079d,handshakeData:_0x12d683,reconnectTimeout:_0x265aeb}={}){return new Promise((_0x5c2742,_0x1806f6)=>{const _0x363a19=a7_0x4e39;if(this['socket']!=undefined&&this[_0x363a19(0x10a)][_0x363a19(0x128)]===a7_0x1589f4['OPEN']){if(_0x46079d!==!![])_0x1806f6(new Error(_0x363a19(0x131)));else _0x5c2742();}this['socket']!=undefined&&(this[_0x363a19(0x10a)][_0x363a19(0x109)](),this['socket'][_0x363a19(0x12b)]('ping',this[_0x363a19(0x107)]),this[_0x363a19(0x139)]=_0x363a19(0xed));if(this[_0x363a19(0x108)]==undefined&&_0xcacdd5==undefined)_0x1806f6(new Error('No\x20url\x20specified'));this[_0x363a19(0x108)]=_0xcacdd5||this[_0x363a19(0x108)];if(_0x265aeb!==undefined)this[_0x363a19(0xf4)]=_0x265aeb;if(_0x12d683!==undefined)this[_0x363a19(0x126)]=_0x12d683;this[_0x363a19(0x10a)]=new a7_0x1589f4(this[_0x363a19(0x108)]),this[_0x363a19(0x10a)][_0x363a19(0x10e)]('open',this[_0x363a19(0x107)]),this['socket'][_0x363a19(0x10e)](_0x363a19(0xf6),this[_0x363a19(0x107)]),this['socket']['on'](_0x363a19(0xf8),_0x19c9ab=>{const _0x2da3e9=_0x363a19;var _0x20beff;(_0x20beff=this['socket'])===null||_0x20beff===void 0x0?void 0x0:_0x20beff[_0x2da3e9(0x125)](_0x19c9ab),this['checkHeartbeat']();}),this[_0x363a19(0x10a)][_0x363a19(0x10e)](_0x363a19(0xf3),()=>{const _0x3ca4ba=_0x363a19;if(this[_0x3ca4ba(0x124)]!=undefined)clearTimeout(this['heartbeatTimeout']);});if(this['reconnectTimeout']!=undefined)this['socket'][_0x363a19(0x10e)](_0x363a19(0xf3),()=>{const _0x51405d=_0x363a19;setTimeout(()=>this[_0x51405d(0x132)](),this[_0x51405d(0xf4)]);});this[_0x363a19(0x10a)][_0x363a19(0x10e)]('message',_0x5157b5=>this[_0x363a19(0x103)](_0x5157b5)),this[_0x363a19(0x10a)][_0x363a19(0x10e)]('open',_0x31d9c8=>this[_0x363a19(0x106)]('open',_0x31d9c8)),this[_0x363a19(0x10a)]['addEventListener']('error',_0x54a31d=>this['raise']('error',_0x54a31d)),this[_0x363a19(0x10a)][_0x363a19(0x10e)]('close',_0x30e9ac=>this[_0x363a19(0x106)]('close',_0x30e9ac));const _0x3961ed=()=>{_0x5c2742(),_0x3c04df();},_0x407b37=_0x5cf928=>{_0x46079d?_0x1806f6(_0x5cf928):_0x5c2742(),_0x3c04df();};this['socket'][_0x363a19(0x10e)](_0x363a19(0xfe),_0x3961ed,{'once':!![]}),this[_0x363a19(0x10a)][_0x363a19(0x10e)](_0x363a19(0x10c),_0x407b37,{'once':!![]});const _0x3c04df=()=>{const _0x19cdd4=_0x363a19;var _0x523a11,_0x535251;(_0x523a11=this[_0x19cdd4(0x10a)])===null||_0x523a11===void 0x0?void 0x0:_0x523a11[_0x19cdd4(0x11b)](_0x19cdd4(0xfe),_0x3961ed),(_0x535251=this[_0x19cdd4(0x10a)])===null||_0x535251===void 0x0?void 0x0:_0x535251[_0x19cdd4(0x11b)](_0x19cdd4(0x10c),_0x407b37);};});});}[a7_0x4756e7(0x105)](_0x50a360,_0x32c445){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x2349ca,_0x5f2fd1)=>{const _0x5e6a78=a7_0x4e39;if(this['socket']==undefined||this[_0x5e6a78(0x10a)]['readyState']===a7_0x1589f4['CLOSING']||this['socket'][_0x5e6a78(0x128)]===a7_0x1589f4['CLOSED'])return _0x5f2fd1(new Error(_0x5e6a78(0x11c)));this[_0x5e6a78(0x10a)]['close'](_0x50a360,_0x32c445);const _0x564d08=()=>{_0x2349ca(),_0x47e3a8();},_0x245a75=_0x314689=>{_0x5f2fd1(_0x314689),_0x47e3a8();};this[_0x5e6a78(0x10a)][_0x5e6a78(0x10e)]('close',_0x564d08,{'once':!![]}),this[_0x5e6a78(0x10a)][_0x5e6a78(0x10e)](_0x5e6a78(0x10c),_0x245a75,{'once':!![]});const _0x47e3a8=()=>{const _0x454d5a=_0x5e6a78;var _0x2a5db9,_0x2af2f8;(_0x2a5db9=this['socket'])===null||_0x2a5db9===void 0x0?void 0x0:_0x2a5db9[_0x454d5a(0x11b)](_0x454d5a(0xf3),_0x564d08),(_0x2af2f8=this[_0x454d5a(0x10a)])===null||_0x2af2f8===void 0x0?void 0x0:_0x2af2f8[_0x454d5a(0x11b)](_0x454d5a(0x10c),_0x245a75);};});});}get[a7_0x4756e7(0xfc)](){const _0x571043=a7_0x4756e7;var _0x41af4c;switch((_0x41af4c=this[_0x571043(0x10a)])===null||_0x41af4c===void 0x0?void 0x0:_0x41af4c[_0x571043(0x128)]){case a7_0x1589f4['CONNECTING']:return'connecting';case a7_0x1589f4['OPEN']:return this[_0x571043(0x139)]===_0x571043(0xef)?_0x571043(0xfe):_0x571043(0x104);case a7_0x1589f4[_0x571043(0x122)]:return _0x571043(0x111);case a7_0x1589f4[_0x571043(0x123)]:default:return _0x571043(0x115);}}[a7_0x4756e7(0x117)](_0x48b5cf,_0x1163a6,_0x5c9887,_0x1dcc20=0x5*0x3e8){const _0x2af592=a7_0x4756e7;if(this[_0x2af592(0x10a)]==undefined||this[_0x2af592(0xfc)]!==_0x2af592(0xfe))throw new Error('The\x20websocket\x20is\x20not\x20connected');if(['handshake','open',_0x2af592(0x10c),_0x2af592(0xf3)][_0x2af592(0x11a)](_0x48b5cf))throw new Error(_0x2af592(0x138));const _0xe5dee6=_0x5c9887==undefined?0x0:this[_0x2af592(0x12d)],_0x588d9c=Buffer[_0x2af592(0x113)](_0x48b5cf,'utf-8');if(_0x588d9c[_0x2af592(0x118)]>0xff)throw new Error(_0x2af592(0x127));if(_0x5c9887!=undefined){this[_0x2af592(0x12d)]=(this[_0x2af592(0x12d)]+0x1)%0x80||0x1;const _0x40aa17=setTimeout(()=>{const _0x1df44c=_0x2af592;delete this[_0x1df44c(0x12e)][_0xe5dee6],_0x5c9887(new Error(_0x1df44c(0xf1)));},_0x1dcc20);this[_0x2af592(0x12e)][_0xe5dee6]=_0x27168b=>{if(!(_0x27168b instanceof Error))clearTimeout(_0x40aa17);_0x5c9887(_0x27168b);};}const _0xfc9267=Buffer[_0x2af592(0xf5)]([Buffer[_0x2af592(0x113)]([_0xe5dee6|0x80,_0x588d9c[_0x2af592(0x118)]]),_0x588d9c,this['encode'](_0x1163a6)]);this[_0x2af592(0x10a)]['send'](_0xfc9267);}[a7_0x4756e7(0x103)]({data:_0x351f1b}){const _0x2857ab=a7_0x4756e7;var _0x2deccf,_0x1acf4d,_0x33ab6e;let _0x38be3e=Buffer[_0x2857ab(0xf0)](0x0);if(_0x351f1b instanceof Buffer)_0x38be3e=_0x351f1b;if(typeof _0x351f1b===_0x2857ab(0xff))_0x38be3e=Buffer[_0x2857ab(0x113)](_0x351f1b,_0x2857ab(0x116));if(_0x351f1b instanceof ArrayBuffer)_0x38be3e=Buffer[_0x2857ab(0x113)](_0x351f1b);if(Array[_0x2857ab(0x135)](_0x351f1b))_0x38be3e=Buffer[_0x2857ab(0xf5)](_0x351f1b);if(this[_0x2857ab(0x139)]===_0x2857ab(0xed)){const {pingInterval:_0x2f399f}=this[_0x2857ab(0x12f)](_0x38be3e);this['heartbeatInterval']=_0x2f399f+0x1f4;const _0x9fdb5b=this['encode'](this[_0x2857ab(0x126)]===undefined?null:this[_0x2857ab(0x126)]);(_0x2deccf=this[_0x2857ab(0x10a)])===null||_0x2deccf===void 0x0?void 0x0:_0x2deccf[_0x2857ab(0xfa)](_0x9fdb5b),this[_0x2857ab(0x139)]=_0x2857ab(0x10f);return;}else{if(this[_0x2857ab(0x139)]==='sent-info'){this[_0x2857ab(0x139)]=_0x2857ab(0xef);return;}}const _0x37e00d=_0x38be3e[_0x2857ab(0x112)](0x0),_0x12a6a3=_0x37e00d&0x7f,_0x137f02=(_0x37e00d&0x80)!==0x0;if(_0x137f02){const _0x41b565=_0x38be3e[_0x2857ab(0x112)](0x1),_0x388252=_0x38be3e[_0x2857ab(0x137)](0x2,0x2+_0x41b565)[_0x2857ab(0x121)]('utf-8');if(['handshake',_0x2857ab(0xfe),_0x2857ab(0x10c),'close'][_0x2857ab(0x11a)](_0x388252))return;const _0x3ae005=this[_0x2857ab(0x12f)](_0x38be3e['slice'](0x2+_0x41b565)),_0x332e8f=(_0x1acf4d=this[_0x2857ab(0x11e)][_0x388252])!==null&&_0x1acf4d!==void 0x0?_0x1acf4d:[];let _0x1c4dc6=![];for(const _0x2a7d5a of _0x332e8f){const _0x2d8138=_0x2a7d5a['call'](undefined,_0x3ae005);if(!_0x1c4dc6&&_0x2d8138!==undefined&&_0x12a6a3!==0x0){_0x1c4dc6=!![];const _0x2faf5d=Buffer[_0x2857ab(0xf5)]([Buffer[_0x2857ab(0x113)]([_0x12a6a3&0x7f]),this[_0x2857ab(0x133)](_0x2d8138)]);(_0x33ab6e=this[_0x2857ab(0x10a)])===null||_0x33ab6e===void 0x0?void 0x0:_0x33ab6e[_0x2857ab(0xfa)](_0x2faf5d);}}if(!_0x1c4dc6&&_0x12a6a3!==0x0){}return;}const _0x1e2813=this[_0x2857ab(0x12e)][_0x12a6a3];if(_0x1e2813==undefined)return;const _0x2f1d1c=this[_0x2857ab(0x12f)](_0x38be3e[_0x2857ab(0x137)](0x1));_0x1e2813(_0x2f1d1c);}[a7_0x4756e7(0x133)](_0x9c7ab4){const _0x3928eb=a7_0x4756e7;return Buffer[_0x3928eb(0x113)](JSON['stringify'](_0x9c7ab4),_0x3928eb(0x116));}[a7_0x4756e7(0x12f)](_0x7bfbc1){const _0x294316=a7_0x4756e7;return JSON[_0x294316(0x119)](_0x7bfbc1[_0x294316(0x121)](_0x294316(0x116)));}['on'](_0x1e5bc7,_0xcdd0f6){const _0x3020e5=a7_0x4756e7;if(this[_0x3020e5(0x11e)][_0x1e5bc7]==undefined)this[_0x3020e5(0x11e)][_0x1e5bc7]=[];this[_0x3020e5(0x11e)][_0x1e5bc7][_0x3020e5(0xf7)](_0xcdd0f6);}['off'](_0x3dae3f,_0x1b7a64){const _0x131819=a7_0x4756e7;if(_0x1b7a64==undefined){delete this[_0x131819(0x11e)][_0x3dae3f];return;}const _0x1dc057=this[_0x131819(0x11e)][_0x3dae3f],_0x8b065e=(_0x1dc057!==null&&_0x1dc057!==void 0x0?_0x1dc057:[])[_0x131819(0x12a)](_0x5aa741=>_0x5aa741===_0x1b7a64);if(_0x8b065e===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x3dae3f+'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found');_0x1dc057[_0x131819(0x102)](_0x8b065e,0x1);}[a7_0x4756e7(0x106)](_0x292b0e,_0xf79c1b){const _0x52d035=a7_0x4756e7;var _0x24dfb3;const _0x52b443=(_0x24dfb3=this[_0x52d035(0x11e)][_0x292b0e])!==null&&_0x24dfb3!==void 0x0?_0x24dfb3:[];for(const _0xafb11b of _0x52b443)_0xafb11b(_0xf79c1b);}}