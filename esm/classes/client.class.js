const a8_0x1158be=a8_0x5e77;function a8_0x5e77(_0xa9838f,_0x298083){const _0x249686=a8_0x2496();return a8_0x5e77=function(_0x5e7710,_0x4d937c){_0x5e7710=_0x5e7710-0xdd;let _0x8179ec=_0x249686[_0x5e7710];return _0x8179ec;},a8_0x5e77(_0xa9838f,_0x298083);}function a8_0x2496(){const _0x53fba3=['Sec-WebSocket-Version:\x2013','writeBigUInt64BE','socket','checkHeartbeat','randomBytes','copy','Received\x20message\x20with\x20unsupported\x20opcode:\x20','heartbeatInterval','\x0d\x0a\x0d\x0a','wss://','6cimjas','apply','writeUInt16BE','join','Sec-WebSocket-Key:\x20','The\x20websocket\x20is\x20not\x20connected','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22','Received\x20a\x20response\x20for\x20id\x20','open','decode','encode','Connection:\x20Upgrade','startsWith','Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.','__awaiter','drain','reduce','subarray','disconnect','readBigUInt64BE','createConnection','54WhLamr','base64','from','6925050PIrHyt','Timeout','utf-8','push','Host:\x20','end','ping','next','alloc','handlers','The\x20request\x20line\x20of\x20the\x20handshake\x20isn\x27t\x20valid','\x20HTTP/1.1','slice','pendingRequests','throw','28095XYvekX','writeUInt8','sha1','GET\x20','splice','binary','replace','reconnectTimeout','once','toString','84RyQxPN','134XCJUXk','connect','then','toLowerCase',',\x20that\x20requires\x20a\x20response.','Upgrade:\x20websocket','closing','raise','stringify','data','closed','url','handshake','readUInt8','_status','indexOf','findIndex','error','parseInt','call','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','split','trim','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','digest','includes','parse','3385921muEEOI','send','off','readUInt16BE','status','done','value','Received\x20non-standard\x20text\x20message:\x20','length','533382AETaSZ','concat','No\x20handler\x20returns\x20a\x20value\x20for\x20event\x20','18070CbTclx','The\x20websocket\x20is\x20already\x20disconnected','4397043cbfJrp','553808JJBHcU','pong','close','484XGYFDS','The\x20sec-websocket-key\x20isn\x27t\x20valid','heartbeatTimeout','receive','requestId','write','update','The\x20websocket\x20is\x20already\x20connected'];a8_0x2496=function(){return _0x53fba3;};return a8_0x2496();}(function(_0x3e03ea,_0x81dd88){const _0x10efd2=a8_0x5e77,_0x46757b=_0x3e03ea();while(!![]){try{const _0x41df67=parseInt(_0x10efd2(0x141))/0x1+parseInt(_0x10efd2(0x11c))/0x2*(parseInt(_0x10efd2(0x111))/0x3)+-parseInt(_0x10efd2(0x14a))/0x4*(-parseInt(_0x10efd2(0x144))/0x5)+-parseInt(_0x10efd2(0xea))/0x6*(-parseInt(_0x10efd2(0x146))/0x7)+parseInt(_0x10efd2(0x147))/0x8*(-parseInt(_0x10efd2(0xff))/0x9)+parseInt(_0x10efd2(0x102))/0xa+-parseInt(_0x10efd2(0x138))/0xb*(parseInt(_0x10efd2(0x11b))/0xc);if(_0x41df67===_0x81dd88)break;else _0x46757b['push'](_0x46757b['shift']());}catch(_0x1b2bac){_0x46757b['push'](_0x46757b['shift']());}}}(a8_0x2496,0x55250));var __awaiter=this&&this[a8_0x1158be(0xf8)]||function(_0x3fcc03,_0x14e287,_0x1aa9e6,_0x37dfa0){function _0x32814e(_0x22aa59){return _0x22aa59 instanceof _0x1aa9e6?_0x22aa59:new _0x1aa9e6(function(_0x448144){_0x448144(_0x22aa59);});}return new(_0x1aa9e6||(_0x1aa9e6=Promise))(function(_0x38426f,_0x381e49){const _0x4611f8=a8_0x5e77;function _0x4d66c3(_0x13388b){const _0x283aa2=a8_0x5e77;try{_0x3aba94(_0x37dfa0[_0x283aa2(0x109)](_0x13388b));}catch(_0x5e0f3c){_0x381e49(_0x5e0f3c);}}function _0x36bbeb(_0xbe35c2){const _0x2d6b58=a8_0x5e77;try{_0x3aba94(_0x37dfa0[_0x2d6b58(0x110)](_0xbe35c2));}catch(_0x5170fb){_0x381e49(_0x5170fb);}}function _0x3aba94(_0x115146){const _0x401b29=a8_0x5e77;_0x115146[_0x401b29(0x13d)]?_0x38426f(_0x115146[_0x401b29(0x13e)]):_0x32814e(_0x115146[_0x401b29(0x13e)])[_0x401b29(0x11e)](_0x4d66c3,_0x36bbeb);}_0x3aba94((_0x37dfa0=_0x37dfa0[_0x4611f8(0xeb)](_0x3fcc03,_0x14e287||[]))['next']());});};import a8_0x21b6f0 from'crypto';import a8_0x1ba98e from'net';import a8_0x3ebe9c from'tls';export default class Client{constructor(){const _0x22645a=a8_0x1158be;this[_0x22645a(0x12a)]=_0x22645a(0x126),this[_0x22645a(0xe7)]=0xa*0x3e8+0x1f4,this[_0x22645a(0x14e)]=0x1,this[_0x22645a(0x10f)]={},this[_0x22645a(0x10b)]={},this[_0x22645a(0x127)]='',this['reconnectTimeout']=null,this[_0x22645a(0x128)]=null;}[a8_0x1158be(0x11d)](_0x266117){return __awaiter(this,arguments,void 0x0,function*(_0x48964c,{handshake:_0x2cb50b,reconnectTimeout:_0x1181af}={}){return new Promise((_0x45f325,_0x514bad)=>{const _0x7fa356=a8_0x5e77;if(this['_status']!==_0x7fa356(0x126))return _0x514bad(new Error(_0x7fa356(0xdf)));this[_0x7fa356(0x12a)]='connecting',this[_0x7fa356(0x127)]=_0x48964c,this[_0x7fa356(0x128)]=_0x2cb50b!==null&&_0x2cb50b!==void 0x0?_0x2cb50b:null,this[_0x7fa356(0x118)]=_0x1181af!==null&&_0x1181af!==void 0x0?_0x1181af:null;const _0x203bb0=_0x48964c[_0x7fa356(0xf6)](_0x7fa356(0xe9)),_0x3583cf=_0x48964c[_0x7fa356(0x117)](/^wss?:\/\//,''),[_0x5f28f4,..._0x478a3a]=_0x3583cf[_0x7fa356(0x132)]('/'),[_0x35f040,_0x5ee534]=_0x5f28f4[_0x7fa356(0x132)](':'),_0xd00be=_0x5ee534?Number[_0x7fa356(0x12e)](_0x5ee534):_0x203bb0?0x1bb:0x50,_0x4288c5='/'+_0x478a3a[_0x7fa356(0xed)]('/'),_0xdb45f5=_0x203bb0?a8_0x3ebe9c[_0x7fa356(0x11d)](_0xd00be,_0x35f040):a8_0x1ba98e[_0x7fa356(0xfe)](_0xd00be,_0x35f040),_0x374110=a8_0x21b6f0[_0x7fa356(0xe4)](0x10)[_0x7fa356(0x11a)](_0x7fa356(0x100)),_0x501d80=a8_0x21b6f0['createHash'](_0x7fa356(0x113))[_0x7fa356(0xde)](_0x374110+_0x7fa356(0x130))[_0x7fa356(0x135)](_0x7fa356(0x100)),_0x5963ec=[_0x7fa356(0x114)+_0x4288c5+_0x7fa356(0x10d),_0x7fa356(0x106)+_0x35f040,_0x7fa356(0x121),_0x7fa356(0xf5),_0x7fa356(0xee)+_0x374110,_0x7fa356(0xe0)];_0xdb45f5[_0x7fa356(0xdd)](_0x5963ec['join']('\x0d\x0a')+'\x0d\x0a\x0d\x0a'),_0xdb45f5[_0x7fa356(0x119)](_0x7fa356(0x125),_0x415f11=>{const _0x11018f=_0x7fa356;var _0x374a3a;const _0xad50e3=_0x415f11[_0x11018f(0x12b)](_0x11018f(0xe8))+0x4,_0x491c74=_0x415f11[_0x11018f(0xfb)](0x0,_0xad50e3)[_0x11018f(0x11a)](),[_0x153441,..._0x36bda6]=_0x491c74[_0x11018f(0x132)]('\x0d\x0a'),_0x4f3938=_0x36bda6[_0x11018f(0xfa)]((_0x4911d5,_0x34a64f)=>{const _0x39dc17=_0x11018f;if(_0x34a64f['length']===0x0)return _0x4911d5;const [_0xbd5440,_0x3581e8]=_0x34a64f[_0x39dc17(0x132)](':\x20');return _0x4911d5[_0xbd5440['trim']()[_0x39dc17(0x11f)]()]=_0x3581e8[_0x39dc17(0x133)](),_0x4911d5;},{});try{if(_0x153441!=='HTTP/1.1\x20101\x20Switching\x20Protocols')throw new Error(_0x11018f(0x10c));if(_0x4f3938['sec-websocket-accept']!==_0x501d80)throw new Error(_0x11018f(0x14b));this[_0x11018f(0xe2)]=_0xdb45f5,this[_0x11018f(0xe2)]['on'](_0x11018f(0x125),_0x40faa6=>this[_0x11018f(0x14d)](_0x40faa6)),this[_0x11018f(0xe2)]['on'](_0x11018f(0x12d),_0x23343f=>this[_0x11018f(0x123)](_0x11018f(0x12d),_0x23343f)),this[_0x11018f(0x12a)]=_0x11018f(0x128);if(_0x415f11['length']>_0xad50e3)this[_0x11018f(0x14d)](_0x415f11['subarray'](_0xad50e3));this[_0x11018f(0x139)](_0x11018f(0x116),this[_0x11018f(0xf4)]((_0x374a3a=this[_0x11018f(0x128)])!==null&&_0x374a3a!==void 0x0?_0x374a3a:null)),_0x45f325();}catch(_0x35b998){this[_0x11018f(0x123)](_0x11018f(0x12d),_0x35b998),_0x514bad(_0x35b998),this[_0x11018f(0x12a)]=_0x11018f(0x126),_0xdb45f5[_0x11018f(0x107)]();}});});});}[a8_0x1158be(0xfc)](){return __awaiter(this,arguments,void 0x0,function*(_0x1fb61c=0x3e8,_0x2b672a='',_0x12927b=0x1388){return new Promise((_0x4cdf7b,_0x3cb7e9)=>__awaiter(this,void 0x0,void 0x0,function*(){const _0xafe3d9=a8_0x5e77;if(this[_0xafe3d9(0x12a)]===_0xafe3d9(0x122)||this[_0xafe3d9(0x12a)]===_0xafe3d9(0x126))return _0x3cb7e9(new Error(_0xafe3d9(0x145)));const _0xb300b3=Buffer[_0xafe3d9(0x101)](_0x2b672a,_0xafe3d9(0x104)),_0x4f98af=Buffer[_0xafe3d9(0x10a)](0x2+_0xb300b3[_0xafe3d9(0x140)]);_0x4f98af[_0xafe3d9(0xec)](_0x1fb61c,0x0),_0xb300b3['copy'](_0x4f98af,0x2);const _0x23a790=_0x4f98af['length'],_0x2da1f3=_0x23a790<0x7e?_0x23a790:_0x23a790<0x10000?0x7e:0x7f,_0x26af5a=_0x2da1f3===0x7e?Buffer['from']([0x88,0x7e,_0x23a790>>0x8&0xff,_0x23a790&0xff]):_0x2da1f3===0x7f?Buffer[_0xafe3d9(0x101)]([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x23a790>>0x8&0xff,_0x23a790&0xff]):Buffer[_0xafe3d9(0x101)]([0x88,_0x23a790]),_0x272c66=Buffer['concat']([_0x26af5a,_0x4f98af]);this[_0xafe3d9(0xe2)][_0xafe3d9(0xdd)](_0x272c66),this['_status']=_0xafe3d9(0x122),this[_0xafe3d9(0xe2)][_0xafe3d9(0x119)](_0xafe3d9(0x125),_0x3af85c=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x12ec6f=_0xafe3d9;if(this[_0x12ec6f(0x12a)]===_0x12ec6f(0x126))return;_0x3af85c[0x0]===0x88?(this[_0x12ec6f(0x149)](_0x1fb61c,_0x2b672a),_0x4cdf7b()):_0x3cb7e9(new Error(_0x12ec6f(0xf7)));})),_0x12927b>0x0?setTimeout(()=>{const _0xa0cf69=_0xafe3d9;this[_0xa0cf69(0x149)](_0x1fb61c,_0x2b672a),_0x3cb7e9(new Error('Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.'));},_0x12927b):(this[_0xafe3d9(0x149)](_0x1fb61c,_0x2b672a),_0x4cdf7b());}));});}['close'](){return __awaiter(this,arguments,void 0x0,function*(_0x1f8c3f=0x3e8,_0x2ca07e=''){const _0x2d901d=a8_0x5e77;if(this[_0x2d901d(0x12a)]===_0x2d901d(0x126))return;this[_0x2d901d(0x12a)]=_0x2d901d(0x126),yield new Promise(_0x4b68d4=>this[_0x2d901d(0xe2)][_0x2d901d(0x107)](()=>_0x4b68d4())),this[_0x2d901d(0x123)](_0x2d901d(0x149),{'code':_0x1f8c3f,'reason':_0x2ca07e});if(this[_0x2d901d(0x118)]!=undefined)setTimeout(()=>{const _0x4aa57f=_0x2d901d;this[_0x4aa57f(0x11d)](this[_0x4aa57f(0x127)],{'handshake':this[_0x4aa57f(0x128)],'reconnectTimeout':this[_0x4aa57f(0x118)]});},this[_0x2d901d(0x118)]);});}get[a8_0x1158be(0x13c)](){const _0x15d5c9=a8_0x1158be;return this[_0x15d5c9(0x12a)];}['checkHeartbeat'](){const _0x5c4cd5=a8_0x1158be;if(this['heartbeatTimeout']!=undefined)clearTimeout(this[_0x5c4cd5(0x14c)]);this[_0x5c4cd5(0x14c)]=setTimeout(()=>{const _0x422d57=_0x5c4cd5;if(this[_0x422d57(0x12a)]!==_0x422d57(0xf2))return;this[_0x422d57(0xfc)]();},this[_0x5c4cd5(0xe7)]);}[a8_0x1158be(0x14d)](_0x1a88f0){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x4f2df2=a8_0x5e77;var _0x3b0ae5;if(this[_0x4f2df2(0x12a)]===_0x4f2df2(0x126))return;const _0x5581a2=_0x1a88f0[0x0],_0x382c02=(_0x5581a2&0x80)!==0x0,_0xbdba88=_0x5581a2&0xf,_0x205920=_0x1a88f0[0x1],_0x1081d8=(_0x205920&0x80)!==0x0;let _0x3e3e85=_0x205920&0x7f,_0x50293f=0x2;if(_0x3e3e85===0x7e)_0x3e3e85=_0x1a88f0[_0x4f2df2(0x13b)](_0x50293f),_0x50293f+=0x2;else _0x3e3e85===0x7f&&(_0x3e3e85=Number(_0x1a88f0[_0x4f2df2(0xfd)](_0x50293f)),_0x50293f+=0x8);const _0x2fe923=_0x1081d8?_0x1a88f0[_0x4f2df2(0x10e)](_0x50293f,_0x50293f+0x4):Buffer[_0x4f2df2(0x10a)](0x0);if(_0x1081d8)_0x50293f+=0x4;let _0x1782ed=_0x1a88f0[_0x4f2df2(0x10e)](_0x50293f,_0x50293f+_0x3e3e85);if(_0x1081d8){const _0x273335=Buffer['alloc'](_0x1782ed[_0x4f2df2(0x140)]);for(let _0x41f0c4=0x0;_0x41f0c4<_0x1782ed[_0x4f2df2(0x140)];_0x41f0c4++)_0x273335[_0x41f0c4]=_0x1782ed[_0x41f0c4]^_0x2fe923[_0x41f0c4%0x4];_0x1782ed=_0x273335;}switch(_0xbdba88){case 0x1:this[_0x4f2df2(0x123)]('error',new Error(_0x4f2df2(0x13f)+_0x1782ed[_0x4f2df2(0x11a)]('utf-8')));break;case 0x2:{if(this[_0x4f2df2(0x12a)]==='handshake'){const {pingInterval:_0x36bab0}=this['decode'](_0x1782ed);this[_0x4f2df2(0xe7)]=_0x36bab0+0x1f4,this[_0x4f2df2(0x12a)]=_0x4f2df2(0xf2),this['checkHeartbeat']();break;}const _0x532d5b=_0x1782ed[_0x4f2df2(0x129)](0x0);switch(_0x532d5b){case 0x0:{const _0x3be201=_0x1782ed[_0x4f2df2(0xfb)](0x1),_0x5cc6ed=Buffer[_0x4f2df2(0x10a)](0x5+_0x1782ed[_0x4f2df2(0x140)]);_0x5cc6ed[_0x4f2df2(0x112)](0x1,0x0),_0x3be201[_0x4f2df2(0xe5)](_0x5cc6ed,0x1),this[_0x4f2df2(0x139)](_0x4f2df2(0x116),_0x5cc6ed),this[_0x4f2df2(0xe3)]();break;}case 0x1:{break;}case 0x2:{const _0x35f713=_0x1782ed[_0x4f2df2(0x129)](0x1),_0x2deab1=_0x1782ed['readUInt8'](0x2),_0x133eb1=_0x1782ed[_0x4f2df2(0xfb)](0x3,0x3+_0x2deab1)[_0x4f2df2(0x11a)](_0x4f2df2(0x104));if(['handshake',_0x4f2df2(0xf2),_0x4f2df2(0x12d),_0x4f2df2(0x149),'*'][_0x4f2df2(0x136)](_0x133eb1)){this['raise']('error',new Error('Received\x20emit\x20from\x20client\x20for\x20a\x20reserved\x20event:\x20'+_0x133eb1));return;}const _0x1a7a3f=this[_0x4f2df2(0xf3)](_0x1782ed[_0x4f2df2(0xfb)](0x3+_0x2deab1)),_0x5399fa=(_0x3b0ae5=this['handlers'][_0x133eb1])!==null&&_0x3b0ae5!==void 0x0?_0x3b0ae5:[];let _0x4efdce;for(const _0x24f5a6 of _0x5399fa){const _0x1c3fa8=yield _0x24f5a6['call'](undefined,_0x1a7a3f);if(_0x4efdce===undefined)_0x4efdce=_0x1c3fa8;}if(_0x35f713!==0x0){if(_0x4efdce===undefined)this[_0x4f2df2(0x123)](_0x4f2df2(0x12d),new Error(_0x4f2df2(0x143)+_0x133eb1+_0x4f2df2(0x120)));const _0xe2353f=this[_0x4f2df2(0xf4)](_0x4efdce!==null&&_0x4efdce!==void 0x0?_0x4efdce:null),_0x161a00=Buffer[_0x4f2df2(0x10a)](0x2+_0xe2353f[_0x4f2df2(0x140)]);_0x161a00['writeUInt8'](0x3,0x0),_0x161a00[_0x4f2df2(0x112)](_0x35f713,0x1),_0xe2353f[_0x4f2df2(0xe5)](_0x161a00,0x2),yield this[_0x4f2df2(0x139)](_0x4f2df2(0x116),_0x161a00);}break;}case 0x3:{const _0x5562c7=_0x1782ed[_0x4f2df2(0x129)](0x1),_0x10dced=this[_0x4f2df2(0x10f)][_0x5562c7];if(_0x10dced==undefined){this['raise'](_0x4f2df2(0x12d),new Error(_0x4f2df2(0xf1)+_0x5562c7+'\x20but\x20to\x20pending\x20request\x20was\x20found'));break;}const _0x44d5ec=this[_0x4f2df2(0xf3)](_0x1782ed[_0x4f2df2(0xfb)](0x2));_0x10dced(_0x44d5ec);break;}}break;}case 0x9:this['send'](_0x4f2df2(0x148),_0x1782ed);break;case 0xa:break;case 0x8:if(this[_0x4f2df2(0x12a)]===_0x4f2df2(0x122))return;let _0x3f87fa=0x3e8,_0x5d6d9e='';_0x1782ed[_0x4f2df2(0x140)]>=0x2&&(_0x3f87fa=_0x1782ed[_0x4f2df2(0x13b)](0x0),_0x5d6d9e=_0x1782ed[_0x4f2df2(0xfb)](0x2)[_0x4f2df2(0x11a)](_0x4f2df2(0x104)));this[_0x4f2df2(0xfc)](_0x3f87fa,_0x5d6d9e,0x0);break;default:this['raise'](_0x4f2df2(0x12d),new Error(_0x4f2df2(0xe6)+_0xbdba88));}if(_0x1a88f0['length']>_0x50293f+_0x3e3e85)this[_0x4f2df2(0x14d)](_0x1a88f0[_0x4f2df2(0xfb)](_0x50293f+_0x3e3e85));});}[a8_0x1158be(0x139)](_0x9b9e7d,_0x10a4e3){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x546920=a8_0x5e77;let _0x36af2e,_0x26606e;switch(_0x9b9e7d){case'text':_0x36af2e=Buffer[_0x546920(0x101)](_0x10a4e3,_0x546920(0x104)),_0x26606e=0x1;break;case _0x546920(0x116):_0x36af2e=_0x10a4e3,_0x26606e=0x2;break;case _0x546920(0x108):_0x36af2e=_0x10a4e3,_0x26606e=0x9;break;case'pong':_0x36af2e=_0x10a4e3,_0x26606e=0xa;break;}let _0x59e790;if(_0x36af2e[_0x546920(0x140)]<=0x7d)_0x59e790=Buffer[_0x546920(0x101)]([0x80|_0x36af2e[_0x546920(0x140)]]);else _0x36af2e['length']<=0xffff?(_0x59e790=Buffer[_0x546920(0x142)]([Buffer[_0x546920(0x101)]([0x80|0x7e]),Buffer[_0x546920(0x10a)](0x2)]),_0x59e790[_0x546920(0xec)](_0x36af2e[_0x546920(0x140)],0x1)):(_0x59e790=Buffer['concat']([Buffer[_0x546920(0x101)]([0x80|0x7f]),Buffer[_0x546920(0x10a)](0x8)]),_0x59e790[_0x546920(0xe1)](BigInt(_0x36af2e[_0x546920(0x140)]),0x1));const _0xadc9de=a8_0x21b6f0[_0x546920(0xe4)](0x4),_0x3efd9e=Buffer[_0x546920(0x10a)](_0x36af2e[_0x546920(0x140)]);for(let _0x356d77=0x0;_0x356d77<_0x36af2e[_0x546920(0x140)];_0x356d77++)_0x3efd9e[_0x356d77]=_0x36af2e[_0x356d77]^_0xadc9de[_0x356d77%0x4];const _0x58511c=Buffer['concat']([Buffer['from']([0x80|_0x26606e]),_0x59e790,_0xadc9de,_0x3efd9e]);return new Promise((_0x1e6119,_0x4beefa)=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x3e1fbe=_0x546920,_0x19ca32=this[_0x3e1fbe(0xe2)][_0x3e1fbe(0xdd)](_0x58511c,undefined,_0x1477c4=>{if(_0x1477c4==undefined)return;_0x4beefa(_0x1477c4);});if(!_0x19ca32)yield new Promise(_0x341cf7=>this[_0x3e1fbe(0xe2)][_0x3e1fbe(0x119)](_0x3e1fbe(0xf9),_0x341cf7));_0x1e6119();}));});}['encode'](_0xdde10b){const _0x3dabc0=a8_0x1158be;return Buffer[_0x3dabc0(0x101)](JSON[_0x3dabc0(0x124)](_0xdde10b),'utf-8');}[a8_0x1158be(0xf3)](_0x239895){const _0x1d83f0=a8_0x1158be;return JSON[_0x1d83f0(0x137)](_0x239895[_0x1d83f0(0x11a)](_0x1d83f0(0x104)));}['emit'](_0x49adca,_0x354342,_0x1e9a3f){return __awaiter(this,arguments,void 0x0,function*(_0x391270,_0x2a830e,_0x57e09c,_0x184429=0x5*0x3e8){const _0x13ab9b=a8_0x5e77;if(this[_0x13ab9b(0xe2)]==undefined||this[_0x13ab9b(0x13c)]!=='open')throw new Error(_0x13ab9b(0xef));if(['handshake',_0x13ab9b(0xf2),_0x13ab9b(0x12d),_0x13ab9b(0x149),'*'][_0x13ab9b(0x136)](_0x391270))throw new Error(_0x13ab9b(0xf0));const _0xbc187c=Buffer[_0x13ab9b(0x101)](_0x391270,_0x13ab9b(0x104));if(_0xbc187c[_0x13ab9b(0x140)]>0xff)throw new Error('Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)');const _0x5d9661=_0x57e09c==undefined?0x0:this['requestId'];if(_0x57e09c!=undefined){this[_0x13ab9b(0x14e)]=(this['requestId']+0x1)%0x100||0x1;const _0x251e81=setTimeout(()=>{const _0x2941a2=_0x13ab9b;delete this[_0x2941a2(0x10f)][_0x5d9661],_0x57e09c[_0x2941a2(0x12f)](undefined,new Error(_0x2941a2(0x103)));},_0x184429);this[_0x13ab9b(0x10f)][_0x5d9661]=_0x2f0991=>{const _0x145c2a=_0x13ab9b;clearTimeout(_0x251e81),_0x57e09c[_0x145c2a(0x12f)](undefined,_0x2f0991);};}const _0x375f61=this[_0x13ab9b(0xf4)](_0x2a830e),_0x1af760=Buffer[_0x13ab9b(0x10a)](0x3+_0xbc187c[_0x13ab9b(0x140)]+_0x375f61[_0x13ab9b(0x140)]);_0x1af760['writeUInt8'](0x2,0x0),_0x1af760[_0x13ab9b(0x112)](_0x5d9661,0x1),_0x1af760[_0x13ab9b(0x112)](_0xbc187c[_0x13ab9b(0x140)],0x2),_0xbc187c[_0x13ab9b(0xe5)](_0x1af760,0x3),_0x375f61[_0x13ab9b(0xe5)](_0x1af760,0x3+_0xbc187c[_0x13ab9b(0x140)]),yield this[_0x13ab9b(0x139)](_0x13ab9b(0x116),_0x1af760);});}['on'](_0x4e637f,_0x57d33e){const _0xdce27f=a8_0x1158be;if(this[_0xdce27f(0x10b)][_0x4e637f]==undefined)this[_0xdce27f(0x10b)][_0x4e637f]=[];this[_0xdce27f(0x10b)][_0x4e637f][_0xdce27f(0x105)](_0x57d33e);}[a8_0x1158be(0x13a)](_0x202f8d,_0x3a0499){const _0x359150=a8_0x1158be;if(_0x3a0499==undefined){this[_0x359150(0x10b)][_0x202f8d]=[];return;}const _0x1b92de=this[_0x359150(0x10b)][_0x202f8d],_0x1de1f2=(_0x1b92de!==null&&_0x1b92de!==void 0x0?_0x1b92de:[])[_0x359150(0x12c)](_0x4234b5=>_0x4234b5===_0x3a0499);if(_0x1de1f2===-0x1)throw new Error(_0x359150(0x134)+_0x202f8d+_0x359150(0x131));_0x1b92de[_0x359150(0x115)](_0x1de1f2,0x1);}[a8_0x1158be(0x123)](_0x42e5f0,_0xc82ad1){var _0x2814aa;const _0x4641f2=(_0x2814aa=this['handlers'][_0x42e5f0])!==null&&_0x2814aa!==void 0x0?_0x2814aa:[];for(const _0x12aa15 of _0x4641f2)_0x12aa15(_0xc82ad1);}}