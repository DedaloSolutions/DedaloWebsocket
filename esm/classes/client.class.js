const a8_0x21934e=a8_0x42f5;(function(_0x27a1e2,_0x2cecac){const _0x197951=a8_0x42f5,_0x32e0ea=_0x27a1e2();while(!![]){try{const _0x12a2af=parseInt(_0x197951(0xf5))/0x1+parseInt(_0x197951(0x109))/0x2+-parseInt(_0x197951(0x110))/0x3+parseInt(_0x197951(0xec))/0x4*(parseInt(_0x197951(0x12b))/0x5)+-parseInt(_0x197951(0x124))/0x6*(parseInt(_0x197951(0xf6))/0x7)+parseInt(_0x197951(0x11a))/0x8*(parseInt(_0x197951(0x12f))/0x9)+-parseInt(_0x197951(0x111))/0xa;if(_0x12a2af===_0x2cecac)break;else _0x32e0ea['push'](_0x32e0ea['shift']());}catch(_0x22ffd9){_0x32e0ea['push'](_0x32e0ea['shift']());}}}(a8_0x1966,0xf0ca4));var __awaiter=this&&this[a8_0x21934e(0x10e)]||function(_0x452385,_0x5b2579,_0xbb7d44,_0x520dda){function _0x2d07d5(_0x2e7c45){return _0x2e7c45 instanceof _0xbb7d44?_0x2e7c45:new _0xbb7d44(function(_0x4bb501){_0x4bb501(_0x2e7c45);});}return new(_0xbb7d44||(_0xbb7d44=Promise))(function(_0x48c88c,_0x593a5c){const _0x24e99d=a8_0x42f5;function _0x2a081a(_0x25c69f){const _0x37ed28=a8_0x42f5;try{_0x20803c(_0x520dda[_0x37ed28(0x11e)](_0x25c69f));}catch(_0x598598){_0x593a5c(_0x598598);}}function _0x34d513(_0x244842){try{_0x20803c(_0x520dda['throw'](_0x244842));}catch(_0x334e3c){_0x593a5c(_0x334e3c);}}function _0x20803c(_0x47c3c4){const _0x505610=a8_0x42f5;_0x47c3c4[_0x505610(0xfd)]?_0x48c88c(_0x47c3c4[_0x505610(0x119)]):_0x2d07d5(_0x47c3c4[_0x505610(0x119)])[_0x505610(0xf1)](_0x2a081a,_0x34d513);}_0x20803c((_0x520dda=_0x520dda['apply'](_0x452385,_0x5b2579||[]))[_0x24e99d(0x11e)]());});};function a8_0x1966(){const _0x4c332b=['heartbeatTimeout','connect','closing','4457560txTnii','reconnectTimeout','isArray','completed','221733QnZviU','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','off','findIndex','slice','alloc','message','handshake','pendingRequests','4XzYcJd','addEventListener','parse','encode','handshakeStatus','then','handlers','waiting','stringify','603597lqDPcO','903BDWZpc','concat','OPEN','emit','call','removeEventListener','decode','done','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','CLOSED','pong','raise','close','sent-info','readyState','length','includes','toString','disconnect','2973008XPwtOS','checkHeartbeat','send','socket','error','__awaiter','status','4178259ZPqsOT','5285610uCEEpV','The\x20websocket\x20is\x20already\x20connected','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','from','The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','requestId','Timeout','url','value','424aNlEgS','ping','handshakeData','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22','next','CONNECTING','readUInt8','heartbeatInterval','utf-8','open','64176tvLXsN','push','string','splice'];a8_0x1966=function(){return _0x4c332b;};return a8_0x1966();}function a8_0x42f5(_0x5ae56a,_0x477aca){const _0x196692=a8_0x1966();return a8_0x42f5=function(_0x42f500,_0x1469b6){_0x42f500=_0x42f500-0xe9;let _0x357e45=_0x196692[_0x42f500];return _0x357e45;},a8_0x42f5(_0x5ae56a,_0x477aca);}import a8_0x371bdc from'ws';export default class Client{constructor(){const _0x424656=a8_0x21934e;this[_0x424656(0x121)]=0x5*0x3e8+0x1f4,this[_0x424656(0x12c)]=null,this['handshakeStatus']=_0x424656(0xf3),this[_0x424656(0x116)]=0x1,this[_0x424656(0xeb)]={},this[_0x424656(0xf2)]={},this[_0x424656(0x10a)]=()=>{const _0x39f6b0=_0x424656;if(this[_0x39f6b0(0x128)]!=undefined)clearTimeout(this[_0x39f6b0(0x128)]);this[_0x39f6b0(0x128)]=setTimeout(()=>{const _0x1c7e74=_0x39f6b0;var _0x5b3fef;if(this[_0x1c7e74(0x10c)]!=undefined&&this[_0x1c7e74(0x10c)][_0x1c7e74(0x104)]!==a8_0x371bdc[_0x1c7e74(0xf8)])return;(_0x5b3fef=this[_0x1c7e74(0x10c)])===null||_0x5b3fef===void 0x0?void 0x0:_0x5b3fef[_0x1c7e74(0x102)]();},this[_0x39f6b0(0x121)]);};}[a8_0x21934e(0x129)](){return __awaiter(this,arguments,void 0x0,function*({url:_0x3bad43,allowReject:_0x4f5e40,handshakeData:_0x268ed4,reconnectTimeout:_0x2eb147}={}){return new Promise((_0x16dfdd,_0x59a33c)=>{const _0x18dd38=a8_0x42f5;if(this[_0x18dd38(0x10c)]!=undefined&&this[_0x18dd38(0x10c)][_0x18dd38(0x104)]===a8_0x371bdc['OPEN']){if(_0x4f5e40!==!![])_0x59a33c(new Error(_0x18dd38(0x112)));else _0x16dfdd();}this['socket']!=undefined&&(this[_0x18dd38(0x10c)]['removeAllListeners'](),this[_0x18dd38(0x10c)][_0x18dd38(0x131)]('ping',this[_0x18dd38(0x10a)]),this[_0x18dd38(0xf0)]=_0x18dd38(0xf3));if(this[_0x18dd38(0x118)]==undefined&&_0x3bad43==undefined)_0x59a33c(new Error('No\x20url\x20specified'));this['url']=_0x3bad43||this[_0x18dd38(0x118)];if(_0x2eb147!==undefined)this[_0x18dd38(0x12c)]=_0x2eb147;if(_0x268ed4!==undefined)this['handshakeData']=_0x268ed4;this[_0x18dd38(0x10c)]=new a8_0x371bdc(this[_0x18dd38(0x118)]),this[_0x18dd38(0x10c)][_0x18dd38(0xed)]('open',this[_0x18dd38(0x10a)]),this['socket'][_0x18dd38(0xed)](_0x18dd38(0xe9),this[_0x18dd38(0x10a)]),this[_0x18dd38(0x10c)]['on'](_0x18dd38(0x11b),_0x266faa=>{const _0x2d5b17=_0x18dd38;var _0x4a2a7f;(_0x4a2a7f=this[_0x2d5b17(0x10c)])===null||_0x4a2a7f===void 0x0?void 0x0:_0x4a2a7f[_0x2d5b17(0x100)](_0x266faa),this[_0x2d5b17(0x10a)]();}),this[_0x18dd38(0x10c)][_0x18dd38(0xed)](_0x18dd38(0x102),()=>{const _0x1386b6=_0x18dd38;if(this[_0x1386b6(0x128)]!=undefined)clearTimeout(this[_0x1386b6(0x128)]);});if(this[_0x18dd38(0x12c)]!=undefined)this[_0x18dd38(0x10c)][_0x18dd38(0xed)](_0x18dd38(0x102),()=>{const _0x2ed56e=_0x18dd38;setTimeout(()=>this[_0x2ed56e(0x129)](),this[_0x2ed56e(0x12c)]);});this[_0x18dd38(0x10c)]['addEventListener'](_0x18dd38(0xe9),_0x1235fb=>this['handle'](_0x1235fb)),this['socket'][_0x18dd38(0xed)]('open',_0x1ee200=>this[_0x18dd38(0x101)](_0x18dd38(0x123),_0x1ee200)),this[_0x18dd38(0x10c)][_0x18dd38(0xed)](_0x18dd38(0x10d),_0x24e493=>this[_0x18dd38(0x101)](_0x18dd38(0x10d),_0x24e493)),this[_0x18dd38(0x10c)][_0x18dd38(0xed)](_0x18dd38(0x102),_0x19be6c=>this[_0x18dd38(0x101)](_0x18dd38(0x102),_0x19be6c));const _0x40eba3=()=>{_0x16dfdd(),_0x599e51();},_0x5e0e90=_0x187c30=>{_0x4f5e40?_0x59a33c(_0x187c30):_0x16dfdd(),_0x599e51();};this['socket'][_0x18dd38(0xed)](_0x18dd38(0x123),_0x40eba3,{'once':!![]}),this[_0x18dd38(0x10c)][_0x18dd38(0xed)](_0x18dd38(0x10d),_0x5e0e90,{'once':!![]});const _0x599e51=()=>{const _0x43cd99=_0x18dd38;var _0x35ae7c,_0x1c1c50;(_0x35ae7c=this[_0x43cd99(0x10c)])===null||_0x35ae7c===void 0x0?void 0x0:_0x35ae7c[_0x43cd99(0xfb)](_0x43cd99(0x123),_0x40eba3),(_0x1c1c50=this[_0x43cd99(0x10c)])===null||_0x1c1c50===void 0x0?void 0x0:_0x1c1c50[_0x43cd99(0xfb)](_0x43cd99(0x10d),_0x5e0e90);};});});}[a8_0x21934e(0x108)](_0xe0c017,_0xa8fc1d){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x279e4b,_0x34b47b)=>{const _0x986200=a8_0x42f5;if(this[_0x986200(0x10c)]==undefined||this[_0x986200(0x10c)][_0x986200(0x104)]===a8_0x371bdc['CLOSING']||this[_0x986200(0x10c)][_0x986200(0x104)]===a8_0x371bdc[_0x986200(0xff)])return _0x34b47b(new Error(_0x986200(0x115)));this[_0x986200(0x10c)]['close'](_0xe0c017,_0xa8fc1d);const _0x2483e6=()=>{_0x279e4b(),_0x53aec5();},_0x5d1b6e=_0x378575=>{_0x34b47b(_0x378575),_0x53aec5();};this[_0x986200(0x10c)]['addEventListener']('close',_0x2483e6,{'once':!![]}),this['socket'][_0x986200(0xed)](_0x986200(0x10d),_0x5d1b6e,{'once':!![]});const _0x53aec5=()=>{const _0x48c5ff=_0x986200;var _0x320c28,_0x1708fb;(_0x320c28=this[_0x48c5ff(0x10c)])===null||_0x320c28===void 0x0?void 0x0:_0x320c28[_0x48c5ff(0xfb)]('close',_0x2483e6),(_0x1708fb=this[_0x48c5ff(0x10c)])===null||_0x1708fb===void 0x0?void 0x0:_0x1708fb[_0x48c5ff(0xfb)](_0x48c5ff(0x10d),_0x5d1b6e);};});});}get[a8_0x21934e(0x10f)](){const _0x341905=a8_0x21934e;var _0x32e1e6;switch((_0x32e1e6=this[_0x341905(0x10c)])===null||_0x32e1e6===void 0x0?void 0x0:_0x32e1e6[_0x341905(0x104)]){case a8_0x371bdc[_0x341905(0x11f)]:return'connecting';case a8_0x371bdc[_0x341905(0xf8)]:return this['handshakeStatus']===_0x341905(0x12e)?'open':'handshake';case a8_0x371bdc['CLOSING']:return _0x341905(0x12a);case a8_0x371bdc[_0x341905(0xff)]:default:return'closed';}}[a8_0x21934e(0xf9)](_0x2f5e88,_0x12a2eb,_0x226f1e,_0xe317=0x5*0x3e8){const _0xe358c=a8_0x21934e;if(this['socket']==undefined||this[_0xe358c(0x10f)]!==_0xe358c(0x123))throw new Error('The\x20websocket\x20is\x20not\x20connected');if([_0xe358c(0xea),_0xe358c(0x123),_0xe358c(0x10d),_0xe358c(0x102),'*'][_0xe358c(0x106)](_0x2f5e88))throw new Error(_0xe358c(0x11d));const _0x470ff6=_0x226f1e==undefined?0x0:this[_0xe358c(0x116)],_0x47aaca=Buffer[_0xe358c(0x114)](_0x2f5e88,_0xe358c(0x122));if(_0x47aaca[_0xe358c(0x105)]>0xff)throw new Error(_0xe358c(0x113));if(_0x226f1e!=undefined){this[_0xe358c(0x116)]=(this[_0xe358c(0x116)]+0x1)%0x80||0x1;const _0x34a9a9=setTimeout(()=>{const _0x1f2586=_0xe358c;delete this['pendingRequests'][_0x470ff6],_0x226f1e(new Error(_0x1f2586(0x117)));},_0xe317);this['pendingRequests'][_0x470ff6]=_0x1ec0b2=>{if(!(_0x1ec0b2 instanceof Error))clearTimeout(_0x34a9a9);_0x226f1e(_0x1ec0b2);};}const _0x1ad912=Buffer[_0xe358c(0xf7)]([Buffer[_0xe358c(0x114)]([_0x470ff6|0x80,_0x47aaca[_0xe358c(0x105)]]),_0x47aaca,this[_0xe358c(0xef)](_0x12a2eb)]);this['socket'][_0xe358c(0x10b)](_0x1ad912);}['handle']({data:_0xe09f24}){const _0x1d7089=a8_0x21934e;var _0xac9c79,_0xceab20,_0x129263;let _0x287cfe=Buffer[_0x1d7089(0x134)](0x0);if(_0xe09f24 instanceof Buffer)_0x287cfe=_0xe09f24;if(typeof _0xe09f24===_0x1d7089(0x126))_0x287cfe=Buffer[_0x1d7089(0x114)](_0xe09f24,_0x1d7089(0x122));if(_0xe09f24 instanceof ArrayBuffer)_0x287cfe=Buffer[_0x1d7089(0x114)](_0xe09f24);if(Array[_0x1d7089(0x12d)](_0xe09f24))_0x287cfe=Buffer[_0x1d7089(0xf7)](_0xe09f24);if(this[_0x1d7089(0xf0)]==='waiting'){const {pingInterval:_0x44520c}=this['decode'](_0x287cfe);this[_0x1d7089(0x121)]=_0x44520c+0x1f4;const _0x39fa31=this['encode'](this[_0x1d7089(0x11c)]===undefined?null:this[_0x1d7089(0x11c)]);(_0xac9c79=this[_0x1d7089(0x10c)])===null||_0xac9c79===void 0x0?void 0x0:_0xac9c79['send'](_0x39fa31),this[_0x1d7089(0xf0)]=_0x1d7089(0x103);return;}else{if(this[_0x1d7089(0xf0)]==='sent-info'){this[_0x1d7089(0xf0)]='completed';return;}}const _0x3312cd=_0x287cfe[_0x1d7089(0x120)](0x0),_0x55059d=_0x3312cd&0x7f,_0x4f949b=(_0x3312cd&0x80)!==0x0;if(_0x4f949b){const _0xa7a607=_0x287cfe[_0x1d7089(0x120)](0x1),_0x157620=_0x287cfe[_0x1d7089(0x133)](0x2,0x2+_0xa7a607)['toString'](_0x1d7089(0x122));if([_0x1d7089(0xea),_0x1d7089(0x123),_0x1d7089(0x10d),_0x1d7089(0x102),'*'][_0x1d7089(0x106)](_0x157620))return;const _0x3179a7=this['decode'](_0x287cfe[_0x1d7089(0x133)](0x2+_0xa7a607)),_0xc7e20b=(_0xceab20=this[_0x1d7089(0xf2)][_0x157620])!==null&&_0xceab20!==void 0x0?_0xceab20:[];let _0x3d87f0=![];const _0x37cada=_0x251181=>{const _0x327d73=_0x1d7089;var _0x2da7cb;if(_0x55059d===0x0&&_0x3d87f0)return;if(_0x251181===undefined)return;const _0x32671=Buffer[_0x327d73(0xf7)]([Buffer[_0x327d73(0x114)]([_0x55059d&0x7f]),this[_0x327d73(0xef)](_0x251181)]);(_0x2da7cb=this[_0x327d73(0x10c)])===null||_0x2da7cb===void 0x0?void 0x0:_0x2da7cb[_0x327d73(0x10b)](_0x32671),_0x3d87f0=!![];};for(const _0x146ef7 of _0xc7e20b)_0x146ef7[_0x1d7089(0xfa)](undefined,_0x3179a7,_0x37cada);const _0x380152=(_0x129263=this[_0x1d7089(0xf2)]['*'])!==null&&_0x129263!==void 0x0?_0x129263:[];for(const _0x57c51e of _0x380152)_0x57c51e[_0x1d7089(0xfa)](undefined,_0x157620,_0x3179a7);if(!_0x3d87f0&&_0x55059d!==0x0){}return;}const _0x3f6bdf=this[_0x1d7089(0xeb)][_0x55059d];if(_0x3f6bdf==undefined)return;const _0x12b9e1=this['decode'](_0x287cfe[_0x1d7089(0x133)](0x1));_0x3f6bdf(_0x12b9e1);}[a8_0x21934e(0xef)](_0x3d4cbf){const _0x227759=a8_0x21934e;return Buffer[_0x227759(0x114)](JSON[_0x227759(0xf4)](_0x3d4cbf),_0x227759(0x122));}[a8_0x21934e(0xfc)](_0x268a5c){const _0x1a17c1=a8_0x21934e;return JSON[_0x1a17c1(0xee)](_0x268a5c[_0x1a17c1(0x107)](_0x1a17c1(0x122)));}['on'](_0x1e3b94,_0x5a0fec){const _0x49ee5b=a8_0x21934e;if(this[_0x49ee5b(0xf2)][_0x1e3b94]==undefined)this[_0x49ee5b(0xf2)][_0x1e3b94]=[];this[_0x49ee5b(0xf2)][_0x1e3b94][_0x49ee5b(0x125)](_0x5a0fec);}[a8_0x21934e(0x131)](_0x3ba566,_0x190c3f){const _0x29b7fa=a8_0x21934e;if(_0x190c3f==undefined){delete this['handlers'][_0x3ba566];return;}const _0x290122=this['handlers'][_0x3ba566],_0x456f4b=(_0x290122!==null&&_0x290122!==void 0x0?_0x290122:[])[_0x29b7fa(0x132)](_0x5739ca=>_0x5739ca===_0x190c3f);if(_0x456f4b===-0x1)throw new Error(_0x29b7fa(0x130)+_0x3ba566+_0x29b7fa(0xfe));_0x290122[_0x29b7fa(0x127)](_0x456f4b,0x1);}[a8_0x21934e(0x101)](_0x2ca547,_0x2d72e7){const _0x493665=a8_0x21934e;var _0xea53bd,_0x5dd92e;const _0x5922c4=(_0xea53bd=this[_0x493665(0xf2)][_0x2ca547])!==null&&_0xea53bd!==void 0x0?_0xea53bd:[];for(const _0x50ecc5 of _0x5922c4)_0x50ecc5(_0x2d72e7);const _0x1cc2e4=(_0x5dd92e=this['handlers']['*'])!==null&&_0x5dd92e!==void 0x0?_0x5dd92e:[];for(const _0x161ded of _0x1cc2e4)_0x161ded(_0x2ca547,_0x2d72e7);}}