function a7_0x2bf1(){const _0x8add5e=['Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','pendingRequests','close','splice','encode','handshakeStatus','findIndex','completed','The\x20websocket\x20is\x20already\x20connected','open','CLOSED','heartbeatInterval','length','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','__awaiter','handle','connecting','276954pzRnIG','push','value','requestId','from','12776190jxmRLs','addEventListener','The\x20websocket\x20is\x20not\x20connected','off','readyState','removeEventListener','utf-8','message','20760DYoqrg','url','emit','stringify','status','connect','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22','error','parse','handshake','readUInt8','then','isArray','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','send','waiting','call','165ubZPTn','apply','handshakeData','sent-info','next','CLOSING','handlers','381855HjOgwG','closing','decode','throw','1257314HEVBiQ','string','disconnect','8wVOZMt','reconnectTimeout','socket','7296380xTxirs','OPEN','ping','toString','includes','slice','No\x20url\x20specified','pong','34528EykaIe','raise','alloc','checkHeartbeat','heartbeatTimeout','2421ubDPfm','concat'];a7_0x2bf1=function(){return _0x8add5e;};return a7_0x2bf1();}const a7_0x23484b=a7_0x2b99;(function(_0x572fc0,_0x317237){const _0x4a112d=a7_0x2b99,_0xded6b2=_0x572fc0();while(!![]){try{const _0x361287=parseInt(_0x4a112d(0x1ff))/0x1+-parseInt(_0x4a112d(0x203))/0x2+parseInt(_0x4a112d(0x1da))/0x3*(-parseInt(_0x4a112d(0x206))/0x4)+parseInt(_0x4a112d(0x1f8))/0x5*(parseInt(_0x4a112d(0x1e7))/0x6)+parseInt(_0x4a112d(0x209))/0x7+parseInt(_0x4a112d(0x211))/0x8*(-parseInt(_0x4a112d(0x216))/0x9)+parseInt(_0x4a112d(0x1df))/0xa;if(_0x361287===_0x317237)break;else _0xded6b2['push'](_0xded6b2['shift']());}catch(_0xc42682){_0xded6b2['push'](_0xded6b2['shift']());}}}(a7_0x2bf1,0xcd7e1));var __awaiter=this&&this[a7_0x23484b(0x1d7)]||function(_0x19d4aa,_0x22fca6,_0x2775d0,_0x2c036c){function _0x2f6b98(_0x237f5f){return _0x237f5f instanceof _0x2775d0?_0x237f5f:new _0x2775d0(function(_0x44776b){_0x44776b(_0x237f5f);});}return new(_0x2775d0||(_0x2775d0=Promise))(function(_0x135dd7,_0x332a2f){const _0x3db8b2=a7_0x2b99;function _0x269c3d(_0x3b009d){try{_0x12e345(_0x2c036c['next'](_0x3b009d));}catch(_0x56b5c6){_0x332a2f(_0x56b5c6);}}function _0xd80627(_0x1dd45d){const _0x17c89b=a7_0x2b99;try{_0x12e345(_0x2c036c[_0x17c89b(0x202)](_0x1dd45d));}catch(_0x11fa01){_0x332a2f(_0x11fa01);}}function _0x12e345(_0x13e400){const _0x122a6c=a7_0x2b99;_0x13e400['done']?_0x135dd7(_0x13e400['value']):_0x2f6b98(_0x13e400[_0x122a6c(0x1dc)])[_0x122a6c(0x1f2)](_0x269c3d,_0xd80627);}_0x12e345((_0x2c036c=_0x2c036c[_0x3db8b2(0x1f9)](_0x19d4aa,_0x22fca6||[]))[_0x3db8b2(0x1fc)]());});};function a7_0x2b99(_0x470b49,_0x38bf6d){const _0x2bf1f0=a7_0x2bf1();return a7_0x2b99=function(_0x2b999e,_0x476706){_0x2b999e=_0x2b999e-0x1d2;let _0x5da0e1=_0x2bf1f0[_0x2b999e];return _0x5da0e1;},a7_0x2b99(_0x470b49,_0x38bf6d);}import a7_0x3e236d from'ws';export default class Client{constructor(){const _0x2ccf0c=a7_0x23484b;this[_0x2ccf0c(0x1d4)]=0x5*0x3e8+0x1f4,this[_0x2ccf0c(0x207)]=null,this[_0x2ccf0c(0x21e)]=_0x2ccf0c(0x1f6),this[_0x2ccf0c(0x1dd)]=0x1,this[_0x2ccf0c(0x21a)]={},this[_0x2ccf0c(0x1fe)]={},this['checkHeartbeat']=()=>{const _0x4a30b1=_0x2ccf0c;if(this[_0x4a30b1(0x215)]!=undefined)clearTimeout(this['heartbeatTimeout']);this[_0x4a30b1(0x215)]=setTimeout(()=>{const _0x46b0d7=_0x4a30b1;var _0x341c95;if(this[_0x46b0d7(0x208)]!=undefined&&this[_0x46b0d7(0x208)]['readyState']!==a7_0x3e236d['OPEN'])return;(_0x341c95=this[_0x46b0d7(0x208)])===null||_0x341c95===void 0x0?void 0x0:_0x341c95[_0x46b0d7(0x21b)]();},this[_0x4a30b1(0x1d4)]);};}[a7_0x23484b(0x1ec)](){return __awaiter(this,arguments,void 0x0,function*({url:_0x34deb8,allowReject:_0x2a1605,handshakeData:_0x2d4f09,reconnectTimeout:_0x35fc47}={}){return new Promise((_0x2ae042,_0x1a8c6f)=>{const _0x7a1f9f=a7_0x2b99;if(this['socket']!=undefined&&this['socket'][_0x7a1f9f(0x1e3)]===a7_0x3e236d['OPEN']){if(_0x2a1605!==!![])_0x1a8c6f(new Error(_0x7a1f9f(0x221)));else _0x2ae042();}this['socket']!=undefined&&(this[_0x7a1f9f(0x208)]['removeAllListeners'](),this[_0x7a1f9f(0x208)][_0x7a1f9f(0x1e2)](_0x7a1f9f(0x20b),this[_0x7a1f9f(0x214)]),this['handshakeStatus']=_0x7a1f9f(0x1f6));if(this[_0x7a1f9f(0x1e8)]==undefined&&_0x34deb8==undefined)_0x1a8c6f(new Error(_0x7a1f9f(0x20f)));this[_0x7a1f9f(0x1e8)]=_0x34deb8||this[_0x7a1f9f(0x1e8)];if(_0x35fc47!==undefined)this['reconnectTimeout']=_0x35fc47;if(_0x2d4f09!==undefined)this[_0x7a1f9f(0x1fa)]=_0x2d4f09;this[_0x7a1f9f(0x208)]=new a7_0x3e236d(this['url']),this[_0x7a1f9f(0x208)][_0x7a1f9f(0x1e0)](_0x7a1f9f(0x1d2),this['checkHeartbeat']),this[_0x7a1f9f(0x208)][_0x7a1f9f(0x1e0)]('message',this[_0x7a1f9f(0x214)]),this['socket']['on'](_0x7a1f9f(0x20b),_0xd2c099=>{const _0x58c35d=_0x7a1f9f;var _0x57e476;(_0x57e476=this[_0x58c35d(0x208)])===null||_0x57e476===void 0x0?void 0x0:_0x57e476[_0x58c35d(0x210)](_0xd2c099),this['checkHeartbeat']();}),this[_0x7a1f9f(0x208)][_0x7a1f9f(0x1e0)](_0x7a1f9f(0x21b),()=>{const _0x51e764=_0x7a1f9f;if(this[_0x51e764(0x215)]!=undefined)clearTimeout(this[_0x51e764(0x215)]);});if(this[_0x7a1f9f(0x207)]!=undefined)this[_0x7a1f9f(0x208)]['addEventListener'](_0x7a1f9f(0x21b),()=>{const _0x1faf87=_0x7a1f9f;setTimeout(()=>this[_0x1faf87(0x1ec)](),this['reconnectTimeout']);});this[_0x7a1f9f(0x208)][_0x7a1f9f(0x1e0)](_0x7a1f9f(0x1e6),_0x528b16=>this['handle'](_0x528b16)),this[_0x7a1f9f(0x208)]['addEventListener'](_0x7a1f9f(0x1d2),_0xb93b65=>this[_0x7a1f9f(0x212)](_0x7a1f9f(0x1d2),_0xb93b65)),this[_0x7a1f9f(0x208)][_0x7a1f9f(0x1e0)]('error',_0x45b54b=>this[_0x7a1f9f(0x212)]('error',_0x45b54b)),this[_0x7a1f9f(0x208)][_0x7a1f9f(0x1e0)](_0x7a1f9f(0x21b),_0x7397a9=>this[_0x7a1f9f(0x212)](_0x7a1f9f(0x21b),_0x7397a9));const _0x59352a=()=>{_0x2ae042(),_0x514fd5();},_0x542aa0=_0x2066ce=>{_0x2a1605?_0x1a8c6f(_0x2066ce):_0x2ae042(),_0x514fd5();};this[_0x7a1f9f(0x208)]['addEventListener'](_0x7a1f9f(0x1d2),_0x59352a,{'once':!![]}),this[_0x7a1f9f(0x208)][_0x7a1f9f(0x1e0)](_0x7a1f9f(0x1ee),_0x542aa0,{'once':!![]});const _0x514fd5=()=>{const _0x3a60af=_0x7a1f9f;var _0x360a9e,_0x20bff0;(_0x360a9e=this[_0x3a60af(0x208)])===null||_0x360a9e===void 0x0?void 0x0:_0x360a9e[_0x3a60af(0x1e4)]('open',_0x59352a),(_0x20bff0=this['socket'])===null||_0x20bff0===void 0x0?void 0x0:_0x20bff0[_0x3a60af(0x1e4)](_0x3a60af(0x1ee),_0x542aa0);};});});}[a7_0x23484b(0x205)](_0xaa7436,_0x4b7928){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x4d598c,_0x1bcfee)=>{const _0x373fa8=a7_0x2b99;if(this['socket']==undefined||this['socket'][_0x373fa8(0x1e3)]===a7_0x3e236d[_0x373fa8(0x1fd)]||this[_0x373fa8(0x208)]['readyState']===a7_0x3e236d[_0x373fa8(0x1d3)])return _0x1bcfee(new Error(_0x373fa8(0x219)));this[_0x373fa8(0x208)][_0x373fa8(0x21b)](_0xaa7436,_0x4b7928);const _0x23da3e=()=>{_0x4d598c(),_0x4a4b83();},_0x2c9db2=_0x5c7b62=>{_0x1bcfee(_0x5c7b62),_0x4a4b83();};this[_0x373fa8(0x208)][_0x373fa8(0x1e0)](_0x373fa8(0x21b),_0x23da3e,{'once':!![]}),this[_0x373fa8(0x208)][_0x373fa8(0x1e0)](_0x373fa8(0x1ee),_0x2c9db2,{'once':!![]});const _0x4a4b83=()=>{const _0x231411=_0x373fa8;var _0x39ccc2,_0x4daaa4;(_0x39ccc2=this[_0x231411(0x208)])===null||_0x39ccc2===void 0x0?void 0x0:_0x39ccc2[_0x231411(0x1e4)](_0x231411(0x21b),_0x23da3e),(_0x4daaa4=this['socket'])===null||_0x4daaa4===void 0x0?void 0x0:_0x4daaa4[_0x231411(0x1e4)](_0x231411(0x1ee),_0x2c9db2);};});});}get[a7_0x23484b(0x1eb)](){const _0x49bf6f=a7_0x23484b;var _0x29e8d7;switch((_0x29e8d7=this[_0x49bf6f(0x208)])===null||_0x29e8d7===void 0x0?void 0x0:_0x29e8d7[_0x49bf6f(0x1e3)]){case a7_0x3e236d['CONNECTING']:return _0x49bf6f(0x1d9);case a7_0x3e236d[_0x49bf6f(0x20a)]:return this[_0x49bf6f(0x21e)]===_0x49bf6f(0x220)?'open':_0x49bf6f(0x1f0);case a7_0x3e236d['CLOSING']:return _0x49bf6f(0x200);case a7_0x3e236d[_0x49bf6f(0x1d3)]:default:return'closed';}}[a7_0x23484b(0x1e9)](_0x27d797,_0x182ad8,_0x207f72,_0x2657f4=0x5*0x3e8){const _0xe6d86=a7_0x23484b;if(this['socket']==undefined||this[_0xe6d86(0x1eb)]!==_0xe6d86(0x1d2))throw new Error(_0xe6d86(0x1e1));if([_0xe6d86(0x1f0),'open',_0xe6d86(0x1ee),_0xe6d86(0x21b),'*'][_0xe6d86(0x20d)](_0x27d797))throw new Error(_0xe6d86(0x1ed));const _0xa11824=_0x207f72==undefined?0x0:this[_0xe6d86(0x1dd)],_0x2f4f2f=Buffer[_0xe6d86(0x1de)](_0x27d797,_0xe6d86(0x1e5));if(_0x2f4f2f[_0xe6d86(0x1d5)]>0xff)throw new Error(_0xe6d86(0x1d6));if(_0x207f72!=undefined){this[_0xe6d86(0x1dd)]=(this[_0xe6d86(0x1dd)]+0x1)%0x80||0x1;const _0x169c66=setTimeout(()=>{const _0x373ebe=_0xe6d86;delete this[_0x373ebe(0x21a)][_0xa11824],_0x207f72(new Error('Timeout'));},_0x2657f4);this[_0xe6d86(0x21a)][_0xa11824]=_0x3a564a=>{if(!(_0x3a564a instanceof Error))clearTimeout(_0x169c66);_0x207f72(_0x3a564a);};}const _0x2228f7=Buffer['concat']([Buffer[_0xe6d86(0x1de)]([_0xa11824|0x80,_0x2f4f2f['length']]),_0x2f4f2f,this['encode'](_0x182ad8)]);this[_0xe6d86(0x208)][_0xe6d86(0x1f5)](_0x2228f7);}[a7_0x23484b(0x1d8)]({data:_0x2d5a48}){const _0xdfa755=a7_0x23484b;var _0x561643,_0x136e24,_0x2a27b8;let _0x5492e1=Buffer[_0xdfa755(0x213)](0x0);if(_0x2d5a48 instanceof Buffer)_0x5492e1=_0x2d5a48;if(typeof _0x2d5a48===_0xdfa755(0x204))_0x5492e1=Buffer['from'](_0x2d5a48,'utf-8');if(_0x2d5a48 instanceof ArrayBuffer)_0x5492e1=Buffer[_0xdfa755(0x1de)](_0x2d5a48);if(Array[_0xdfa755(0x1f3)](_0x2d5a48))_0x5492e1=Buffer['concat'](_0x2d5a48);if(this[_0xdfa755(0x21e)]==='waiting'){const {pingInterval:_0x1701b2}=this[_0xdfa755(0x201)](_0x5492e1);this['heartbeatInterval']=_0x1701b2+0x1f4;const _0xb61e24=this[_0xdfa755(0x21d)](this[_0xdfa755(0x1fa)]===undefined?null:this[_0xdfa755(0x1fa)]);(_0x561643=this['socket'])===null||_0x561643===void 0x0?void 0x0:_0x561643[_0xdfa755(0x1f5)](_0xb61e24),this[_0xdfa755(0x21e)]=_0xdfa755(0x1fb);return;}else{if(this[_0xdfa755(0x21e)]==='sent-info'){this['handshakeStatus']=_0xdfa755(0x220);return;}}const _0x3140a2=_0x5492e1['readUInt8'](0x0),_0xe26f95=_0x3140a2&0x7f,_0x4379b1=(_0x3140a2&0x80)!==0x0;if(_0x4379b1){const _0x503f07=_0x5492e1[_0xdfa755(0x1f1)](0x1),_0x2efaf7=_0x5492e1['slice'](0x2,0x2+_0x503f07)[_0xdfa755(0x20c)](_0xdfa755(0x1e5));if(['handshake','open',_0xdfa755(0x1ee),'close','*'][_0xdfa755(0x20d)](_0x2efaf7))return;const _0x4b2729=this['decode'](_0x5492e1[_0xdfa755(0x20e)](0x2+_0x503f07)),_0x2ddcda=(_0x136e24=this[_0xdfa755(0x1fe)][_0x2efaf7])!==null&&_0x136e24!==void 0x0?_0x136e24:[];let _0x77a37=![];const _0x4360e4=_0x2170b0=>{const _0xf3db9f=_0xdfa755;var _0x3526eb;if(_0xe26f95===0x0&&_0x77a37)return;if(_0x2170b0===undefined)return;const _0x1839ef=Buffer[_0xf3db9f(0x217)]([Buffer['from']([_0xe26f95&0x7f]),this[_0xf3db9f(0x21d)](_0x2170b0)]);(_0x3526eb=this[_0xf3db9f(0x208)])===null||_0x3526eb===void 0x0?void 0x0:_0x3526eb[_0xf3db9f(0x1f5)](_0x1839ef),_0x77a37=!![];};for(const _0x5edc54 of _0x2ddcda)_0x5edc54[_0xdfa755(0x1f7)](undefined,_0x4b2729,_0x4360e4);const _0x7fccd8=(_0x2a27b8=this[_0xdfa755(0x1fe)]['*'])!==null&&_0x2a27b8!==void 0x0?_0x2a27b8:[];for(const _0x22b722 of _0x7fccd8)_0x22b722[_0xdfa755(0x1f7)](undefined,_0x2efaf7,_0x4b2729);if(!_0x77a37&&_0xe26f95!==0x0){}return;}const _0x17c9cc=this[_0xdfa755(0x21a)][_0xe26f95];if(_0x17c9cc==undefined)return;const _0x3db30a=this['decode'](_0x5492e1[_0xdfa755(0x20e)](0x1));_0x17c9cc(_0x3db30a);}[a7_0x23484b(0x21d)](_0x208823){const _0x43e7bf=a7_0x23484b;return Buffer[_0x43e7bf(0x1de)](JSON[_0x43e7bf(0x1ea)](_0x208823),_0x43e7bf(0x1e5));}[a7_0x23484b(0x201)](_0x50362c){const _0xf58ef0=a7_0x23484b;return JSON[_0xf58ef0(0x1ef)](_0x50362c['toString'](_0xf58ef0(0x1e5)));}['on'](_0x403f6e,_0x44455a){const _0x33b123=a7_0x23484b;if(this[_0x33b123(0x1fe)][_0x403f6e]==undefined)this[_0x33b123(0x1fe)][_0x403f6e]=[];this['handlers'][_0x403f6e][_0x33b123(0x1db)](_0x44455a);}['off'](_0x74c117,_0x29aa31){const _0x62654=a7_0x23484b;if(_0x29aa31==undefined){delete this['handlers'][_0x74c117];return;}const _0xcea390=this[_0x62654(0x1fe)][_0x74c117],_0x4b3629=(_0xcea390!==null&&_0xcea390!==void 0x0?_0xcea390:[])[_0x62654(0x21f)](_0x3cd18b=>_0x3cd18b===_0x29aa31);if(_0x4b3629===-0x1)throw new Error(_0x62654(0x218)+_0x74c117+_0x62654(0x1f4));_0xcea390[_0x62654(0x21c)](_0x4b3629,0x1);}[a7_0x23484b(0x212)](_0x40004c,_0x507b24){const _0x37debd=a7_0x23484b;var _0x350b19,_0x36cd21;const _0x1771ee=(_0x350b19=this[_0x37debd(0x1fe)][_0x40004c])!==null&&_0x350b19!==void 0x0?_0x350b19:[];for(const _0x4dcdd6 of _0x1771ee)_0x4dcdd6(_0x507b24);const _0x3fdd47=(_0x36cd21=this['handlers']['*'])!==null&&_0x36cd21!==void 0x0?_0x36cd21:[];for(const _0x564414 of _0x3fdd47)_0x564414(_0x40004c,_0x507b24);}}