const a7_0xa750b6=a7_0x21ad;function a7_0x21ad(_0x4069c7,_0x577ff6){const _0x2466b6=a7_0x2466();return a7_0x21ad=function(_0x21adb6,_0x178e98){_0x21adb6=_0x21adb6-0xc6;let _0x51bd0b=_0x2466b6[_0x21adb6];return _0x51bd0b;},a7_0x21ad(_0x4069c7,_0x577ff6);}function a7_0x2466(){const _0x5d84cd=['url','open','OPEN','connect','emit','reconnectTimeout','raise','findIndex','toString','stringify','sent-info','addEventListener','pong','No\x20url\x20specified','utf-8','throw','CLOSING','handlers','handshakeData','4EZIjDG','slice','splice','2208504nGZEEo','concat','handle','isArray','readUInt8','decode','25136630AwANlH','The\x20websocket\x20is\x20already\x20connected','alloc','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','length','9PEtrup','socket','error','heartbeatTimeout','checkHeartbeat','handshakeStatus','1976865TIROOK','removeEventListener','value','91835UOjKKq','from','ping','pendingRequests','CLOSED','next','closed','send','handshake','readyState','3516195zqSyex','waiting','7VVnJBX','heartbeatInterval','then','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error\x20or\x20close','requestId','encode','5622424qpwvKi','off','includes','2831538BdQPEZ','The\x20websocket\x20is\x20not\x20connected','close','status','completed'];a7_0x2466=function(){return _0x5d84cd;};return a7_0x2466();}(function(_0x3a9193,_0x1e0464){const _0x6e1a2c=a7_0x21ad,_0x343fda=_0x3a9193();while(!![]){try{const _0x59262f=-parseInt(_0x6e1a2c(0x101))/0x1*(parseInt(_0x6e1a2c(0xea))/0x2)+parseInt(_0x6e1a2c(0xc6))/0x3+parseInt(_0x6e1a2c(0xed))/0x4+parseInt(_0x6e1a2c(0xfe))/0x5+parseInt(_0x6e1a2c(0xd2))/0x6*(parseInt(_0x6e1a2c(0xc8))/0x7)+-parseInt(_0x6e1a2c(0xcf))/0x8*(-parseInt(_0x6e1a2c(0xf8))/0x9)+-parseInt(_0x6e1a2c(0xf3))/0xa;if(_0x59262f===_0x1e0464)break;else _0x343fda['push'](_0x343fda['shift']());}catch(_0xdf2f41){_0x343fda['push'](_0x343fda['shift']());}}}(a7_0x2466,0x91bdd));var __awaiter=this&&this['__awaiter']||function(_0x36cf9a,_0xca79df,_0x2212cf,_0x1aa4c5){function _0x333c4b(_0x17816a){return _0x17816a instanceof _0x2212cf?_0x17816a:new _0x2212cf(function(_0xe49204){_0xe49204(_0x17816a);});}return new(_0x2212cf||(_0x2212cf=Promise))(function(_0x2c9b85,_0x5c6976){const _0x3aa74b=a7_0x21ad;function _0x2a9b35(_0x33b04f){const _0x9bf64b=a7_0x21ad;try{_0x15520e(_0x1aa4c5[_0x9bf64b(0x106)](_0x33b04f));}catch(_0x2b93eb){_0x5c6976(_0x2b93eb);}}function _0x3d6083(_0x34dc9b){const _0x34b622=a7_0x21ad;try{_0x15520e(_0x1aa4c5[_0x34b622(0xe6)](_0x34dc9b));}catch(_0x4aeef1){_0x5c6976(_0x4aeef1);}}function _0x15520e(_0x33482c){const _0x3ffd0c=a7_0x21ad;_0x33482c['done']?_0x2c9b85(_0x33482c[_0x3ffd0c(0x100)]):_0x333c4b(_0x33482c['value'])[_0x3ffd0c(0xca)](_0x2a9b35,_0x3d6083);}_0x15520e((_0x1aa4c5=_0x1aa4c5['apply'](_0x36cf9a,_0xca79df||[]))[_0x3aa74b(0x106)]());});};import a7_0x1acb16 from'ws';export default class Client{constructor(){const _0x4d9be0=a7_0x21ad;this['heartbeatInterval']=0x5*0x3e8+0x1f4,this[_0x4d9be0(0xdc)]=null,this['handshakeStatus']=_0x4d9be0(0xc7),this[_0x4d9be0(0xcd)]=0x1,this[_0x4d9be0(0x104)]={},this[_0x4d9be0(0xe8)]={},this['checkHeartbeat']=()=>{const _0x564d98=_0x4d9be0;if(this[_0x564d98(0xfb)]!=undefined)clearTimeout(this[_0x564d98(0xfb)]);this[_0x564d98(0xfb)]=setTimeout(()=>{const _0x11bd4b=_0x564d98;var _0x3084bf;if(this[_0x11bd4b(0xf9)]!=undefined&&this[_0x11bd4b(0xf9)][_0x11bd4b(0x10a)]!==a7_0x1acb16[_0x11bd4b(0xd9)])return;(_0x3084bf=this[_0x11bd4b(0xf9)])===null||_0x3084bf===void 0x0?void 0x0:_0x3084bf[_0x11bd4b(0xd4)]();},this[_0x564d98(0xc9)]);};}[a7_0xa750b6(0xda)](){return __awaiter(this,arguments,void 0x0,function*({url:_0xe6772c,allowReject:_0x5e4c15,handshakeData:_0x168e7a,reconnectTimeout:_0x57314a}={}){return new Promise((_0x2be61d,_0x47041b)=>{const _0x45c5b7=a7_0x21ad;if(this[_0x45c5b7(0xf9)]!=undefined&&this[_0x45c5b7(0xf9)][_0x45c5b7(0x10a)]===a7_0x1acb16[_0x45c5b7(0xd9)]){if(_0x5e4c15!==!![])_0x47041b(new Error(_0x45c5b7(0xf4)));else _0x2be61d();}this[_0x45c5b7(0xf9)]!=undefined&&(this[_0x45c5b7(0xf9)]['removeAllListeners'](),this[_0x45c5b7(0xf9)]['off'](_0x45c5b7(0x103),this[_0x45c5b7(0xfc)]),this['handshakeStatus']=_0x45c5b7(0xc7));if(this[_0x45c5b7(0xd7)]==undefined&&_0xe6772c==undefined)_0x47041b(new Error(_0x45c5b7(0xe4)));this[_0x45c5b7(0xd7)]=_0xe6772c||this[_0x45c5b7(0xd7)];if(_0x57314a!==undefined)this[_0x45c5b7(0xdc)]=_0x57314a;if(_0x168e7a!==undefined)this[_0x45c5b7(0xe9)]=_0x168e7a;this[_0x45c5b7(0xf9)]=new a7_0x1acb16(this[_0x45c5b7(0xd7)]),this[_0x45c5b7(0xf9)][_0x45c5b7(0xe2)](_0x45c5b7(0xd8),this[_0x45c5b7(0xfc)]),this[_0x45c5b7(0xf9)][_0x45c5b7(0xe2)]('message',this[_0x45c5b7(0xfc)]),this[_0x45c5b7(0xf9)]['on'](_0x45c5b7(0x103),_0x2ba4a9=>{const _0x151a23=_0x45c5b7;var _0x399005;(_0x399005=this[_0x151a23(0xf9)])===null||_0x399005===void 0x0?void 0x0:_0x399005[_0x151a23(0xe3)](_0x2ba4a9),this[_0x151a23(0xfc)]();}),this[_0x45c5b7(0xf9)]['addEventListener'](_0x45c5b7(0xd4),()=>{const _0x549e55=_0x45c5b7;if(this[_0x549e55(0xfb)]!=undefined)clearTimeout(this[_0x549e55(0xfb)]);});if(this[_0x45c5b7(0xdc)]!=undefined)this[_0x45c5b7(0xf9)][_0x45c5b7(0xe2)](_0x45c5b7(0xd4),()=>{const _0x34be7f=_0x45c5b7;setTimeout(()=>this['connect'](),this[_0x34be7f(0xdc)]);});this[_0x45c5b7(0xf9)][_0x45c5b7(0xe2)]('message',_0x1f83ed=>this[_0x45c5b7(0xef)](_0x1f83ed)),this[_0x45c5b7(0xf9)][_0x45c5b7(0xe2)](_0x45c5b7(0xd8),_0x5dd9d9=>this[_0x45c5b7(0xdd)]('open',_0x5dd9d9)),this[_0x45c5b7(0xf9)][_0x45c5b7(0xe2)](_0x45c5b7(0xfa),_0x3520d0=>this[_0x45c5b7(0xdd)](_0x45c5b7(0xfa),_0x3520d0)),this[_0x45c5b7(0xf9)][_0x45c5b7(0xe2)](_0x45c5b7(0xd4),_0x5bfd78=>this[_0x45c5b7(0xdd)](_0x45c5b7(0xd4),_0x5bfd78));const _0x2d51fe=()=>{_0x2be61d(),_0x1d23ce();},_0x2e26bd=_0x99f989=>{_0x5e4c15?_0x47041b(_0x99f989):_0x2be61d(),_0x1d23ce();};this[_0x45c5b7(0xf9)][_0x45c5b7(0xe2)](_0x45c5b7(0xd8),_0x2d51fe,{'once':!![]}),this[_0x45c5b7(0xf9)][_0x45c5b7(0xe2)](_0x45c5b7(0xfa),_0x2e26bd,{'once':!![]});const _0x1d23ce=()=>{const _0x13fb3d=_0x45c5b7;var _0xfca543,_0x5a1cac;(_0xfca543=this['socket'])===null||_0xfca543===void 0x0?void 0x0:_0xfca543[_0x13fb3d(0xff)]('open',_0x2d51fe),(_0x5a1cac=this[_0x13fb3d(0xf9)])===null||_0x5a1cac===void 0x0?void 0x0:_0x5a1cac['removeEventListener'](_0x13fb3d(0xfa),_0x2e26bd);};});});}['disconnect'](_0x4ca3af,_0x3baab6){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x3b142c,_0x3fc5c4)=>{const _0x49db3e=a7_0x21ad;if(this[_0x49db3e(0xf9)]==undefined||this['socket'][_0x49db3e(0x10a)]===a7_0x1acb16['CLOSING']||this[_0x49db3e(0xf9)][_0x49db3e(0x10a)]===a7_0x1acb16[_0x49db3e(0x105)])return _0x3fc5c4(new Error('The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection'));this[_0x49db3e(0xf9)]['close'](_0x4ca3af,_0x3baab6);const _0x42fdbe=()=>{_0x3b142c(),_0x3eab36();},_0x3ef2d7=_0x553b7d=>{_0x3fc5c4(_0x553b7d),_0x3eab36();};this['socket']['addEventListener'](_0x49db3e(0xd4),_0x42fdbe,{'once':!![]}),this['socket']['addEventListener'](_0x49db3e(0xfa),_0x3ef2d7,{'once':!![]});const _0x3eab36=()=>{const _0x11249a=_0x49db3e;var _0x5614c3,_0x4de961;(_0x5614c3=this[_0x11249a(0xf9)])===null||_0x5614c3===void 0x0?void 0x0:_0x5614c3[_0x11249a(0xff)](_0x11249a(0xd4),_0x42fdbe),(_0x4de961=this[_0x11249a(0xf9)])===null||_0x4de961===void 0x0?void 0x0:_0x4de961['removeEventListener']('error',_0x3ef2d7);};});});}get[a7_0xa750b6(0xd5)](){const _0x3630c0=a7_0xa750b6;var _0x292520;switch((_0x292520=this[_0x3630c0(0xf9)])===null||_0x292520===void 0x0?void 0x0:_0x292520[_0x3630c0(0x10a)]){case a7_0x1acb16['CONNECTING']:return'connecting';case a7_0x1acb16['OPEN']:return this[_0x3630c0(0xfd)]===_0x3630c0(0xd6)?_0x3630c0(0xd8):_0x3630c0(0x109);case a7_0x1acb16[_0x3630c0(0xe7)]:return'closing';case a7_0x1acb16['CLOSED']:default:return _0x3630c0(0x107);}}[a7_0xa750b6(0xdb)](_0x141928,_0x53f262,_0x1a08b9,_0x51a6cc=0x5*0x3e8){const _0x4dbcb6=a7_0xa750b6;if(this[_0x4dbcb6(0xf9)]==undefined||this[_0x4dbcb6(0xd5)]!==_0x4dbcb6(0xd8))throw new Error(_0x4dbcb6(0xd3));if([_0x4dbcb6(0x109),_0x4dbcb6(0xd8),_0x4dbcb6(0xfa),'close']['includes'](_0x141928))throw new Error(_0x4dbcb6(0xcc));const _0x477c0e=_0x1a08b9==undefined?0x0:this[_0x4dbcb6(0xcd)],_0x391ff1=Buffer[_0x4dbcb6(0x102)](_0x141928,_0x4dbcb6(0xe5));if(_0x391ff1[_0x4dbcb6(0xf7)]>0xff)throw new Error(_0x4dbcb6(0xf6));if(_0x1a08b9!=undefined){this['requestId']=(this['requestId']+0x1)%0x80||0x1;const _0x2d021a=setTimeout(()=>{delete this['pendingRequests'][_0x477c0e],_0x1a08b9(new Error('Timeout'));},_0x51a6cc);this[_0x4dbcb6(0x104)][_0x477c0e]=_0x1627c1=>{if(!(_0x1627c1 instanceof Error))clearTimeout(_0x2d021a);_0x1a08b9(_0x1627c1);};}const _0x552013=Buffer[_0x4dbcb6(0xee)]([Buffer['from']([_0x477c0e|0x80,_0x391ff1['length']]),_0x391ff1,this[_0x4dbcb6(0xce)](_0x53f262)]);this[_0x4dbcb6(0xf9)]['send'](_0x552013);}[a7_0xa750b6(0xef)]({data:_0x198255}){const _0x1adce7=a7_0xa750b6;var _0x5a755b,_0x10383a,_0x48cf48;let _0x1ed160=Buffer[_0x1adce7(0xf5)](0x0);if(_0x198255 instanceof Buffer)_0x1ed160=_0x198255;if(typeof _0x198255==='string')_0x1ed160=Buffer['from'](_0x198255,'utf-8');if(_0x198255 instanceof ArrayBuffer)_0x1ed160=Buffer[_0x1adce7(0x102)](_0x198255);if(Array[_0x1adce7(0xf0)](_0x198255))_0x1ed160=Buffer[_0x1adce7(0xee)](_0x198255);if(this[_0x1adce7(0xfd)]==='waiting'){const {pingInterval:_0x418fc4}=this[_0x1adce7(0xf2)](_0x1ed160);this[_0x1adce7(0xc9)]=_0x418fc4+0x1f4;const _0x397503=this[_0x1adce7(0xce)](this[_0x1adce7(0xe9)]===undefined?null:this[_0x1adce7(0xe9)]);(_0x5a755b=this[_0x1adce7(0xf9)])===null||_0x5a755b===void 0x0?void 0x0:_0x5a755b[_0x1adce7(0x108)](_0x397503),this[_0x1adce7(0xfd)]=_0x1adce7(0xe1);return;}else{if(this[_0x1adce7(0xfd)]===_0x1adce7(0xe1)){this['handshakeStatus']=_0x1adce7(0xd6);return;}}const _0x39baea=_0x1ed160[_0x1adce7(0xf1)](0x0),_0x4745e3=_0x39baea&0x7f,_0x2d8dff=(_0x39baea&0x80)!==0x0;if(_0x2d8dff){const _0x580307=_0x1ed160[_0x1adce7(0xf1)](0x1),_0x8012db=_0x1ed160[_0x1adce7(0xeb)](0x2,0x2+_0x580307)['toString'](_0x1adce7(0xe5));if([_0x1adce7(0x109),'open',_0x1adce7(0xfa),_0x1adce7(0xd4)][_0x1adce7(0xd1)](_0x8012db))return;const _0x2e65d0=this[_0x1adce7(0xf2)](_0x1ed160[_0x1adce7(0xeb)](0x2+_0x580307)),_0x427238=(_0x10383a=this[_0x1adce7(0xe8)][_0x8012db])!==null&&_0x10383a!==void 0x0?_0x10383a:[];let _0x6062b5=![];for(const _0x1e5780 of _0x427238){const _0x3b8e7a=_0x1e5780['call'](undefined,_0x2e65d0);if(!_0x6062b5&&_0x3b8e7a!==undefined&&_0x4745e3!==0x0){_0x6062b5=!![];const _0x387386=Buffer[_0x1adce7(0xee)]([Buffer[_0x1adce7(0x102)]([_0x4745e3&0x7f]),this[_0x1adce7(0xce)](_0x3b8e7a)]);(_0x48cf48=this[_0x1adce7(0xf9)])===null||_0x48cf48===void 0x0?void 0x0:_0x48cf48[_0x1adce7(0x108)](_0x387386);}}if(!_0x6062b5&&_0x4745e3!==0x0){}return;}const _0x4f04a9=this[_0x1adce7(0x104)][_0x4745e3];if(_0x4f04a9==undefined)return;const _0x2fe4fd=this['decode'](_0x1ed160['slice'](0x1));_0x4f04a9(_0x2fe4fd);}[a7_0xa750b6(0xce)](_0x1d55cf){const _0xa04296=a7_0xa750b6;return Buffer[_0xa04296(0x102)](JSON[_0xa04296(0xe0)](_0x1d55cf),_0xa04296(0xe5));}[a7_0xa750b6(0xf2)](_0x20197e){const _0x1fcc10=a7_0xa750b6;return JSON['parse'](_0x20197e[_0x1fcc10(0xdf)](_0x1fcc10(0xe5)));}['on'](_0x5bd3a8,_0x3ad4af){const _0x2d6ee4=a7_0xa750b6;if(this[_0x2d6ee4(0xe8)][_0x5bd3a8]==undefined)this[_0x2d6ee4(0xe8)][_0x5bd3a8]=[];this[_0x2d6ee4(0xe8)][_0x5bd3a8]['push'](_0x3ad4af);}[a7_0xa750b6(0xd0)](_0x1bd67e,_0x40bbb2){const _0x54e6f1=a7_0xa750b6;if(_0x40bbb2==undefined){delete this[_0x54e6f1(0xe8)][_0x1bd67e];return;}const _0x2c0e72=this[_0x54e6f1(0xe8)][_0x1bd67e],_0x3f962d=(_0x2c0e72!==null&&_0x2c0e72!==void 0x0?_0x2c0e72:[])[_0x54e6f1(0xde)](_0x2b3512=>_0x2b3512===_0x40bbb2);if(_0x3f962d===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x1bd67e+_0x54e6f1(0xcb));_0x2c0e72[_0x54e6f1(0xec)](_0x3f962d,0x1);}['raise'](_0x969f1,_0x3d51b4){const _0x1b612a=a7_0xa750b6;var _0x548f03;const _0x384311=(_0x548f03=this[_0x1b612a(0xe8)][_0x969f1])!==null&&_0x548f03!==void 0x0?_0x548f03:[];for(const _0x54bb9d of _0x384311)_0x54bb9d(_0x3d51b4);}}