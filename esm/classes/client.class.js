function a8_0x1e05(_0x5aaf98,_0x31e807){const _0x2809e=a8_0x2809();return a8_0x1e05=function(_0x1e057f,_0x4a6c81){_0x1e057f=_0x1e057f-0x1f0;let _0xbccacd=_0x2809e[_0x1e057f];return _0xbccacd;},a8_0x1e05(_0x5aaf98,_0x31e807);}function a8_0x2809(){const _0x12e30a=['pendingRequests','call','7vRZXNf','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22','status','from','stringify','value','emit','handlers','raise','14025044mkNFyV','readyState','isArray','The\x20websocket\x20is\x20not\x20connected','parse','connect','done','completed','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','handshakeData','splice','927867tZdosh','handle','4rVQEga','concat','url','utf-8','sent-info','close','The\x20websocket\x20is\x20already\x20connected','No\x20url\x20specified','then','message','__awaiter','heartbeatInterval','findIndex','removeEventListener','OPEN','279WvlETL','closing','includes','encode','pong','throw','ping','off','2CUMvcb','toString','handshakeStatus','requestId','CLOSING','length','apply','heartbeatTimeout','125410MRdUbt','handshake','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','checkHeartbeat','decode','3287904wRtChA','connecting','addEventListener','reconnectTimeout','error','slice','729865XtIKzr','socket','waiting','open','push','alloc','3189354koTofM','send','next','closed','CLOSED','2867980lbEsYw'];a8_0x2809=function(){return _0x12e30a;};return a8_0x2809();}const a8_0x1e25c5=a8_0x1e05;(function(_0x1862e0,_0x5bdcbf){const _0x4b6431=a8_0x1e05,_0x279a47=_0x1862e0();while(!![]){try{const _0x401985=parseInt(_0x4b6431(0x226))/0x1*(parseInt(_0x4b6431(0x212))/0x2)+parseInt(_0x4b6431(0x1f9))/0x3*(parseInt(_0x4b6431(0x1fb))/0x4)+-parseInt(_0x4b6431(0x231))/0x5+-parseInt(_0x4b6431(0x22c))/0x6*(parseInt(_0x4b6431(0x234))/0x7)+-parseInt(_0x4b6431(0x220))/0x8+parseInt(_0x4b6431(0x20a))/0x9*(-parseInt(_0x4b6431(0x21a))/0xa)+parseInt(_0x4b6431(0x23d))/0xb;if(_0x401985===_0x5bdcbf)break;else _0x279a47['push'](_0x279a47['shift']());}catch(_0xaaab72){_0x279a47['push'](_0x279a47['shift']());}}}(a8_0x2809,0x63e9c));var __awaiter=this&&this[a8_0x1e25c5(0x205)]||function(_0x4791f2,_0x455f0c,_0x13b1dd,_0x4cd4ff){function _0x916ec4(_0x1b028b){return _0x1b028b instanceof _0x13b1dd?_0x1b028b:new _0x13b1dd(function(_0xdc297){_0xdc297(_0x1b028b);});}return new(_0x13b1dd||(_0x13b1dd=Promise))(function(_0x4e4063,_0x55507a){const _0x3f70c5=a8_0x1e05;function _0x49c0f4(_0x923128){const _0x1d7a16=a8_0x1e05;try{_0x561fa4(_0x4cd4ff[_0x1d7a16(0x22e)](_0x923128));}catch(_0x503c9e){_0x55507a(_0x503c9e);}}function _0x99257(_0x2e55cf){const _0xc816e=a8_0x1e05;try{_0x561fa4(_0x4cd4ff[_0xc816e(0x20f)](_0x2e55cf));}catch(_0x2bd649){_0x55507a(_0x2bd649);}}function _0x561fa4(_0x2070e8){const _0x21570c=a8_0x1e05;_0x2070e8[_0x21570c(0x1f4)]?_0x4e4063(_0x2070e8[_0x21570c(0x239)]):_0x916ec4(_0x2070e8[_0x21570c(0x239)])[_0x21570c(0x203)](_0x49c0f4,_0x99257);}_0x561fa4((_0x4cd4ff=_0x4cd4ff[_0x3f70c5(0x218)](_0x4791f2,_0x455f0c||[]))[_0x3f70c5(0x22e)]());});};import a8_0x2ea9f6 from'ws';export default class Client{constructor(){const _0x4f2952=a8_0x1e25c5;this['heartbeatInterval']=0x5*0x3e8+0x1f4,this[_0x4f2952(0x223)]=null,this['handshakeStatus']=_0x4f2952(0x228),this['requestId']=0x1,this[_0x4f2952(0x232)]={},this[_0x4f2952(0x23b)]={},this[_0x4f2952(0x21e)]=()=>{const _0x10a834=_0x4f2952;if(this['heartbeatTimeout']!=undefined)clearTimeout(this['heartbeatTimeout']);this['heartbeatTimeout']=setTimeout(()=>{const _0x1a3466=a8_0x1e05;var _0x50df4e;if(this['socket']!=undefined&&this[_0x1a3466(0x227)]['readyState']!==a8_0x2ea9f6[_0x1a3466(0x209)])return;(_0x50df4e=this['socket'])===null||_0x50df4e===void 0x0?void 0x0:_0x50df4e[_0x1a3466(0x200)]();},this[_0x10a834(0x206)]);};}[a8_0x1e25c5(0x1f3)](){return __awaiter(this,arguments,void 0x0,function*({url:_0x508fa2,allowReject:_0x37bbee,handshakeData:_0x4f261c,reconnectTimeout:_0x50b07f}={}){return new Promise((_0xa34528,_0x43f8ab)=>{const _0x1fe4f5=a8_0x1e05;if(this['socket']!=undefined&&this[_0x1fe4f5(0x227)][_0x1fe4f5(0x23e)]===a8_0x2ea9f6[_0x1fe4f5(0x209)]){if(_0x37bbee!==!![])_0x43f8ab(new Error(_0x1fe4f5(0x201)));else _0xa34528();}this[_0x1fe4f5(0x227)]!=undefined&&(this['socket']['removeAllListeners'](),this[_0x1fe4f5(0x227)][_0x1fe4f5(0x211)](_0x1fe4f5(0x210),this[_0x1fe4f5(0x21e)]),this['handshakeStatus']=_0x1fe4f5(0x228));if(this[_0x1fe4f5(0x1fd)]==undefined&&_0x508fa2==undefined)_0x43f8ab(new Error(_0x1fe4f5(0x202)));this[_0x1fe4f5(0x1fd)]=_0x508fa2||this['url'];if(_0x50b07f!==undefined)this[_0x1fe4f5(0x223)]=_0x50b07f;if(_0x4f261c!==undefined)this[_0x1fe4f5(0x1f7)]=_0x4f261c;this[_0x1fe4f5(0x227)]=new a8_0x2ea9f6(this[_0x1fe4f5(0x1fd)]),this[_0x1fe4f5(0x227)][_0x1fe4f5(0x222)]('open',this[_0x1fe4f5(0x21e)]),this[_0x1fe4f5(0x227)][_0x1fe4f5(0x222)]('message',this[_0x1fe4f5(0x21e)]),this[_0x1fe4f5(0x227)]['on']('ping',_0x49f32b=>{const _0x54f6d3=_0x1fe4f5;var _0x5bd906;(_0x5bd906=this[_0x54f6d3(0x227)])===null||_0x5bd906===void 0x0?void 0x0:_0x5bd906[_0x54f6d3(0x20e)](_0x49f32b),this['checkHeartbeat']();}),this[_0x1fe4f5(0x227)][_0x1fe4f5(0x222)]('close',()=>{const _0x1ff85a=_0x1fe4f5;if(this[_0x1ff85a(0x219)]!=undefined)clearTimeout(this['heartbeatTimeout']);});if(this[_0x1fe4f5(0x223)]!=undefined)this[_0x1fe4f5(0x227)][_0x1fe4f5(0x222)](_0x1fe4f5(0x200),()=>{const _0x17a6b0=_0x1fe4f5;setTimeout(()=>this[_0x17a6b0(0x1f3)](),this[_0x17a6b0(0x223)]);});this[_0x1fe4f5(0x227)][_0x1fe4f5(0x222)](_0x1fe4f5(0x204),_0x1a550c=>this[_0x1fe4f5(0x1fa)](_0x1a550c)),this[_0x1fe4f5(0x227)][_0x1fe4f5(0x222)](_0x1fe4f5(0x229),_0x58a28c=>this['raise'](_0x1fe4f5(0x229),_0x58a28c)),this[_0x1fe4f5(0x227)][_0x1fe4f5(0x222)](_0x1fe4f5(0x224),_0x44d2e3=>this[_0x1fe4f5(0x23c)](_0x1fe4f5(0x224),_0x44d2e3)),this[_0x1fe4f5(0x227)][_0x1fe4f5(0x222)](_0x1fe4f5(0x200),_0x53b0e6=>this[_0x1fe4f5(0x23c)](_0x1fe4f5(0x200),_0x53b0e6));const _0x18ed2f=()=>{_0xa34528(),_0x2fab7a();},_0x5ace7c=_0x2d373a=>{_0x37bbee?_0x43f8ab(_0x2d373a):_0xa34528(),_0x2fab7a();};this[_0x1fe4f5(0x227)]['addEventListener'](_0x1fe4f5(0x229),_0x18ed2f,{'once':!![]}),this['socket'][_0x1fe4f5(0x222)]('error',_0x5ace7c,{'once':!![]});const _0x2fab7a=()=>{const _0x1e7202=_0x1fe4f5;var _0x4b6b7a,_0x443ae6;(_0x4b6b7a=this[_0x1e7202(0x227)])===null||_0x4b6b7a===void 0x0?void 0x0:_0x4b6b7a[_0x1e7202(0x208)](_0x1e7202(0x229),_0x18ed2f),(_0x443ae6=this[_0x1e7202(0x227)])===null||_0x443ae6===void 0x0?void 0x0:_0x443ae6[_0x1e7202(0x208)]('error',_0x5ace7c);};});});}['disconnect'](_0x176f3b,_0x2325ed){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x2f42c1,_0x2cd8bb)=>{const _0x9336c9=a8_0x1e05;if(this['socket']==undefined||this[_0x9336c9(0x227)]['readyState']===a8_0x2ea9f6[_0x9336c9(0x216)]||this[_0x9336c9(0x227)][_0x9336c9(0x23e)]===a8_0x2ea9f6['CLOSED'])return _0x2cd8bb(new Error('The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection'));this[_0x9336c9(0x227)][_0x9336c9(0x200)](_0x176f3b,_0x2325ed);const _0x3d4a6b=()=>{_0x2f42c1(),_0x1fc598();},_0x20cdb3=_0x17da46=>{_0x2cd8bb(_0x17da46),_0x1fc598();};this[_0x9336c9(0x227)][_0x9336c9(0x222)](_0x9336c9(0x200),_0x3d4a6b,{'once':!![]}),this[_0x9336c9(0x227)][_0x9336c9(0x222)](_0x9336c9(0x224),_0x20cdb3,{'once':!![]});const _0x1fc598=()=>{const _0x4c8861=_0x9336c9;var _0x265ca7,_0x43a690;(_0x265ca7=this[_0x4c8861(0x227)])===null||_0x265ca7===void 0x0?void 0x0:_0x265ca7[_0x4c8861(0x208)](_0x4c8861(0x200),_0x3d4a6b),(_0x43a690=this[_0x4c8861(0x227)])===null||_0x43a690===void 0x0?void 0x0:_0x43a690[_0x4c8861(0x208)](_0x4c8861(0x224),_0x20cdb3);};});});}get[a8_0x1e25c5(0x236)](){const _0x395129=a8_0x1e25c5;var _0x21f914;switch((_0x21f914=this[_0x395129(0x227)])===null||_0x21f914===void 0x0?void 0x0:_0x21f914['readyState']){case a8_0x2ea9f6['CONNECTING']:return _0x395129(0x221);case a8_0x2ea9f6[_0x395129(0x209)]:return this['handshakeStatus']===_0x395129(0x1f5)?_0x395129(0x229):'handshake';case a8_0x2ea9f6['CLOSING']:return _0x395129(0x20b);case a8_0x2ea9f6[_0x395129(0x230)]:default:return _0x395129(0x22f);}}[a8_0x1e25c5(0x23a)](_0x2e2a1f,_0x10bebd,_0x2986df,_0x3a021d=0x5*0x3e8){const _0x59aa55=a8_0x1e25c5;if(this[_0x59aa55(0x227)]==undefined||this[_0x59aa55(0x236)]!==_0x59aa55(0x229))throw new Error(_0x59aa55(0x1f1));if([_0x59aa55(0x21b),_0x59aa55(0x229),_0x59aa55(0x224),_0x59aa55(0x200),'*'][_0x59aa55(0x20c)](_0x2e2a1f))throw new Error(_0x59aa55(0x235));const _0x5ad640=_0x2986df==undefined?0x0:this[_0x59aa55(0x215)],_0x187d03=Buffer['from'](_0x2e2a1f,'utf-8');if(_0x187d03[_0x59aa55(0x217)]>0xff)throw new Error(_0x59aa55(0x1f6));if(_0x2986df!=undefined){this[_0x59aa55(0x215)]=(this[_0x59aa55(0x215)]+0x1)%0x80||0x1;const _0x367e7b=setTimeout(()=>{delete this['pendingRequests'][_0x5ad640],_0x2986df(new Error('Timeout'));},_0x3a021d);this[_0x59aa55(0x232)][_0x5ad640]=_0x43b3b6=>{if(!(_0x43b3b6 instanceof Error))clearTimeout(_0x367e7b);_0x2986df(_0x43b3b6);};}const _0x411c39=Buffer[_0x59aa55(0x1fc)]([Buffer[_0x59aa55(0x237)]([_0x5ad640|0x80,_0x187d03[_0x59aa55(0x217)]]),_0x187d03,this[_0x59aa55(0x20d)](_0x10bebd)]);this[_0x59aa55(0x227)][_0x59aa55(0x22d)](_0x411c39);}['handle']({data:_0x4424d3}){const _0x2fcc80=a8_0x1e25c5;var _0x11d770,_0x26754a,_0x1ec260;let _0x5a07db=Buffer[_0x2fcc80(0x22b)](0x0);if(_0x4424d3 instanceof Buffer)_0x5a07db=_0x4424d3;if(typeof _0x4424d3==='string')_0x5a07db=Buffer[_0x2fcc80(0x237)](_0x4424d3,_0x2fcc80(0x1fe));if(_0x4424d3 instanceof ArrayBuffer)_0x5a07db=Buffer['from'](_0x4424d3);if(Array[_0x2fcc80(0x1f0)](_0x4424d3))_0x5a07db=Buffer['concat'](_0x4424d3);if(this[_0x2fcc80(0x214)]===_0x2fcc80(0x228)){const {pingInterval:_0x17a27b}=this[_0x2fcc80(0x21f)](_0x5a07db);this[_0x2fcc80(0x206)]=_0x17a27b+0x1f4;const _0x5e6147=this['encode'](this[_0x2fcc80(0x1f7)]===undefined?null:this['handshakeData']);(_0x11d770=this[_0x2fcc80(0x227)])===null||_0x11d770===void 0x0?void 0x0:_0x11d770[_0x2fcc80(0x22d)](_0x5e6147),this[_0x2fcc80(0x214)]=_0x2fcc80(0x1ff);return;}else{if(this[_0x2fcc80(0x214)]===_0x2fcc80(0x1ff)){this[_0x2fcc80(0x214)]=_0x2fcc80(0x1f5);return;}}const _0x169404=_0x5a07db['readUInt8'](0x0),_0x3d7bd1=_0x169404&0x7f,_0x30361b=(_0x169404&0x80)!==0x0;if(_0x30361b){const _0x318773=_0x5a07db['readUInt8'](0x1),_0x4c385f=_0x5a07db[_0x2fcc80(0x225)](0x2,0x2+_0x318773)[_0x2fcc80(0x213)]('utf-8');if([_0x2fcc80(0x21b),_0x2fcc80(0x229),_0x2fcc80(0x224),'close','*'][_0x2fcc80(0x20c)](_0x4c385f))return;const _0x465f72=this[_0x2fcc80(0x21f)](_0x5a07db['slice'](0x2+_0x318773)),_0x1d472d=(_0x26754a=this[_0x2fcc80(0x23b)][_0x4c385f])!==null&&_0x26754a!==void 0x0?_0x26754a:[];let _0x5b0581=![];const _0x275cdb=_0x35ba6b=>{const _0x2a40d2=_0x2fcc80;var _0x4ef3cb;if(_0x3d7bd1===0x0&&_0x5b0581)return;if(_0x35ba6b===undefined)return;const _0x123097=Buffer['concat']([Buffer[_0x2a40d2(0x237)]([_0x3d7bd1&0x7f]),this[_0x2a40d2(0x20d)](_0x35ba6b)]);(_0x4ef3cb=this[_0x2a40d2(0x227)])===null||_0x4ef3cb===void 0x0?void 0x0:_0x4ef3cb[_0x2a40d2(0x22d)](_0x123097),_0x5b0581=!![];};for(const _0x5a4c0e of _0x1d472d)_0x5a4c0e[_0x2fcc80(0x233)](undefined,_0x465f72,_0x275cdb);const _0x3255ed=(_0x1ec260=this['handlers']['*'])!==null&&_0x1ec260!==void 0x0?_0x1ec260:[];for(const _0x4a4ece of _0x3255ed)_0x4a4ece['call'](undefined,_0x4c385f,_0x465f72);if(!_0x5b0581&&_0x3d7bd1!==0x0){}return;}const _0x57cded=this['pendingRequests'][_0x3d7bd1];if(_0x57cded==undefined)return;const _0x2afbc0=this[_0x2fcc80(0x21f)](_0x5a07db[_0x2fcc80(0x225)](0x1));_0x57cded(_0x2afbc0);}[a8_0x1e25c5(0x20d)](_0xac2ea){const _0x16839c=a8_0x1e25c5;return Buffer[_0x16839c(0x237)](JSON[_0x16839c(0x238)](_0xac2ea),_0x16839c(0x1fe));}[a8_0x1e25c5(0x21f)](_0x4a83cb){const _0x1b0095=a8_0x1e25c5;return JSON[_0x1b0095(0x1f2)](_0x4a83cb[_0x1b0095(0x213)](_0x1b0095(0x1fe)));}['on'](_0x54204e,_0x878413){const _0x1b9672=a8_0x1e25c5;if(this[_0x1b9672(0x23b)][_0x54204e]==undefined)this[_0x1b9672(0x23b)][_0x54204e]=[];this[_0x1b9672(0x23b)][_0x54204e][_0x1b9672(0x22a)](_0x878413);}['off'](_0x1e97b5,_0x287ccf){const _0x8d3bf7=a8_0x1e25c5;if(_0x287ccf==undefined){delete this[_0x8d3bf7(0x23b)][_0x1e97b5];return;}const _0x240853=this[_0x8d3bf7(0x23b)][_0x1e97b5],_0xa0b5dd=(_0x240853!==null&&_0x240853!==void 0x0?_0x240853:[])[_0x8d3bf7(0x207)](_0x27b816=>_0x27b816===_0x287ccf);if(_0xa0b5dd===-0x1)throw new Error(_0x8d3bf7(0x21d)+_0x1e97b5+_0x8d3bf7(0x21c));_0x240853[_0x8d3bf7(0x1f8)](_0xa0b5dd,0x1);}[a8_0x1e25c5(0x23c)](_0xe7fe1e,_0x590c3a){const _0x5f284e=a8_0x1e25c5;var _0x4d638d,_0x1c7173;const _0x4c0d06=(_0x4d638d=this['handlers'][_0xe7fe1e])!==null&&_0x4d638d!==void 0x0?_0x4d638d:[];for(const _0x4da3f6 of _0x4c0d06)_0x4da3f6(_0x590c3a);const _0x4ec9a2=(_0x1c7173=this[_0x5f284e(0x23b)]['*'])!==null&&_0x1c7173!==void 0x0?_0x1c7173:[];for(const _0x11d62c of _0x4ec9a2)_0x11d62c(_0xe7fe1e,_0x590c3a);}}