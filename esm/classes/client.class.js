const a7_0x176c59=a7_0xcd10;function a7_0xcd10(_0x21797a,_0x348d30){const _0x75c982=a7_0x75c9();return a7_0xcd10=function(_0xcd107b,_0x4a3b71){_0xcd107b=_0xcd107b-0x98;let _0x190c70=_0x75c982[_0xcd107b];return _0x190c70;},a7_0xcd10(_0x21797a,_0x348d30);}(function(_0x4accda,_0x3cf9ca){const _0x2c7835=a7_0xcd10,_0x13c704=_0x4accda();while(!![]){try{const _0x254a4c=-parseInt(_0x2c7835(0xa8))/0x1*(-parseInt(_0x2c7835(0xb8))/0x2)+-parseInt(_0x2c7835(0xe4))/0x3+-parseInt(_0x2c7835(0xde))/0x4+parseInt(_0x2c7835(0xd7))/0x5*(parseInt(_0x2c7835(0xd2))/0x6)+parseInt(_0x2c7835(0xc6))/0x7+-parseInt(_0x2c7835(0xdf))/0x8+parseInt(_0x2c7835(0x99))/0x9*(parseInt(_0x2c7835(0xc2))/0xa);if(_0x254a4c===_0x3cf9ca)break;else _0x13c704['push'](_0x13c704['shift']());}catch(_0x9c15a7){_0x13c704['push'](_0x13c704['shift']());}}}(a7_0x75c9,0xc5f47));function a7_0x75c9(){const _0x177653=['readyState','send','from','The\x20websocket\x20is\x20not\x20connected','25705YDMbom','throw','next','utf-8','heartbeatInterval','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','handshakeStatus','3953788IPDJzW','4863400RfLccs','stringify','length','removeEventListener','socket','2092662DKAgap','CLOSING','9HhZUay','handle','pong','call','includes','handlers','off','emit','apply','error','isArray','checkHeartbeat','toString','open','closed','15219ObtaPh','decode','concat','then','CONNECTING','status','value','The\x20websocket\x20is\x20already\x20connected','readUInt8','handshakeData','encode','waiting','done','raise','findIndex','addEventListener','178vTlJmJ','connect','message','No\x20url\x20specified','sent-info','alloc','ping','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','Timeout','CLOSED','5917930NzBeMX','removeAllListeners','string','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error\x20or\x20close','6273918bMKvHN','reconnectTimeout','pendingRequests','OPEN','close','requestId','url','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','completed','splice','slice','heartbeatTimeout','306RWpcOP'];a7_0x75c9=function(){return _0x177653;};return a7_0x75c9();}var __awaiter=this&&this['__awaiter']||function(_0x49cf87,_0x4d50c4,_0x136b04,_0x2a4c89){function _0x319b04(_0x4e38b3){return _0x4e38b3 instanceof _0x136b04?_0x4e38b3:new _0x136b04(function(_0x357296){_0x357296(_0x4e38b3);});}return new(_0x136b04||(_0x136b04=Promise))(function(_0x19be52,_0x5164cd){const _0x213fb2=a7_0xcd10;function _0x2befa5(_0x452f6a){try{_0x3debc1(_0x2a4c89['next'](_0x452f6a));}catch(_0xfbccbc){_0x5164cd(_0xfbccbc);}}function _0x4d5464(_0x227925){const _0x167be6=a7_0xcd10;try{_0x3debc1(_0x2a4c89[_0x167be6(0xd8)](_0x227925));}catch(_0x1daaf5){_0x5164cd(_0x1daaf5);}}function _0x3debc1(_0x324e61){const _0x4a951d=a7_0xcd10;_0x324e61[_0x4a951d(0xb4)]?_0x19be52(_0x324e61[_0x4a951d(0xae)]):_0x319b04(_0x324e61[_0x4a951d(0xae)])[_0x4a951d(0xab)](_0x2befa5,_0x4d5464);}_0x3debc1((_0x2a4c89=_0x2a4c89[_0x213fb2(0xa1)](_0x49cf87,_0x4d50c4||[]))[_0x213fb2(0xd9)]());});};import a7_0x4baff5 from'ws';export default class Client{constructor(){const _0x1a3c08=a7_0xcd10;this[_0x1a3c08(0xdb)]=0x5*0x3e8+0x1f4,this[_0x1a3c08(0xc7)]=null,this['handshakeStatus']=_0x1a3c08(0xb3),this[_0x1a3c08(0xcb)]=0x1,this[_0x1a3c08(0xc8)]={},this[_0x1a3c08(0x9e)]={},this['checkHeartbeat']=()=>{const _0x2ee7ab=_0x1a3c08;if(this[_0x2ee7ab(0xd1)]!=undefined)clearTimeout(this['heartbeatTimeout']);this[_0x2ee7ab(0xd1)]=setTimeout(()=>{const _0x5d6178=_0x2ee7ab;var _0x31c006;if(this[_0x5d6178(0xe3)]!=undefined&&this['socket']['readyState']!==a7_0x4baff5[_0x5d6178(0xc9)])return;(_0x31c006=this['socket'])===null||_0x31c006===void 0x0?void 0x0:_0x31c006[_0x5d6178(0xca)]();},this[_0x2ee7ab(0xdb)]);};}[a7_0x176c59(0xb9)](){return __awaiter(this,arguments,void 0x0,function*({url:_0x38a260,allowReject:_0x4c9d67,handshakeData:_0x404da3,reconnectTimeout:_0x507a61}={}){return new Promise((_0x55575a,_0xf35f8d)=>{const _0x6a3c5c=a7_0xcd10;if(this[_0x6a3c5c(0xe3)]!=undefined&&this[_0x6a3c5c(0xe3)]['readyState']===a7_0x4baff5[_0x6a3c5c(0xc9)]){if(_0x4c9d67!==!![])_0xf35f8d(new Error(_0x6a3c5c(0xaf)));else _0x55575a();}this['socket']!=undefined&&(this[_0x6a3c5c(0xe3)][_0x6a3c5c(0xc3)](),this[_0x6a3c5c(0xe3)][_0x6a3c5c(0x9f)](_0x6a3c5c(0xbe),this[_0x6a3c5c(0xa4)]),this[_0x6a3c5c(0xdd)]=_0x6a3c5c(0xb3));if(this[_0x6a3c5c(0xcc)]==undefined&&_0x38a260==undefined)_0xf35f8d(new Error(_0x6a3c5c(0xbb)));this['url']=_0x38a260||this[_0x6a3c5c(0xcc)];if(_0x507a61!==undefined)this['reconnectTimeout']=_0x507a61;if(_0x404da3!==undefined)this['handshakeData']=_0x404da3;this[_0x6a3c5c(0xe3)]=new a7_0x4baff5(this[_0x6a3c5c(0xcc)]),this[_0x6a3c5c(0xe3)]['addEventListener'](_0x6a3c5c(0xa6),this[_0x6a3c5c(0xa4)]),this['socket']['addEventListener'](_0x6a3c5c(0xba),this[_0x6a3c5c(0xa4)]),this[_0x6a3c5c(0xe3)]['on']('ping',_0x3eba0c=>{const _0x40ee1d=_0x6a3c5c;var _0x1f7c66;(_0x1f7c66=this[_0x40ee1d(0xe3)])===null||_0x1f7c66===void 0x0?void 0x0:_0x1f7c66[_0x40ee1d(0x9b)](_0x3eba0c),this[_0x40ee1d(0xa4)]();}),this[_0x6a3c5c(0xe3)][_0x6a3c5c(0xb7)](_0x6a3c5c(0xca),()=>{const _0x47ae6b=_0x6a3c5c;if(this[_0x47ae6b(0xd1)]!=undefined)clearTimeout(this[_0x47ae6b(0xd1)]);});if(this[_0x6a3c5c(0xc7)]!=undefined)this[_0x6a3c5c(0xe3)]['addEventListener'](_0x6a3c5c(0xca),()=>{const _0x45ed02=_0x6a3c5c;setTimeout(()=>this[_0x45ed02(0xb9)](),this[_0x45ed02(0xc7)]);});this[_0x6a3c5c(0xe3)][_0x6a3c5c(0xb7)](_0x6a3c5c(0xba),_0x47078b=>this[_0x6a3c5c(0x9a)](_0x47078b)),this[_0x6a3c5c(0xe3)][_0x6a3c5c(0xb7)]('open',_0x4818b=>this[_0x6a3c5c(0xb5)](_0x6a3c5c(0xa6),_0x4818b)),this[_0x6a3c5c(0xe3)][_0x6a3c5c(0xb7)]('error',_0x2a665e=>this[_0x6a3c5c(0xb5)](_0x6a3c5c(0xa2),_0x2a665e)),this[_0x6a3c5c(0xe3)][_0x6a3c5c(0xb7)](_0x6a3c5c(0xca),_0x2bd6c7=>this[_0x6a3c5c(0xb5)](_0x6a3c5c(0xca),_0x2bd6c7));const _0x46ab60=()=>{_0x55575a(),_0x9d0466();},_0x504f35=_0x312509=>{_0x4c9d67?_0xf35f8d(_0x312509):_0x55575a(),_0x9d0466();};this[_0x6a3c5c(0xe3)][_0x6a3c5c(0xb7)](_0x6a3c5c(0xa6),_0x46ab60,{'once':!![]}),this[_0x6a3c5c(0xe3)][_0x6a3c5c(0xb7)](_0x6a3c5c(0xa2),_0x504f35,{'once':!![]});const _0x9d0466=()=>{const _0x38a03f=_0x6a3c5c;var _0x5996d3,_0x2df92a;(_0x5996d3=this[_0x38a03f(0xe3)])===null||_0x5996d3===void 0x0?void 0x0:_0x5996d3[_0x38a03f(0xe2)](_0x38a03f(0xa6),_0x46ab60),(_0x2df92a=this['socket'])===null||_0x2df92a===void 0x0?void 0x0:_0x2df92a[_0x38a03f(0xe2)]('error',_0x504f35);};});});}['disconnect'](_0xd9e895,_0x980462){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x46aff8,_0x125fff)=>{const _0x1c18c2=a7_0xcd10;if(this[_0x1c18c2(0xe3)]==undefined||this[_0x1c18c2(0xe3)]['readyState']===a7_0x4baff5[_0x1c18c2(0x98)]||this[_0x1c18c2(0xe3)][_0x1c18c2(0xd3)]===a7_0x4baff5['CLOSED'])return _0x125fff(new Error('The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection'));this[_0x1c18c2(0xe3)][_0x1c18c2(0xca)](_0xd9e895,_0x980462);const _0x39a47d=()=>{_0x46aff8(),_0x5e6817();},_0x452bcb=_0x45ccbd=>{_0x125fff(_0x45ccbd),_0x5e6817();};this[_0x1c18c2(0xe3)][_0x1c18c2(0xb7)](_0x1c18c2(0xca),_0x39a47d,{'once':!![]}),this[_0x1c18c2(0xe3)][_0x1c18c2(0xb7)](_0x1c18c2(0xa2),_0x452bcb,{'once':!![]});const _0x5e6817=()=>{const _0x89926b=_0x1c18c2;var _0x494f6a,_0x46a272;(_0x494f6a=this[_0x89926b(0xe3)])===null||_0x494f6a===void 0x0?void 0x0:_0x494f6a['removeEventListener'](_0x89926b(0xca),_0x39a47d),(_0x46a272=this[_0x89926b(0xe3)])===null||_0x46a272===void 0x0?void 0x0:_0x46a272[_0x89926b(0xe2)](_0x89926b(0xa2),_0x452bcb);};});});}get[a7_0x176c59(0xad)](){const _0x80d238=a7_0x176c59;var _0x17b211;switch((_0x17b211=this[_0x80d238(0xe3)])===null||_0x17b211===void 0x0?void 0x0:_0x17b211[_0x80d238(0xd3)]){case a7_0x4baff5[_0x80d238(0xac)]:return'connecting';case a7_0x4baff5[_0x80d238(0xc9)]:return this[_0x80d238(0xdd)]===_0x80d238(0xce)?'open':'handshake';case a7_0x4baff5[_0x80d238(0x98)]:return'closing';case a7_0x4baff5[_0x80d238(0xc1)]:default:return _0x80d238(0xa7);}}[a7_0x176c59(0xa0)](_0x2a2d4e,_0x2ea9cc,_0x3c6e0e,_0x5cd58b=0x5*0x3e8){const _0xbfda19=a7_0x176c59;if(this[_0xbfda19(0xe3)]==undefined||this['status']!==_0xbfda19(0xa6))throw new Error(_0xbfda19(0xd6));if(['handshake','open','error',_0xbfda19(0xca)][_0xbfda19(0x9d)](_0x2a2d4e))throw new Error(_0xbfda19(0xc5));const _0x5ec0c6=_0x3c6e0e==undefined?0x0:this[_0xbfda19(0xcb)],_0x1d3899=Buffer[_0xbfda19(0xd5)](_0x2a2d4e,_0xbfda19(0xda));if(_0x1d3899[_0xbfda19(0xe1)]>0xff)throw new Error(_0xbfda19(0xbf));if(_0x3c6e0e!=undefined){this[_0xbfda19(0xcb)]=(this[_0xbfda19(0xcb)]+0x1)%0x80||0x1;const _0x564f48=setTimeout(()=>{const _0x23165d=_0xbfda19;delete this[_0x23165d(0xc8)][_0x5ec0c6],_0x3c6e0e(new Error(_0x23165d(0xc0)));},_0x5cd58b);this[_0xbfda19(0xc8)][_0x5ec0c6]=_0x5f508f=>{if(!(_0x5f508f instanceof Error))clearTimeout(_0x564f48);_0x3c6e0e(_0x5f508f);};}const _0x336cf3=Buffer[_0xbfda19(0xaa)]([Buffer['from']([_0x5ec0c6|0x80,_0x1d3899[_0xbfda19(0xe1)]]),_0x1d3899,this[_0xbfda19(0xb2)](_0x2ea9cc)]);this[_0xbfda19(0xe3)][_0xbfda19(0xd4)](_0x336cf3);}['handle']({data:_0x370439}){const _0x535c0a=a7_0x176c59;var _0x2bf109,_0x528f44,_0x30147f;let _0x31ca2c=Buffer[_0x535c0a(0xbd)](0x0);if(_0x370439 instanceof Buffer)_0x31ca2c=_0x370439;if(typeof _0x370439===_0x535c0a(0xc4))_0x31ca2c=Buffer[_0x535c0a(0xd5)](_0x370439,_0x535c0a(0xda));if(_0x370439 instanceof ArrayBuffer)_0x31ca2c=Buffer[_0x535c0a(0xd5)](_0x370439);if(Array[_0x535c0a(0xa3)](_0x370439))_0x31ca2c=Buffer[_0x535c0a(0xaa)](_0x370439);if(this[_0x535c0a(0xdd)]===_0x535c0a(0xb3)){const {pingInterval:_0x364996}=this[_0x535c0a(0xa9)](_0x31ca2c);this['heartbeatInterval']=_0x364996+0x1f4;const _0x3c1bd8=this['encode'](this[_0x535c0a(0xb1)]===undefined?null:this[_0x535c0a(0xb1)]);(_0x2bf109=this[_0x535c0a(0xe3)])===null||_0x2bf109===void 0x0?void 0x0:_0x2bf109[_0x535c0a(0xd4)](_0x3c1bd8),this[_0x535c0a(0xdd)]='sent-info';return;}else{if(this[_0x535c0a(0xdd)]===_0x535c0a(0xbc)){this[_0x535c0a(0xdd)]=_0x535c0a(0xce);return;}}const _0x422064=_0x31ca2c[_0x535c0a(0xb0)](0x0),_0x1dcb4e=_0x422064&0x7f,_0x1f1fee=(_0x422064&0x80)!==0x0;if(_0x1f1fee){const _0x5d619b=_0x31ca2c[_0x535c0a(0xb0)](0x1),_0x4a33d8=_0x31ca2c[_0x535c0a(0xd0)](0x2,0x2+_0x5d619b)[_0x535c0a(0xa5)]('utf-8');if(['handshake',_0x535c0a(0xa6),_0x535c0a(0xa2),_0x535c0a(0xca)][_0x535c0a(0x9d)](_0x4a33d8))return;const _0x122349=this['decode'](_0x31ca2c['slice'](0x2+_0x5d619b)),_0x47a17c=(_0x528f44=this[_0x535c0a(0x9e)][_0x4a33d8])!==null&&_0x528f44!==void 0x0?_0x528f44:[];let _0x233a2e=![];for(const _0x51a0f5 of _0x47a17c){const _0xc282ab=_0x51a0f5[_0x535c0a(0x9c)](undefined,_0x122349);if(!_0x233a2e&&_0xc282ab!==undefined&&_0x1dcb4e!==0x0){_0x233a2e=!![];const _0x3247ae=Buffer[_0x535c0a(0xaa)]([Buffer['from']([_0x1dcb4e&0x7f]),this['encode'](_0xc282ab)]);(_0x30147f=this[_0x535c0a(0xe3)])===null||_0x30147f===void 0x0?void 0x0:_0x30147f[_0x535c0a(0xd4)](_0x3247ae);}}if(!_0x233a2e&&_0x1dcb4e!==0x0){}return;}const _0x1afd1b=this[_0x535c0a(0xc8)][_0x1dcb4e];if(_0x1afd1b==undefined)return;const _0x405866=this[_0x535c0a(0xa9)](_0x31ca2c[_0x535c0a(0xd0)](0x1));_0x1afd1b(_0x405866);}[a7_0x176c59(0xb2)](_0x68bfd9){const _0x39600c=a7_0x176c59;return Buffer[_0x39600c(0xd5)](JSON[_0x39600c(0xe0)](_0x68bfd9),_0x39600c(0xda));}[a7_0x176c59(0xa9)](_0x35ccdf){return JSON['parse'](_0x35ccdf['toString']('utf-8'));}['on'](_0x20534b,_0xf8d8b5){const _0x4e3c86=a7_0x176c59;if(this[_0x4e3c86(0x9e)][_0x20534b]==undefined)this['handlers'][_0x20534b]=[];this[_0x4e3c86(0x9e)][_0x20534b]['push'](_0xf8d8b5);}[a7_0x176c59(0x9f)](_0x26e458,_0x202110){const _0x37bffd=a7_0x176c59;if(_0x202110==undefined){delete this[_0x37bffd(0x9e)][_0x26e458];return;}const _0x1b77bc=this[_0x37bffd(0x9e)][_0x26e458],_0x13d491=(_0x1b77bc!==null&&_0x1b77bc!==void 0x0?_0x1b77bc:[])[_0x37bffd(0xb6)](_0x571fc4=>_0x571fc4===_0x202110);if(_0x13d491===-0x1)throw new Error(_0x37bffd(0xcd)+_0x26e458+_0x37bffd(0xdc));_0x1b77bc[_0x37bffd(0xcf)](_0x13d491,0x1);}['raise'](_0x358e43,_0x162f09){var _0x4b2309;const _0x3ddf4f=(_0x4b2309=this['handlers'][_0x358e43])!==null&&_0x4b2309!==void 0x0?_0x4b2309:[];for(const _0x1a869d of _0x3ddf4f)_0x1a869d(_0x162f09);}}