const a7_0x4a98a0=a7_0x1021;(function(_0x5c602d,_0x124c33){const _0x332c84=a7_0x1021,_0x4a2d8c=_0x5c602d();while(!![]){try{const _0x29a29c=-parseInt(_0x332c84(0xf9))/0x1+parseInt(_0x332c84(0xe1))/0x2*(parseInt(_0x332c84(0xff))/0x3)+-parseInt(_0x332c84(0xfc))/0x4+-parseInt(_0x332c84(0xfa))/0x5*(-parseInt(_0x332c84(0x10d))/0x6)+parseInt(_0x332c84(0xea))/0x7+-parseInt(_0x332c84(0xf4))/0x8+parseInt(_0x332c84(0xeb))/0x9;if(_0x29a29c===_0x124c33)break;else _0x4a2d8c['push'](_0x4a2d8c['shift']());}catch(_0xa6d7a4){_0x4a2d8c['push'](_0x4a2d8c['shift']());}}}(a7_0x2bd2,0xdaf4f));var __awaiter=this&&this[a7_0x4a98a0(0xd8)]||function(_0x528e7c,_0x2ccd57,_0x1bd38a,_0x136dfe){function _0x4a9a44(_0xbe76cc){return _0xbe76cc instanceof _0x1bd38a?_0xbe76cc:new _0x1bd38a(function(_0x1bc57a){_0x1bc57a(_0xbe76cc);});}return new(_0x1bd38a||(_0x1bd38a=Promise))(function(_0x35dd6a,_0x46e3d9){const _0x33557a=a7_0x1021;function _0x59b1f7(_0xc8c14b){const _0x4b17b8=a7_0x1021;try{_0x3dd72a(_0x136dfe[_0x4b17b8(0x109)](_0xc8c14b));}catch(_0x5b466a){_0x46e3d9(_0x5b466a);}}function _0x370f41(_0xf8f741){const _0x1d3ffa=a7_0x1021;try{_0x3dd72a(_0x136dfe[_0x1d3ffa(0xfe)](_0xf8f741));}catch(_0x19b75d){_0x46e3d9(_0x19b75d);}}function _0x3dd72a(_0x2f5943){const _0x4068b1=a7_0x1021;_0x2f5943[_0x4068b1(0xd6)]?_0x35dd6a(_0x2f5943[_0x4068b1(0xe2)]):_0x4a9a44(_0x2f5943['value'])[_0x4068b1(0xf2)](_0x59b1f7,_0x370f41);}_0x3dd72a((_0x136dfe=_0x136dfe['apply'](_0x528e7c,_0x2ccd57||[]))[_0x33557a(0x109)]());});};function a7_0x2bd2(){const _0x344054=['url','__awaiter','close','decode','send','handlers','handshakeData','closing','heartbeatTimeout','readyState','1468394ycBQLo','value','message','error','No\x20url\x20specified','readUInt8','open','pendingRequests','length','10429244YiDDgp','11007621PREkzW','addEventListener','isArray','connecting','utf-8','stringify','socket','then','findIndex','13068672DaDpXM','toString','removeEventListener','sent-info','from','888728KxinvG','115AYWXhC','slice','4544648zGomEM','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','throw','3qkyShR','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','Timeout','encode','concat','reconnectTimeout','pong','off','includes','next','disconnect','CLOSING','The\x20websocket\x20is\x20not\x20connected','289086ROMIBA','handshakeStatus','OPEN','raise','call','CLOSED','removeAllListeners','checkHeartbeat','alloc','closed','completed','requestId','string','waiting','handle','ping','handshake','push','CONNECTING','connect','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','heartbeatInterval','splice','done'];a7_0x2bd2=function(){return _0x344054;};return a7_0x2bd2();}import a7_0x27fe97 from'ws';function a7_0x1021(_0x19bedf,_0x51f060){const _0x2bd26b=a7_0x2bd2();return a7_0x1021=function(_0x10212a,_0xf8692a){_0x10212a=_0x10212a-0xc6;let _0x56e37a=_0x2bd26b[_0x10212a];return _0x56e37a;},a7_0x1021(_0x19bedf,_0x51f060);}export default class Client{constructor(){const _0xae4b=a7_0x4a98a0;this[_0xae4b(0xd4)]=0x5*0x3e8+0x1f4,this[_0xae4b(0x105)]=null,this[_0xae4b(0x10e)]=_0xae4b(0xcc),this[_0xae4b(0xca)]=0x1,this[_0xae4b(0xe8)]={},this[_0xae4b(0xdc)]={},this[_0xae4b(0xc6)]=()=>{const _0x4f0266=_0xae4b;if(this['heartbeatTimeout']!=undefined)clearTimeout(this[_0x4f0266(0xdf)]);this[_0x4f0266(0xdf)]=setTimeout(()=>{const _0xa62a21=_0x4f0266;var _0x20324c;if(this[_0xa62a21(0xf1)]!=undefined&&this['socket'][_0xa62a21(0xe0)]!==a7_0x27fe97[_0xa62a21(0x10f)])return;(_0x20324c=this[_0xa62a21(0xf1)])===null||_0x20324c===void 0x0?void 0x0:_0x20324c['close']();},this[_0x4f0266(0xd4)]);};}['connect'](){return __awaiter(this,arguments,void 0x0,function*({url:_0x141d7c,allowReject:_0x155a0a,handshakeData:_0x57ad2f,reconnectTimeout:_0x35f23d}={}){return new Promise((_0x1027f0,_0x3130fa)=>{const _0x475142=a7_0x1021;if(this[_0x475142(0xf1)]!=undefined&&this[_0x475142(0xf1)][_0x475142(0xe0)]===a7_0x27fe97[_0x475142(0x10f)]){if(_0x155a0a!==!![])_0x3130fa(new Error('The\x20websocket\x20is\x20already\x20connected'));else _0x1027f0();}this[_0x475142(0xf1)]!=undefined&&(this[_0x475142(0xf1)][_0x475142(0x113)](),this['socket']['off'](_0x475142(0xce),this[_0x475142(0xc6)]),this[_0x475142(0x10e)]='waiting');if(this[_0x475142(0xd7)]==undefined&&_0x141d7c==undefined)_0x3130fa(new Error(_0x475142(0xe5)));this[_0x475142(0xd7)]=_0x141d7c||this[_0x475142(0xd7)];if(_0x35f23d!==undefined)this[_0x475142(0x105)]=_0x35f23d;if(_0x57ad2f!==undefined)this['handshakeData']=_0x57ad2f;this['socket']=new a7_0x27fe97(this[_0x475142(0xd7)]),this['socket'][_0x475142(0xec)](_0x475142(0xe7),this[_0x475142(0xc6)]),this[_0x475142(0xf1)][_0x475142(0xec)](_0x475142(0xe3),this['checkHeartbeat']),this[_0x475142(0xf1)]['on'](_0x475142(0xce),_0x1740e8=>{const _0x3991ff=_0x475142;var _0x51dbd8;(_0x51dbd8=this[_0x3991ff(0xf1)])===null||_0x51dbd8===void 0x0?void 0x0:_0x51dbd8[_0x3991ff(0x106)](_0x1740e8),this[_0x3991ff(0xc6)]();}),this['socket'][_0x475142(0xec)]('close',()=>{const _0x2ccc49=_0x475142;if(this[_0x2ccc49(0xdf)]!=undefined)clearTimeout(this[_0x2ccc49(0xdf)]);});if(this['reconnectTimeout']!=undefined)this[_0x475142(0xf1)][_0x475142(0xec)](_0x475142(0xd9),()=>{const _0x4dfc2c=_0x475142;setTimeout(()=>this[_0x4dfc2c(0xd2)](),this[_0x4dfc2c(0x105)]);});this[_0x475142(0xf1)][_0x475142(0xec)]('message',_0x597dc5=>this[_0x475142(0xcd)](_0x597dc5)),this[_0x475142(0xf1)][_0x475142(0xec)](_0x475142(0xe7),_0x24bbaa=>this[_0x475142(0x110)](_0x475142(0xe7),_0x24bbaa)),this[_0x475142(0xf1)]['addEventListener'](_0x475142(0xe4),_0x33de4d=>this['raise'](_0x475142(0xe4),_0x33de4d)),this['socket'][_0x475142(0xec)](_0x475142(0xd9),_0xe5af49=>this[_0x475142(0x110)](_0x475142(0xd9),_0xe5af49));const _0x84dc62=()=>{_0x1027f0(),_0x3c2153();},_0x585173=_0x3396de=>{_0x155a0a?_0x3130fa(_0x3396de):_0x1027f0(),_0x3c2153();};this[_0x475142(0xf1)][_0x475142(0xec)](_0x475142(0xe7),_0x84dc62,{'once':!![]}),this['socket'][_0x475142(0xec)](_0x475142(0xe4),_0x585173,{'once':!![]});const _0x3c2153=()=>{const _0x321a2d=_0x475142;var _0x892c18,_0x291ab4;(_0x892c18=this[_0x321a2d(0xf1)])===null||_0x892c18===void 0x0?void 0x0:_0x892c18[_0x321a2d(0xf6)](_0x321a2d(0xe7),_0x84dc62),(_0x291ab4=this[_0x321a2d(0xf1)])===null||_0x291ab4===void 0x0?void 0x0:_0x291ab4[_0x321a2d(0xf6)](_0x321a2d(0xe4),_0x585173);};});});}[a7_0x4a98a0(0x10a)](_0x196009,_0x1ab80b){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x56e873,_0xeaa566)=>{const _0x4e1fa3=a7_0x1021;if(this[_0x4e1fa3(0xf1)]==undefined||this['socket'][_0x4e1fa3(0xe0)]===a7_0x27fe97[_0x4e1fa3(0x10b)]||this[_0x4e1fa3(0xf1)][_0x4e1fa3(0xe0)]===a7_0x27fe97['CLOSED'])return _0xeaa566(new Error(_0x4e1fa3(0x101)));this[_0x4e1fa3(0xf1)][_0x4e1fa3(0xd9)](_0x196009,_0x1ab80b);const _0x500b8e=()=>{_0x56e873(),_0x3c42de();},_0x2bd173=_0x1eba8e=>{_0xeaa566(_0x1eba8e),_0x3c42de();};this['socket'][_0x4e1fa3(0xec)](_0x4e1fa3(0xd9),_0x500b8e,{'once':!![]}),this[_0x4e1fa3(0xf1)][_0x4e1fa3(0xec)](_0x4e1fa3(0xe4),_0x2bd173,{'once':!![]});const _0x3c42de=()=>{const _0xaea741=_0x4e1fa3;var _0x5c10f7,_0x88d973;(_0x5c10f7=this['socket'])===null||_0x5c10f7===void 0x0?void 0x0:_0x5c10f7['removeEventListener']('close',_0x500b8e),(_0x88d973=this[_0xaea741(0xf1)])===null||_0x88d973===void 0x0?void 0x0:_0x88d973[_0xaea741(0xf6)](_0xaea741(0xe4),_0x2bd173);};});});}get['status'](){const _0x2f2369=a7_0x4a98a0;var _0x5c802d;switch((_0x5c802d=this[_0x2f2369(0xf1)])===null||_0x5c802d===void 0x0?void 0x0:_0x5c802d[_0x2f2369(0xe0)]){case a7_0x27fe97[_0x2f2369(0xd1)]:return _0x2f2369(0xee);case a7_0x27fe97['OPEN']:return this[_0x2f2369(0x10e)]===_0x2f2369(0xc9)?'open':_0x2f2369(0xcf);case a7_0x27fe97[_0x2f2369(0x10b)]:return _0x2f2369(0xde);case a7_0x27fe97[_0x2f2369(0x112)]:default:return _0x2f2369(0xc8);}}['emit'](_0x24f46f,_0x1d6563,_0x243faf,_0x2836d3=0x5*0x3e8){const _0x574697=a7_0x4a98a0;if(this[_0x574697(0xf1)]==undefined||this['status']!==_0x574697(0xe7))throw new Error(_0x574697(0x10c));if([_0x574697(0xcf),_0x574697(0xe7),_0x574697(0xe4),_0x574697(0xd9)][_0x574697(0x108)](_0x24f46f))throw new Error('Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error\x20or\x20close');const _0x536ecd=_0x243faf==undefined?0x0:this[_0x574697(0xca)],_0x2d6275=Buffer[_0x574697(0xf8)](_0x24f46f,_0x574697(0xef));if(_0x2d6275[_0x574697(0xe9)]>0xff)throw new Error(_0x574697(0xfd));if(_0x243faf!=undefined){this[_0x574697(0xca)]=(this[_0x574697(0xca)]+0x1)%0x80||0x1;const _0x55a119=setTimeout(()=>{const _0x558541=_0x574697;delete this['pendingRequests'][_0x536ecd],_0x243faf(new Error(_0x558541(0x102)));},_0x2836d3);this['pendingRequests'][_0x536ecd]=_0x46c246=>{if(!(_0x46c246 instanceof Error))clearTimeout(_0x55a119);_0x243faf(_0x46c246);};}const _0x3c6e03=Buffer[_0x574697(0x104)]([Buffer[_0x574697(0xf8)]([_0x536ecd|0x80,_0x2d6275[_0x574697(0xe9)]]),_0x2d6275,this[_0x574697(0x103)](_0x1d6563)]);this[_0x574697(0xf1)][_0x574697(0xdb)](_0x3c6e03);}[a7_0x4a98a0(0xcd)]({data:_0x439f78}){const _0x485627=a7_0x4a98a0;var _0x35d645,_0x224d13;let _0x129b20=Buffer[_0x485627(0xc7)](0x0);if(_0x439f78 instanceof Buffer)_0x129b20=_0x439f78;if(typeof _0x439f78===_0x485627(0xcb))_0x129b20=Buffer[_0x485627(0xf8)](_0x439f78,_0x485627(0xef));if(_0x439f78 instanceof ArrayBuffer)_0x129b20=Buffer['from'](_0x439f78);if(Array[_0x485627(0xed)](_0x439f78))_0x129b20=Buffer[_0x485627(0x104)](_0x439f78);if(this[_0x485627(0x10e)]===_0x485627(0xcc)){const {pingInterval:_0x45b6b3}=this[_0x485627(0xda)](_0x129b20);this['heartbeatInterval']=_0x45b6b3+0x1f4;const _0x1ec7f1=this[_0x485627(0x103)](this['handshakeData']===undefined?null:this[_0x485627(0xdd)]);(_0x35d645=this[_0x485627(0xf1)])===null||_0x35d645===void 0x0?void 0x0:_0x35d645['send'](_0x1ec7f1),this[_0x485627(0x10e)]=_0x485627(0xf7);return;}else{if(this[_0x485627(0x10e)]===_0x485627(0xf7)){this[_0x485627(0x10e)]=_0x485627(0xc9);return;}}const _0x1bd0e1=_0x129b20[_0x485627(0xe6)](0x0),_0x31f7d=_0x1bd0e1&0x7f,_0x83a953=(_0x1bd0e1&0x80)!==0x0;if(_0x83a953){const _0x4bf746=_0x129b20[_0x485627(0xe6)](0x1),_0x404561=_0x129b20[_0x485627(0xfb)](0x2,0x2+_0x4bf746)[_0x485627(0xf5)](_0x485627(0xef));if(['handshake','open',_0x485627(0xe4),_0x485627(0xd9)][_0x485627(0x108)](_0x404561))return;const _0x540876=this['decode'](_0x129b20[_0x485627(0xfb)](0x2+_0x4bf746)),_0x3ed6a9=(_0x224d13=this[_0x485627(0xdc)][_0x404561])!==null&&_0x224d13!==void 0x0?_0x224d13:[];let _0xe9a7f0=![];const _0x44897a=_0x27a0ef=>{const _0x38f9f7=_0x485627;var _0xd3584;if(_0x31f7d===0x0&&_0xe9a7f0)return;if(_0x27a0ef===undefined)return;const _0x33fe85=Buffer['concat']([Buffer[_0x38f9f7(0xf8)]([_0x31f7d&0x7f]),this[_0x38f9f7(0x103)](_0x27a0ef)]);(_0xd3584=this[_0x38f9f7(0xf1)])===null||_0xd3584===void 0x0?void 0x0:_0xd3584[_0x38f9f7(0xdb)](_0x33fe85),_0xe9a7f0=!![];};for(const _0x525a6e of _0x3ed6a9)_0x525a6e[_0x485627(0x111)](undefined,_0x540876,_0x44897a);if(!_0xe9a7f0&&_0x31f7d!==0x0){}return;}const _0x4acabb=this['pendingRequests'][_0x31f7d];if(_0x4acabb==undefined)return;const _0x4c9729=this[_0x485627(0xda)](_0x129b20[_0x485627(0xfb)](0x1));_0x4acabb(_0x4c9729);}[a7_0x4a98a0(0x103)](_0x9a05cd){const _0x309e32=a7_0x4a98a0;return Buffer[_0x309e32(0xf8)](JSON[_0x309e32(0xf0)](_0x9a05cd),_0x309e32(0xef));}[a7_0x4a98a0(0xda)](_0x10d54c){const _0x50d9f7=a7_0x4a98a0;return JSON['parse'](_0x10d54c['toString'](_0x50d9f7(0xef)));}['on'](_0x6a3fe8,_0x544cc9){const _0x52c298=a7_0x4a98a0;if(this[_0x52c298(0xdc)][_0x6a3fe8]==undefined)this[_0x52c298(0xdc)][_0x6a3fe8]=[];this['handlers'][_0x6a3fe8][_0x52c298(0xd0)](_0x544cc9);}[a7_0x4a98a0(0x107)](_0x54a33d,_0x4cb43e){const _0x3bb5fa=a7_0x4a98a0;if(_0x4cb43e==undefined){delete this[_0x3bb5fa(0xdc)][_0x54a33d];return;}const _0x5b4674=this['handlers'][_0x54a33d],_0x34bc28=(_0x5b4674!==null&&_0x5b4674!==void 0x0?_0x5b4674:[])[_0x3bb5fa(0xf3)](_0x202a0b=>_0x202a0b===_0x4cb43e);if(_0x34bc28===-0x1)throw new Error(_0x3bb5fa(0x100)+_0x54a33d+_0x3bb5fa(0xd3));_0x5b4674[_0x3bb5fa(0xd5)](_0x34bc28,0x1);}[a7_0x4a98a0(0x110)](_0x348456,_0x359d59){var _0x14a9f6;const _0x495c4c=(_0x14a9f6=this['handlers'][_0x348456])!==null&&_0x14a9f6!==void 0x0?_0x14a9f6:[];for(const _0x2729f2 of _0x495c4c)_0x2729f2(_0x359d59);}}