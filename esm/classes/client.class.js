const a8_0x1bae40=a8_0x3987;(function(_0x5ec478,_0x3011f2){const _0x4cf428=a8_0x3987,_0x50cef8=_0x5ec478();while(!![]){try{const _0x18e900=parseInt(_0x4cf428(0x1b4))/0x1+-parseInt(_0x4cf428(0x16d))/0x2*(parseInt(_0x4cf428(0x1ce))/0x3)+-parseInt(_0x4cf428(0x1b5))/0x4*(-parseInt(_0x4cf428(0x167))/0x5)+-parseInt(_0x4cf428(0x194))/0x6+parseInt(_0x4cf428(0x1cb))/0x7*(parseInt(_0x4cf428(0x16e))/0x8)+-parseInt(_0x4cf428(0x1ac))/0x9*(parseInt(_0x4cf428(0x1ca))/0xa)+parseInt(_0x4cf428(0x195))/0xb*(parseInt(_0x4cf428(0x18c))/0xc);if(_0x18e900===_0x3011f2)break;else _0x50cef8['push'](_0x50cef8['shift']());}catch(_0x4997be){_0x50cef8['push'](_0x50cef8['shift']());}}}(a8_0xcdb7,0xd03b7));var __awaiter=this&&this[a8_0x1bae40(0x1a7)]||function(_0x1350db,_0x53f164,_0x450731,_0x1f8dfd){function _0x1b1e41(_0x49df88){return _0x49df88 instanceof _0x450731?_0x49df88:new _0x450731(function(_0x4bd67c){_0x4bd67c(_0x49df88);});}return new(_0x450731||(_0x450731=Promise))(function(_0x4d7b95,_0x4c7b79){const _0x43601b=a8_0x3987;function _0x5e4fa2(_0x919ca9){const _0xd73fb3=a8_0x3987;try{_0xd31b37(_0x1f8dfd[_0xd73fb3(0x1c6)](_0x919ca9));}catch(_0x208da5){_0x4c7b79(_0x208da5);}}function _0xdc6a1b(_0x43bf18){const _0x30f7a8=a8_0x3987;try{_0xd31b37(_0x1f8dfd[_0x30f7a8(0x168)](_0x43bf18));}catch(_0x30930f){_0x4c7b79(_0x30930f);}}function _0xd31b37(_0x270f4f){const _0x3d33aa=a8_0x3987;_0x270f4f['done']?_0x4d7b95(_0x270f4f['value']):_0x1b1e41(_0x270f4f[_0x3d33aa(0x17d)])['then'](_0x5e4fa2,_0xdc6a1b);}_0xd31b37((_0x1f8dfd=_0x1f8dfd[_0x43601b(0x19f)](_0x1350db,_0x53f164||[]))[_0x43601b(0x1c6)]());});};function a8_0x3987(_0x54f724,_0x18466a){const _0xcdb76d=a8_0xcdb7();return a8_0x3987=function(_0x398749,_0x29e1ae){_0x398749=_0x398749-0x167;let _0x4eeff9=_0xcdb76d[_0x398749];return _0x4eeff9;},a8_0x3987(_0x54f724,_0x18466a);}import a8_0x59e6fa from'crypto';function a8_0xcdb7(){const _0x22a30b=['The\x20request\x20line\x20of\x20the\x20handshake\x20isn\x27t\x20valid','pendingRequests','status','subarray','5392vduGjV','66488ydEbfn','findIndex','The\x20sec-websocket-key\x20isn\x27t\x20valid','Received\x20emit\x20from\x20client\x20for\x20a\x20reserved\x20event:\x20','writeUInt8','connect','end','utf-8','Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.','heartbeatInterval','readBigUInt64BE','write','Sec-WebSocket-Version:\x2013','createConnection','drain','value','Received\x20message\x20with\x20unsupported\x20opcode:\x20','reconnectTimeout','text','trim','join','heartbeatTimeout','closing','reduce','copy','stringify','Timeout','binary','checkHeartbeat','concat','3602784Icjbcu','requestId','disconnect','socket','closed','Host:\x20','length','wss://','8314272HMrwzP','88qEqQCu','from','Sec-WebSocket-Key:\x20','digest','HTTP/1.1\x20101\x20Switching\x20Protocols','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','split','Received\x20non-standard\x20text\x20message:\x20','Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.','slice','apply','call','connecting','readUInt8','decode','handshake','raise','\x0d\x0a\x0d\x0a','__awaiter','Connection:\x20Upgrade','open','send','receive','4219947Hjjfpg','The\x20websocket\x20is\x20not\x20connected','sha1','update','_status','error','emit','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22','1490748nXjccI','56388TNtXnB','data','The\x20websocket\x20is\x20already\x20disconnected','The\x20websocket\x20is\x20already\x20connected','once','includes','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','writeUInt16BE','\x20HTTP/1.1','GET\x20','base64','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','handlers','toString','url','close','toLowerCase','next','encode','createHash','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','30UbdMhu','322MQmwlS','alloc','pong','732BBZaLg','randomBytes','10fLjmnG','throw'];a8_0xcdb7=function(){return _0x22a30b;};return a8_0xcdb7();}import a8_0x6d353f from'net';import a8_0x5d5180 from'tls';export default class Client{constructor(){const _0x4b70fa=a8_0x1bae40;this['_status']=_0x4b70fa(0x190),this[_0x4b70fa(0x177)]=0xa*0x3e8+0x1f4,this['requestId']=0x1,this[_0x4b70fa(0x16a)]={},this[_0x4b70fa(0x1c1)]={},this[_0x4b70fa(0x1c3)]='',this[_0x4b70fa(0x17f)]=null,this[_0x4b70fa(0x1a4)]=null;}[a8_0x1bae40(0x173)](_0x5f06dc){return __awaiter(this,arguments,void 0x0,function*(_0x10dc81,{handshake:_0x120634,reconnectTimeout:_0x3a6b2c}={}){return new Promise((_0x352eab,_0x15f7a1)=>{const _0x4be4cf=a8_0x3987;if(this[_0x4be4cf(0x1b0)]!==_0x4be4cf(0x190))return _0x15f7a1(new Error(_0x4be4cf(0x1b8)));this[_0x4be4cf(0x1b0)]=_0x4be4cf(0x1a1),this[_0x4be4cf(0x1c3)]=_0x10dc81,this[_0x4be4cf(0x1a4)]=_0x120634!==null&&_0x120634!==void 0x0?_0x120634:null,this['reconnectTimeout']=_0x3a6b2c!==null&&_0x3a6b2c!==void 0x0?_0x3a6b2c:null;const _0x18b29f=_0x10dc81['startsWith'](_0x4be4cf(0x193)),_0x1567c8=_0x10dc81['replace'](/^wss?:\/\//,''),[_0x3bde7e,..._0x5ba7ba]=_0x1567c8['split']('/'),[_0x592a7e,_0x5b456b]=_0x3bde7e['split'](':'),_0x58287f=_0x5b456b?Number['parseInt'](_0x5b456b):_0x18b29f?0x1bb:0x50,_0x4973b6='/'+_0x5ba7ba[_0x4be4cf(0x182)]('/'),_0x59bbc9=_0x18b29f?a8_0x5d5180[_0x4be4cf(0x173)](_0x58287f,_0x592a7e):a8_0x6d353f[_0x4be4cf(0x17b)](_0x58287f,_0x592a7e),_0x376328=a8_0x59e6fa[_0x4be4cf(0x1cf)](0x10)[_0x4be4cf(0x1c2)](_0x4be4cf(0x1bf)),_0x106b5e=a8_0x59e6fa[_0x4be4cf(0x1c8)](_0x4be4cf(0x1ae))[_0x4be4cf(0x1af)](_0x376328+_0x4be4cf(0x1bb))[_0x4be4cf(0x198)]('base64'),_0x453545=[_0x4be4cf(0x1be)+_0x4973b6+_0x4be4cf(0x1bd),_0x4be4cf(0x191)+_0x592a7e,'Upgrade:\x20websocket',_0x4be4cf(0x1a8),_0x4be4cf(0x197)+_0x376328,_0x4be4cf(0x17a)];_0x59bbc9[_0x4be4cf(0x179)](_0x453545['join']('\x0d\x0a')+_0x4be4cf(0x1a6)),_0x59bbc9['once'](_0x4be4cf(0x1b6),_0x253194=>{const _0x4edb23=_0x4be4cf;var _0x290686;const _0x1758b5=_0x253194['indexOf'](_0x4edb23(0x1a6))+0x4,_0x5020c8=_0x253194[_0x4edb23(0x16c)](0x0,_0x1758b5)[_0x4edb23(0x1c2)](),[_0x514ecd,..._0x22a727]=_0x5020c8[_0x4edb23(0x19b)]('\x0d\x0a'),_0x304ee3=_0x22a727[_0x4edb23(0x185)]((_0x3b1851,_0x343fe5)=>{const _0x2ed99f=_0x4edb23;if(_0x343fe5[_0x2ed99f(0x192)]===0x0)return _0x3b1851;const [_0x122029,_0x473e00]=_0x343fe5[_0x2ed99f(0x19b)](':\x20');return _0x3b1851[_0x122029[_0x2ed99f(0x181)]()[_0x2ed99f(0x1c5)]()]=_0x473e00[_0x2ed99f(0x181)](),_0x3b1851;},{});try{if(_0x514ecd!==_0x4edb23(0x199))throw new Error(_0x4edb23(0x169));if(_0x304ee3['sec-websocket-accept']!==_0x106b5e)throw new Error(_0x4edb23(0x170));this[_0x4edb23(0x18f)]=_0x59bbc9,this['socket']['on'](_0x4edb23(0x1b6),_0x4f1bde=>this['receive'](_0x4f1bde)),this['socket']['on']('error',_0x53558e=>this[_0x4edb23(0x1a5)]('error',_0x53558e)),this[_0x4edb23(0x1b0)]=_0x4edb23(0x1a4);if(_0x253194['length']>_0x1758b5)this['receive'](_0x253194['subarray'](_0x1758b5));this[_0x4edb23(0x1aa)](_0x4edb23(0x189),this[_0x4edb23(0x1c7)]((_0x290686=this[_0x4edb23(0x1a4)])!==null&&_0x290686!==void 0x0?_0x290686:null)),_0x352eab();}catch(_0x224100){this[_0x4edb23(0x1a5)](_0x4edb23(0x1b1),_0x224100),_0x15f7a1(_0x224100),this[_0x4edb23(0x1b0)]=_0x4edb23(0x190),_0x59bbc9[_0x4edb23(0x174)]();}});});});}['disconnect'](){return __awaiter(this,arguments,void 0x0,function*(_0x300a56=0x3e8,_0x45cd89='',_0x467ee1=0x1388){return new Promise((_0xdcf486,_0x2061b5)=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x551511=a8_0x3987;if(this[_0x551511(0x1b0)]===_0x551511(0x184)||this[_0x551511(0x1b0)]===_0x551511(0x190))return _0x2061b5(new Error(_0x551511(0x1b7)));const _0x3333fb=Buffer[_0x551511(0x196)](_0x45cd89,_0x551511(0x175)),_0x1e9402=Buffer['alloc'](0x2+_0x3333fb['length']);_0x1e9402[_0x551511(0x1bc)](_0x300a56,0x0),_0x3333fb[_0x551511(0x186)](_0x1e9402,0x2);const _0x8bd95f=_0x1e9402['length'],_0x510f34=_0x8bd95f<0x7e?_0x8bd95f:_0x8bd95f<0x10000?0x7e:0x7f,_0x84c7f4=_0x510f34===0x7e?Buffer[_0x551511(0x196)]([0x88,0x7e,_0x8bd95f>>0x8&0xff,_0x8bd95f&0xff]):_0x510f34===0x7f?Buffer[_0x551511(0x196)]([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x8bd95f>>0x8&0xff,_0x8bd95f&0xff]):Buffer[_0x551511(0x196)]([0x88,_0x8bd95f]),_0x3d5e31=Buffer['concat']([_0x84c7f4,_0x1e9402]);this['socket'][_0x551511(0x179)](_0x3d5e31),this[_0x551511(0x1b0)]=_0x551511(0x184),this[_0x551511(0x18f)][_0x551511(0x1b9)](_0x551511(0x1b6),_0xac82a2=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x33a2dd=_0x551511;if(this['_status']==='closed')return;_0xac82a2[0x0]===0x88?(this[_0x33a2dd(0x1c4)](_0x300a56,_0x45cd89),_0xdcf486()):_0x2061b5(new Error(_0x33a2dd(0x176)));})),_0x467ee1>0x0?setTimeout(()=>{const _0x49f4b0=_0x551511;this[_0x49f4b0(0x1c4)](_0x300a56,_0x45cd89),_0x2061b5(new Error(_0x49f4b0(0x19d)));},_0x467ee1):(this[_0x551511(0x1c4)](_0x300a56,_0x45cd89),_0xdcf486());}));});}[a8_0x1bae40(0x1c4)](){return __awaiter(this,arguments,void 0x0,function*(_0x33c77e=0x3e8,_0x110112=''){const _0x26c50d=a8_0x3987;if(this['_status']==='closed')return;this['_status']=_0x26c50d(0x190),yield new Promise(_0x16ae62=>this[_0x26c50d(0x18f)]['end'](()=>_0x16ae62())),this['raise'](_0x26c50d(0x1c4),{'code':_0x33c77e,'reason':_0x110112});if(this[_0x26c50d(0x17f)]!=undefined)setTimeout(()=>{const _0x57a4a8=_0x26c50d;this[_0x57a4a8(0x173)](this['url'],{'handshake':this[_0x57a4a8(0x1a4)],'reconnectTimeout':this[_0x57a4a8(0x17f)]});},this[_0x26c50d(0x17f)]);});}get[a8_0x1bae40(0x16b)](){const _0x55566d=a8_0x1bae40;return this[_0x55566d(0x1b0)];}[a8_0x1bae40(0x18a)](){const _0xe02986=a8_0x1bae40;if(this[_0xe02986(0x183)]!=undefined)clearTimeout(this[_0xe02986(0x183)]);this[_0xe02986(0x183)]=setTimeout(()=>{const _0x2c6936=_0xe02986;if(this['_status']!==_0x2c6936(0x1a9))return;this['disconnect']();},this['heartbeatInterval']);}['receive'](_0x404aa8){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x4eda52=a8_0x3987;var _0x205d5c,_0x8bbe17;if(this[_0x4eda52(0x1b0)]===_0x4eda52(0x190))return;const _0x28dcda=_0x404aa8[0x0],_0x4994ad=(_0x28dcda&0x80)!==0x0,_0x4f7195=_0x28dcda&0xf,_0x1bb02d=_0x404aa8[0x1],_0x21955d=(_0x1bb02d&0x80)!==0x0;let _0x4f4675=_0x1bb02d&0x7f,_0x1f6f65=0x2;if(_0x4f4675===0x7e)_0x4f4675=_0x404aa8['readUInt16BE'](_0x1f6f65),_0x1f6f65+=0x2;else _0x4f4675===0x7f&&(_0x4f4675=Number(_0x404aa8[_0x4eda52(0x178)](_0x1f6f65)),_0x1f6f65+=0x8);const _0x4a77aa=_0x21955d?_0x404aa8[_0x4eda52(0x19e)](_0x1f6f65,_0x1f6f65+0x4):Buffer[_0x4eda52(0x1cc)](0x0);if(_0x21955d)_0x1f6f65+=0x4;let _0xcdc36=_0x404aa8[_0x4eda52(0x19e)](_0x1f6f65,_0x1f6f65+_0x4f4675);if(_0x21955d){const _0x264d63=Buffer[_0x4eda52(0x1cc)](_0xcdc36['length']);for(let _0x4aabdc=0x0;_0x4aabdc<_0xcdc36[_0x4eda52(0x192)];_0x4aabdc++)_0x264d63[_0x4aabdc]=_0xcdc36[_0x4aabdc]^_0x4a77aa[_0x4aabdc%0x4];_0xcdc36=_0x264d63;}switch(_0x4f7195){case 0x1:this[_0x4eda52(0x1a5)](_0x4eda52(0x1b1),new Error(_0x4eda52(0x19c)+_0xcdc36['toString'](_0x4eda52(0x175))));break;case 0x2:{if(this[_0x4eda52(0x1b0)]===_0x4eda52(0x1a4)){const {pingInterval:_0x5725d7}=this[_0x4eda52(0x1a3)](_0xcdc36);this[_0x4eda52(0x177)]=_0x5725d7+0x1f4,this['_status']=_0x4eda52(0x1a9);break;}const _0x6007c9=_0xcdc36['readUInt8'](0x0);switch(_0x6007c9){case 0x0:{const _0x708dad=_0xcdc36[_0x4eda52(0x16c)](0x1),_0x4d51d7=Buffer[_0x4eda52(0x1cc)](0x5+_0xcdc36[_0x4eda52(0x192)]);_0x4d51d7[_0x4eda52(0x172)](0x1,0x0),_0x708dad['copy'](_0x4d51d7,0x1),this[_0x4eda52(0x1aa)]('binary',_0x4d51d7),this[_0x4eda52(0x18a)]();break;}case 0x1:{break;}case 0x2:{const _0x5658fb=_0xcdc36[_0x4eda52(0x1a2)](0x1),_0x387d54=_0xcdc36[_0x4eda52(0x1a2)](0x2),_0x37339c=_0xcdc36[_0x4eda52(0x16c)](0x3,0x3+_0x387d54)[_0x4eda52(0x1c2)](_0x4eda52(0x175));if([_0x4eda52(0x1a4),_0x4eda52(0x1a9),_0x4eda52(0x1b1),_0x4eda52(0x1c4),'*']['includes'](_0x37339c)){this[_0x4eda52(0x1a5)](_0x4eda52(0x1b1),new Error(_0x4eda52(0x171)+_0x37339c));return;}const _0x302efd=this[_0x4eda52(0x1a3)](_0xcdc36['subarray'](0x3+_0x387d54)),_0x5b12ae=(_0x205d5c=this[_0x4eda52(0x1c1)][_0x37339c])!==null&&_0x205d5c!==void 0x0?_0x205d5c:[];let _0x2d4040;for(const _0x53dfe5 of _0x5b12ae){const _0x3754de=yield _0x53dfe5[_0x4eda52(0x1a0)](undefined,_0x302efd);if(_0x2d4040===undefined)_0x2d4040=_0x3754de;}if(_0x5658fb!==0x0){if(_0x2d4040===undefined)this['raise'](_0x4eda52(0x1b1),new Error('No\x20handler\x20returns\x20a\x20value\x20for\x20event\x20'+_0x37339c+',\x20that\x20requires\x20a\x20response.'));const _0x555469=this[_0x4eda52(0x1c7)](_0x2d4040!==null&&_0x2d4040!==void 0x0?_0x2d4040:null),_0x2bb4cf=Buffer['alloc'](0x2+_0x555469[_0x4eda52(0x192)]);_0x2bb4cf[_0x4eda52(0x172)](0x3,0x0),_0x2bb4cf[_0x4eda52(0x172)](_0x5658fb,0x1),_0x555469['copy'](_0x2bb4cf,0x2),yield this['send'](_0x4eda52(0x189),_0x2bb4cf);}const _0x38f204=(_0x8bbe17=this['handlers']['*'])!==null&&_0x8bbe17!==void 0x0?_0x8bbe17:[];for(const _0x1d3f72 of _0x38f204)_0x1d3f72[_0x4eda52(0x1a0)](undefined,_0x37339c,_0xcdc36);break;}case 0x3:{const _0x37ffc2=_0xcdc36['readUInt8'](0x1),_0x3e6403=this[_0x4eda52(0x16a)][_0x37ffc2];if(_0x3e6403==undefined)return;const _0xc8a4cb=this[_0x4eda52(0x1a3)](_0xcdc36[_0x4eda52(0x16c)](0x2));_0x3e6403(_0xc8a4cb);break;}}break;}case 0x9:this[_0x4eda52(0x1aa)](_0x4eda52(0x1cd),_0xcdc36);break;case 0xa:break;case 0x8:if(this['_status']===_0x4eda52(0x184))return;let _0x4be628=0x3e8,_0x56319e='';_0xcdc36[_0x4eda52(0x192)]>=0x2&&(_0x4be628=_0xcdc36['readUInt16BE'](0x0),_0x56319e=_0xcdc36['subarray'](0x2)[_0x4eda52(0x1c2)](_0x4eda52(0x175)));this[_0x4eda52(0x18e)](_0x4be628,_0x56319e,0x0);break;default:this[_0x4eda52(0x1a5)](_0x4eda52(0x1b1),new Error(_0x4eda52(0x17e)+_0x4f7195));}if(_0x404aa8[_0x4eda52(0x192)]>_0x1f6f65+_0x4f4675)this[_0x4eda52(0x1ab)](_0x404aa8[_0x4eda52(0x16c)](_0x1f6f65+_0x4f4675));});}[a8_0x1bae40(0x1aa)](_0x293108,_0x5640ef){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x43c50c=a8_0x3987;let _0x39a403,_0x29e58a;switch(_0x293108){case _0x43c50c(0x180):_0x39a403=Buffer[_0x43c50c(0x196)](_0x5640ef,'utf-8'),_0x29e58a=0x1;break;case'binary':_0x39a403=_0x5640ef,_0x29e58a=0x2;break;case'ping':_0x39a403=_0x5640ef,_0x29e58a=0x9;break;case _0x43c50c(0x1cd):_0x39a403=_0x5640ef,_0x29e58a=0xa;break;}let _0x4c0efb;if(_0x39a403['length']<=0x7d)_0x4c0efb=Buffer[_0x43c50c(0x196)]([0x80|_0x39a403['length']]);else _0x39a403[_0x43c50c(0x192)]<=0xffff?(_0x4c0efb=Buffer['concat']([Buffer[_0x43c50c(0x196)]([0x80|0x7e]),Buffer['alloc'](0x2)]),_0x4c0efb['writeUInt16BE'](_0x39a403[_0x43c50c(0x192)],0x1)):(_0x4c0efb=Buffer['concat']([Buffer['from']([0x80|0x7f]),Buffer['alloc'](0x8)]),_0x4c0efb['writeBigUInt64BE'](BigInt(_0x39a403[_0x43c50c(0x192)]),0x1));const _0x19a62e=a8_0x59e6fa[_0x43c50c(0x1cf)](0x4),_0x5996a2=Buffer[_0x43c50c(0x1cc)](_0x39a403[_0x43c50c(0x192)]);for(let _0x1ee6af=0x0;_0x1ee6af<_0x39a403['length'];_0x1ee6af++)_0x5996a2[_0x1ee6af]=_0x39a403[_0x1ee6af]^_0x19a62e[_0x1ee6af%0x4];const _0x2446b6=Buffer[_0x43c50c(0x18b)]([Buffer[_0x43c50c(0x196)]([0x80|_0x29e58a]),_0x4c0efb,_0x19a62e,_0x5996a2]);return new Promise((_0x1fba61,_0x4de018)=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x630571=_0x43c50c,_0x2955ec=this[_0x630571(0x18f)]['write'](_0x2446b6,undefined,_0x101d6d=>{if(_0x101d6d==undefined)return;_0x4de018(_0x101d6d);});if(!_0x2955ec)yield new Promise(_0xb0d8ba=>this[_0x630571(0x18f)][_0x630571(0x1b9)](_0x630571(0x17c),_0xb0d8ba));_0x1fba61();}));});}['encode'](_0x553e99){const _0x32ff2b=a8_0x1bae40;return Buffer['from'](JSON[_0x32ff2b(0x187)](_0x553e99),_0x32ff2b(0x175));}[a8_0x1bae40(0x1a3)](_0x2d739c){const _0x20f8ad=a8_0x1bae40;return JSON['parse'](_0x2d739c[_0x20f8ad(0x1c2)](_0x20f8ad(0x175)));}[a8_0x1bae40(0x1b2)](_0x1fbbfe,_0x3f39cf,_0x1e5478){return __awaiter(this,arguments,void 0x0,function*(_0x560018,_0x5d68b8,_0x20d6d3,_0x1a2a9a=0x5*0x3e8){const _0x4a42b6=a8_0x3987;if(this[_0x4a42b6(0x18f)]==undefined||this[_0x4a42b6(0x16b)]!==_0x4a42b6(0x1a9))throw new Error(_0x4a42b6(0x1ad));if([_0x4a42b6(0x1a4),'open','error','close','*'][_0x4a42b6(0x1ba)](_0x560018))throw new Error(_0x4a42b6(0x1b3));const _0x39df34=Buffer[_0x4a42b6(0x196)](_0x560018,'utf-8');if(_0x39df34[_0x4a42b6(0x192)]>0xff)throw new Error(_0x4a42b6(0x1c9));const _0x499eb0=_0x20d6d3==undefined?0x0:this['requestId'];if(_0x20d6d3!=undefined){this['requestId']=(this[_0x4a42b6(0x18d)]+0x1)%0x100||0x1;const _0x3ee0d6=setTimeout(()=>{const _0x79ef30=_0x4a42b6;delete this[_0x79ef30(0x16a)][_0x499eb0],_0x20d6d3[_0x79ef30(0x1a0)](undefined,new Error(_0x79ef30(0x188)));},_0x1a2a9a);this[_0x4a42b6(0x16a)][_0x499eb0]=_0x1f5534=>{const _0x53fcd2=_0x4a42b6;clearTimeout(_0x3ee0d6),_0x20d6d3[_0x53fcd2(0x1a0)](undefined,_0x1f5534);};}const _0x20881e=this['encode'](_0x5d68b8),_0xa009f8=Buffer[_0x4a42b6(0x1cc)](0x3+_0x39df34[_0x4a42b6(0x192)]+_0x20881e['length']);_0xa009f8[_0x4a42b6(0x172)](0x2,0x0),_0xa009f8['writeUInt8'](_0x499eb0,0x1),_0xa009f8['writeUInt8'](_0x39df34[_0x4a42b6(0x192)],0x2),_0x39df34[_0x4a42b6(0x186)](_0xa009f8,0x3),_0x20881e[_0x4a42b6(0x186)](_0xa009f8,0x3+_0x39df34[_0x4a42b6(0x192)]),yield this[_0x4a42b6(0x1aa)](_0x4a42b6(0x189),_0xa009f8);});}['on'](_0x251cd7,_0x3ea640){const _0x289045=a8_0x1bae40;if(this[_0x289045(0x1c1)][_0x251cd7]==undefined)this[_0x289045(0x1c1)][_0x251cd7]=[];this[_0x289045(0x1c1)][_0x251cd7]['push'](_0x3ea640);}['off'](_0x1c77c0,_0x55bb47){const _0x454299=a8_0x1bae40;if(_0x55bb47==undefined){this[_0x454299(0x1c1)][_0x1c77c0]=[];return;}const _0x4bf17a=this[_0x454299(0x1c1)][_0x1c77c0],_0x188915=(_0x4bf17a!==null&&_0x4bf17a!==void 0x0?_0x4bf17a:[])[_0x454299(0x16f)](_0x34ced0=>_0x34ced0===_0x55bb47);if(_0x188915===-0x1)throw new Error(_0x454299(0x1c0)+_0x1c77c0+_0x454299(0x19a));_0x4bf17a['splice'](_0x188915,0x1);}[a8_0x1bae40(0x1a5)](_0xe7e0a1,_0x58d5da){const _0x5753b1=a8_0x1bae40;var _0x2e2514,_0x298026;const _0x56fe0a=(_0x2e2514=this['handlers'][_0xe7e0a1])!==null&&_0x2e2514!==void 0x0?_0x2e2514:[];for(const _0x25c015 of _0x56fe0a)_0x25c015(_0x58d5da);const _0x56328b=(_0x298026=this[_0x5753b1(0x1c1)]['*'])!==null&&_0x298026!==void 0x0?_0x298026:[];for(const _0x3d75c9 of _0x56328b)_0x3d75c9(_0xe7e0a1,_0x58d5da);}}