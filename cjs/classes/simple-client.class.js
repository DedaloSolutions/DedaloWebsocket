'use strict';function a2_0x5f41(_0x5089d1,_0x52dbdb){const _0x2e85c9=a2_0x2e85();return a2_0x5f41=function(_0x5f4188,_0x22ead0){_0x5f4188=_0x5f4188-0x181;let _0x34fa84=_0x2e85c9[_0x5f4188];return _0x34fa84;},a2_0x5f41(_0x5089d1,_0x52dbdb);}const a2_0x3d4e38=a2_0x5f41;(function(_0x3484a2,_0x4dc904){const _0x3c9ffb=a2_0x5f41,_0x3c1dde=_0x3484a2();while(!![]){try{const _0x2bd31b=parseInt(_0x3c9ffb(0x1ad))/0x1*(-parseInt(_0x3c9ffb(0x1a6))/0x2)+parseInt(_0x3c9ffb(0x19d))/0x3+parseInt(_0x3c9ffb(0x184))/0x4*(parseInt(_0x3c9ffb(0x1a5))/0x5)+parseInt(_0x3c9ffb(0x1aa))/0x6+-parseInt(_0x3c9ffb(0x1b2))/0x7+parseInt(_0x3c9ffb(0x1bd))/0x8*(parseInt(_0x3c9ffb(0x19c))/0x9)+-parseInt(_0x3c9ffb(0x1c8))/0xa*(parseInt(_0x3c9ffb(0x19e))/0xb);if(_0x2bd31b===_0x4dc904)break;else _0x3c1dde['push'](_0x3c1dde['shift']());}catch(_0x2ac959){_0x3c1dde['push'](_0x3c1dde['shift']());}}}(a2_0x2e85,0x77ee3));function a2_0x2e85(){const _0x1fe06a=['CLOSING','handle','open','The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','concat','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','next','decode','completed','value','splice','connect','onerror','connecting','onopen','onmessage','raise','from','toString','length','throw','No\x20url\x20specified','handlers','9vEpvdT','361809JqZNZH','1276YlfhBr','apply','handshake','requestId','CLOSED','send','reconnectTimeout','132215iXiBrI','28356JiLyTC','pendingRequests','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','closing','3231198KLbNIM','readyState','string','17yoCrSq','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22','handshakeStatus','findIndex','addEventListener','2941421GbVBJJ','CONNECTING','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','utf-8','encode','stringify','push','removeEventListener','error','includes','call','5152376YvuhWw','status','The\x20websocket\x20is\x20already\x20connected','slice','__awaiter','closed','readUInt8','waiting','done','disconnect','Timeout','28950vnocGl','OPEN','socket','parse','url','sent-info','handshakeData','close','heartbeatTimeout','28YzLPsl'];a2_0x2e85=function(){return _0x1fe06a;};return a2_0x2e85();}var __awaiter=this&&this[a2_0x3d4e38(0x1c1)]||function(_0x4f1a68,_0x2435e1,_0x5b63d8,_0x259042){function _0x3cfca0(_0x54c53a){return _0x54c53a instanceof _0x5b63d8?_0x54c53a:new _0x5b63d8(function(_0x19cb7c){_0x19cb7c(_0x54c53a);});}return new(_0x5b63d8||(_0x5b63d8=Promise))(function(_0xf57713,_0x5691f7){const _0x280cea=a2_0x5f41;function _0x34feda(_0x10c112){const _0x10e245=a2_0x5f41;try{_0x48d449(_0x259042[_0x10e245(0x18b)](_0x10c112));}catch(_0x34b7c5){_0x5691f7(_0x34b7c5);}}function _0x4507d5(_0x59c9a5){const _0x285914=a2_0x5f41;try{_0x48d449(_0x259042[_0x285914(0x199)](_0x59c9a5));}catch(_0x1f27ea){_0x5691f7(_0x1f27ea);}}function _0x48d449(_0x25a932){const _0xb31d28=a2_0x5f41;_0x25a932[_0xb31d28(0x1c5)]?_0xf57713(_0x25a932[_0xb31d28(0x18e)]):_0x3cfca0(_0x25a932[_0xb31d28(0x18e)])['then'](_0x34feda,_0x4507d5);}_0x48d449((_0x259042=_0x259042[_0x280cea(0x19f)](_0x4f1a68,_0x2435e1||[]))[_0x280cea(0x18b)]());});};Object['defineProperty'](exports,'__esModule',{'value':!![]});class SimpleClient{constructor(){const _0x297e89=a2_0x3d4e38;this[_0x297e89(0x1a4)]=null,this[_0x297e89(0x1af)]=_0x297e89(0x1c4),this[_0x297e89(0x1a1)]=0x1,this[_0x297e89(0x1a7)]={},this[_0x297e89(0x19b)]={};}[a2_0x3d4e38(0x190)](){return __awaiter(this,arguments,void 0x0,function*({url:_0xccb233,allowReject:_0x3a5557,handshakeData:_0x3b2520,reconnectTimeout:_0x2a0f1a}={}){return new Promise((_0x1702b9,_0x388f63)=>{const _0x179777=a2_0x5f41;if(this['socket']!=undefined&&this[_0x179777(0x1ca)][_0x179777(0x1ab)]===WebSocket[_0x179777(0x1c9)]){if(_0x3a5557!==!![])_0x388f63(new Error(_0x179777(0x1bf)));else _0x1702b9();}this[_0x179777(0x1ca)]!=undefined&&(this[_0x179777(0x1ca)]['onopen']=()=>{},this[_0x179777(0x1ca)][_0x179777(0x191)]=()=>{},this[_0x179777(0x1ca)][_0x179777(0x194)]=()=>{},this['socket']['onclose']=()=>{},this[_0x179777(0x1af)]=_0x179777(0x1c4));if(this[_0x179777(0x1cc)]==undefined&&_0xccb233==undefined)_0x388f63(new Error(_0x179777(0x19a)));this[_0x179777(0x1cc)]=_0xccb233||this[_0x179777(0x1cc)];if(_0x2a0f1a!==undefined)this[_0x179777(0x1a4)]=_0x2a0f1a;if(_0x3b2520!==undefined)this[_0x179777(0x181)]=_0x3b2520;this[_0x179777(0x1ca)]=new WebSocket(this['url']),this[_0x179777(0x1ca)][_0x179777(0x193)]=_0x27d72d=>{const _0x405cec=_0x179777;this[_0x405cec(0x195)](_0x405cec(0x187),_0x27d72d);},this[_0x179777(0x1ca)][_0x179777(0x191)]=_0x2a7d84=>{const _0x3baed5=_0x179777;this[_0x3baed5(0x195)](_0x3baed5(0x1ba),_0x2a7d84);},this['socket'][_0x179777(0x194)]=_0x3cbbab=>{const _0x561bb4=_0x179777;this[_0x561bb4(0x186)](_0x3cbbab);},this['socket']['onclose']=_0x366687=>{const _0x50ddcd=_0x179777;if(this[_0x50ddcd(0x183)]!=undefined)clearTimeout(this[_0x50ddcd(0x183)]);if(this[_0x50ddcd(0x1a4)]!=undefined)setTimeout(()=>this[_0x50ddcd(0x190)](),this['reconnectTimeout']);this[_0x50ddcd(0x195)](_0x50ddcd(0x182),_0x366687);};const _0x1ca60f=()=>{_0x1702b9(),_0x39e392();},_0x446c4c=_0xcb3e87=>{_0x3a5557?_0x388f63(_0xcb3e87):_0x1702b9(),_0x39e392();};this[_0x179777(0x1ca)][_0x179777(0x1b1)](_0x179777(0x187),_0x1ca60f,{'once':!![]}),this[_0x179777(0x1ca)][_0x179777(0x1b1)](_0x179777(0x1ba),_0x446c4c,{'once':!![]});const _0x39e392=()=>{const _0x327661=_0x179777;var _0x1f38cd,_0x366219;(_0x1f38cd=this[_0x327661(0x1ca)])===null||_0x1f38cd===void 0x0?void 0x0:_0x1f38cd[_0x327661(0x1b9)](_0x327661(0x187),_0x1ca60f),(_0x366219=this[_0x327661(0x1ca)])===null||_0x366219===void 0x0?void 0x0:_0x366219[_0x327661(0x1b9)]('error',_0x446c4c);};});});}[a2_0x3d4e38(0x1c6)](_0x532f06,_0x537204){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x583ee2,_0x500fec)=>{const _0x198b06=a2_0x5f41;if(this[_0x198b06(0x1ca)]==undefined||this[_0x198b06(0x1ca)]['readyState']===WebSocket[_0x198b06(0x185)]||this[_0x198b06(0x1ca)][_0x198b06(0x1ab)]===WebSocket[_0x198b06(0x1a2)])return _0x500fec(new Error(_0x198b06(0x188)));this[_0x198b06(0x1ca)][_0x198b06(0x182)](_0x532f06,_0x537204);const _0x567ad3=()=>{_0x583ee2(),_0x3ccb0c();},_0x29ae10=_0x24143b=>{_0x500fec(_0x24143b),_0x3ccb0c();};this[_0x198b06(0x1ca)]['addEventListener'](_0x198b06(0x182),_0x567ad3,{'once':!![]}),this[_0x198b06(0x1ca)][_0x198b06(0x1b1)]('error',_0x29ae10,{'once':!![]});const _0x3ccb0c=()=>{const _0x330589=_0x198b06;var _0x3a7d98,_0x32b029;(_0x3a7d98=this[_0x330589(0x1ca)])===null||_0x3a7d98===void 0x0?void 0x0:_0x3a7d98[_0x330589(0x1b9)](_0x330589(0x182),_0x567ad3),(_0x32b029=this[_0x330589(0x1ca)])===null||_0x32b029===void 0x0?void 0x0:_0x32b029[_0x330589(0x1b9)](_0x330589(0x1ba),_0x29ae10);};});});}get['status'](){const _0x1139be=a2_0x3d4e38;var _0xb15c99;switch((_0xb15c99=this[_0x1139be(0x1ca)])===null||_0xb15c99===void 0x0?void 0x0:_0xb15c99[_0x1139be(0x1ab)]){case WebSocket[_0x1139be(0x1b3)]:return _0x1139be(0x192);case WebSocket[_0x1139be(0x1c9)]:return this[_0x1139be(0x1af)]==='completed'?'open':_0x1139be(0x1a0);case WebSocket[_0x1139be(0x185)]:return _0x1139be(0x1a9);case WebSocket['CLOSED']:default:return _0x1139be(0x1c2);}}['emit'](_0x3beb8d,_0x36f6df,_0x4bd0b3,_0x5c7c3e=0x5*0x3e8){const _0x237cc9=a2_0x3d4e38;if(this[_0x237cc9(0x1ca)]==undefined||this[_0x237cc9(0x1be)]!==_0x237cc9(0x187))throw new Error('The\x20websocket\x20is\x20not\x20connected');if([_0x237cc9(0x1a0),_0x237cc9(0x187),_0x237cc9(0x1ba),_0x237cc9(0x182),'*'][_0x237cc9(0x1bb)](_0x3beb8d))throw new Error(_0x237cc9(0x1ae));const _0x56881a=_0x4bd0b3==undefined?0x0:this['requestId'],_0x53122c=Buffer[_0x237cc9(0x196)](_0x3beb8d,_0x237cc9(0x1b5));if(_0x53122c[_0x237cc9(0x198)]>0xff)throw new Error(_0x237cc9(0x1b4));if(_0x4bd0b3!=undefined){this['requestId']=(this[_0x237cc9(0x1a1)]+0x1)%0x80||0x1;const _0x48f31b=setTimeout(()=>{const _0x324bed=_0x237cc9;delete this['pendingRequests'][_0x56881a],_0x4bd0b3(new Error(_0x324bed(0x1c7)));},_0x5c7c3e);this[_0x237cc9(0x1a7)][_0x56881a]=_0x1578b0=>{if(!(_0x1578b0 instanceof Error))clearTimeout(_0x48f31b);_0x4bd0b3(_0x1578b0);};}const _0x8a8d2a=Buffer[_0x237cc9(0x189)]([Buffer[_0x237cc9(0x196)]([_0x56881a|0x80,_0x53122c[_0x237cc9(0x198)]]),_0x53122c,this[_0x237cc9(0x1b6)](_0x36f6df)]);this[_0x237cc9(0x1ca)][_0x237cc9(0x1a3)](_0x8a8d2a);}[a2_0x3d4e38(0x186)]({data:_0x3a1615}){const _0x284187=a2_0x3d4e38;var _0x2412d4,_0x1800e4,_0x250277;let _0x3e2343=Buffer['alloc'](0x0);if(_0x3a1615 instanceof Buffer)_0x3e2343=_0x3a1615;if(typeof _0x3a1615===_0x284187(0x1ac))_0x3e2343=Buffer[_0x284187(0x196)](_0x3a1615,_0x284187(0x1b5));if(_0x3a1615 instanceof ArrayBuffer)_0x3e2343=Buffer['from'](_0x3a1615);if(Array['isArray'](_0x3a1615))_0x3e2343=Buffer[_0x284187(0x189)](_0x3a1615);if(this[_0x284187(0x1af)]===_0x284187(0x1c4)){const {pingInterval:_0x3a9881}=this[_0x284187(0x18c)](_0x3e2343),_0x569f6a=this['encode'](this['handshakeData']===undefined?null:this['handshakeData']);(_0x2412d4=this[_0x284187(0x1ca)])===null||_0x2412d4===void 0x0?void 0x0:_0x2412d4[_0x284187(0x1a3)](_0x569f6a),this['handshakeStatus']=_0x284187(0x1cd);return;}else{if(this[_0x284187(0x1af)]===_0x284187(0x1cd)){this[_0x284187(0x1af)]=_0x284187(0x18d);return;}}const _0x8f88ef=_0x3e2343[_0x284187(0x1c3)](0x0),_0x3b3c81=_0x8f88ef&0x7f,_0x35c436=(_0x8f88ef&0x80)!==0x0;if(_0x35c436){const _0x3ac098=_0x3e2343[_0x284187(0x1c3)](0x1),_0xc881b1=_0x3e2343[_0x284187(0x1c0)](0x2,0x2+_0x3ac098)[_0x284187(0x197)](_0x284187(0x1b5));if([_0x284187(0x1a0),_0x284187(0x187),'error',_0x284187(0x182),'*'][_0x284187(0x1bb)](_0xc881b1))return;const _0x1fbc9c=this[_0x284187(0x18c)](_0x3e2343['slice'](0x2+_0x3ac098)),_0x3acf34=(_0x1800e4=this['handlers'][_0xc881b1])!==null&&_0x1800e4!==void 0x0?_0x1800e4:[];let _0x33d5ad=![];const _0x355fe7=_0x20f708=>{const _0x1d2146=_0x284187;var _0x1d53df;if(_0x3b3c81===0x0&&_0x33d5ad)return;if(_0x20f708===undefined)return;const _0x23b749=Buffer[_0x1d2146(0x189)]([Buffer['from']([_0x3b3c81&0x7f]),this[_0x1d2146(0x1b6)](_0x20f708)]);(_0x1d53df=this[_0x1d2146(0x1ca)])===null||_0x1d53df===void 0x0?void 0x0:_0x1d53df[_0x1d2146(0x1a3)](_0x23b749),_0x33d5ad=!![];};for(const _0x4a620a of _0x3acf34)_0x4a620a[_0x284187(0x1bc)](undefined,_0x1fbc9c,_0x355fe7);const _0x12cf36=(_0x250277=this['handlers']['*'])!==null&&_0x250277!==void 0x0?_0x250277:[];for(const _0x45ff84 of _0x12cf36)_0x45ff84[_0x284187(0x1bc)](undefined,_0xc881b1,_0x1fbc9c);if(!_0x33d5ad&&_0x3b3c81!==0x0){}return;}const _0x58003c=this[_0x284187(0x1a7)][_0x3b3c81];if(_0x58003c==undefined)return;const _0x434b52=this['decode'](_0x3e2343['slice'](0x1));_0x58003c(_0x434b52);}[a2_0x3d4e38(0x1b6)](_0x5850da){const _0x5ade93=a2_0x3d4e38;return Buffer[_0x5ade93(0x196)](JSON[_0x5ade93(0x1b7)](_0x5850da),_0x5ade93(0x1b5));}['decode'](_0x1c506b){const _0x26a5f0=a2_0x3d4e38;return JSON[_0x26a5f0(0x1cb)](_0x1c506b[_0x26a5f0(0x197)]('utf-8'));}['on'](_0x4274f1,_0x2b6590){const _0x23f3d8=a2_0x3d4e38;if(this['handlers'][_0x4274f1]==undefined)this['handlers'][_0x4274f1]=[];this[_0x23f3d8(0x19b)][_0x4274f1][_0x23f3d8(0x1b8)](_0x2b6590);}['off'](_0x3a785f,_0x23f841){const _0x25b690=a2_0x3d4e38;if(_0x23f841==undefined){delete this[_0x25b690(0x19b)][_0x3a785f];return;}const _0x495ae8=this[_0x25b690(0x19b)][_0x3a785f],_0x35b986=(_0x495ae8!==null&&_0x495ae8!==void 0x0?_0x495ae8:[])[_0x25b690(0x1b0)](_0x5632e2=>_0x5632e2===_0x23f841);if(_0x35b986===-0x1)throw new Error(_0x25b690(0x18a)+_0x3a785f+_0x25b690(0x1a8));_0x495ae8[_0x25b690(0x18f)](_0x35b986,0x1);}['raise'](_0xa3b88c,_0x3b904a){const _0x36ba4b=a2_0x3d4e38;var _0xa5db5d,_0x3ce14f;const _0xa27c04=(_0xa5db5d=this[_0x36ba4b(0x19b)][_0xa3b88c])!==null&&_0xa5db5d!==void 0x0?_0xa5db5d:[];for(const _0x2dfea2 of _0xa27c04)_0x2dfea2(_0x3b904a);const _0xefb7a4=(_0x3ce14f=this[_0x36ba4b(0x19b)]['*'])!==null&&_0x3ce14f!==void 0x0?_0x3ce14f:[];for(const _0x5a15f7 of _0xefb7a4)_0x5a15f7(_0xa3b88c,_0x3b904a);}}exports['default']=SimpleClient;