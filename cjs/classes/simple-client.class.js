'use strict';function a2_0x2bd9(){const _0x4cb0a0=['value','CONNECTING','readyState','5481474qLmWfe','closing','disconnect','emit','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','push','__awaiter','The\x20websocket\x20is\x20not\x20connected','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','parse','waiting','decode','heartbeatInterval','sent-info','reconnectTimeout','9588968ubkaqx','183837KbHSzt','length','status','closed','1370596oOIWuo','raise','pendingRequests','CLOSING','then','url','The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','done','default','off','CLOSED','includes','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','call','send','5902351itSzJZ','5vhoVms','onopen','close','handle','No\x20url\x20specified','checkHeartbeat','arrayBuffer','slice','handshakeStatus','handlers','addEventListener','connect','handshakeData','splice','next','stringify','defineProperty','requestId','completed','22347000ncmTfW','__esModule','open','40612GWIbId','socket','removeEventListener','onmessage','The\x20websocket\x20is\x20already\x20connected','set','encode','heartbeatTimeout','handshake','onclose','28RWekxU','error','OPEN','onerror'];a2_0x2bd9=function(){return _0x4cb0a0;};return a2_0x2bd9();}const a2_0x5ddf1b=a2_0x3f3f;function a2_0x3f3f(_0x22b2da,_0x14e395){const _0x2bd910=a2_0x2bd9();return a2_0x3f3f=function(_0x3f3f28,_0x5e6605){_0x3f3f28=_0x3f3f28-0x90;let _0x34fe47=_0x2bd910[_0x3f3f28];return _0x34fe47;},a2_0x3f3f(_0x22b2da,_0x14e395);}(function(_0x418d29,_0x4169cc){const _0x1012e5=a2_0x3f3f,_0x3c9bc3=_0x418d29();while(!![]){try{const _0x17ebe1=-parseInt(_0x1012e5(0xd0))/0x1+parseInt(_0x1012e5(0xaa))/0x2+-parseInt(_0x1012e5(0xa6))/0x3*(-parseInt(_0x1012e5(0xda))/0x4)+-parseInt(_0x1012e5(0xba))/0x5*(parseInt(_0x1012e5(0x96))/0x6)+-parseInt(_0x1012e5(0xb9))/0x7+-parseInt(_0x1012e5(0xa5))/0x8+parseInt(_0x1012e5(0xcd))/0x9;if(_0x17ebe1===_0x4169cc)break;else _0x3c9bc3['push'](_0x3c9bc3['shift']());}catch(_0x5a9308){_0x3c9bc3['push'](_0x3c9bc3['shift']());}}}(a2_0x2bd9,0x92c9e));var __awaiter=this&&this[a2_0x5ddf1b(0x9c)]||function(_0x19ffe8,_0x5b0967,_0x23ab75,_0x123707){function _0x1e73cb(_0x3fba64){return _0x3fba64 instanceof _0x23ab75?_0x3fba64:new _0x23ab75(function(_0x301ac3){_0x301ac3(_0x3fba64);});}return new(_0x23ab75||(_0x23ab75=Promise))(function(_0x4d6a04,_0x16d98a){const _0x253626=a2_0x3f3f;function _0x4611ac(_0x3ee0cb){const _0x31f576=a2_0x3f3f;try{_0x2ee0a7(_0x123707[_0x31f576(0xc8)](_0x3ee0cb));}catch(_0x29abd0){_0x16d98a(_0x29abd0);}}function _0x1c3325(_0x1694fa){try{_0x2ee0a7(_0x123707['throw'](_0x1694fa));}catch(_0x360115){_0x16d98a(_0x360115);}}function _0x2ee0a7(_0x58c00c){const _0x41a487=a2_0x3f3f;_0x58c00c[_0x41a487(0xb1)]?_0x4d6a04(_0x58c00c[_0x41a487(0x93)]):_0x1e73cb(_0x58c00c['value'])[_0x41a487(0xae)](_0x4611ac,_0x1c3325);}_0x2ee0a7((_0x123707=_0x123707['apply'](_0x19ffe8,_0x5b0967||[]))[_0x253626(0xc8)]());});};Object[a2_0x5ddf1b(0xca)](exports,a2_0x5ddf1b(0xce),{'value':!![]});class SimpleClient{constructor(){const _0x437e5e=a2_0x5ddf1b;this[_0x437e5e(0xa2)]=0x5*0x3e8+0x1f4,this[_0x437e5e(0xa4)]=null,this[_0x437e5e(0xc2)]='waiting',this[_0x437e5e(0xcb)]=0x1,this[_0x437e5e(0xac)]={},this[_0x437e5e(0xc3)]={},this[_0x437e5e(0xbf)]=()=>{const _0x2155be=_0x437e5e;return;if(this[_0x2155be(0xd7)]!=undefined)clearTimeout(this[_0x2155be(0xd7)]);this[_0x2155be(0xd7)]=setTimeout(()=>{const _0x311d0=_0x2155be;var _0x21b60e;if(this[_0x311d0(0xd1)]!=undefined&&this['socket'][_0x311d0(0x95)]!==WebSocket[_0x311d0(0x91)])return;(_0x21b60e=this[_0x311d0(0xd1)])===null||_0x21b60e===void 0x0?void 0x0:_0x21b60e[_0x311d0(0xbc)]();},this['heartbeatInterval']);};}[a2_0x5ddf1b(0xc5)](){return __awaiter(this,arguments,void 0x0,function*({url:_0x1aa2ef,allowReject:_0x103ffc,handshakeData:_0x130f0c,reconnectTimeout:_0x227966}={}){return new Promise((_0x2cc42c,_0x3d8df5)=>{const _0x1b28e3=a2_0x3f3f;if(this['socket']!=undefined&&this[_0x1b28e3(0xd1)][_0x1b28e3(0x95)]===WebSocket[_0x1b28e3(0x91)]){if(_0x103ffc!==!![])_0x3d8df5(new Error(_0x1b28e3(0xd4)));else _0x2cc42c();}this[_0x1b28e3(0xd1)]!=undefined&&(this['socket']['onopen']=()=>{},this[_0x1b28e3(0xd1)][_0x1b28e3(0x92)]=()=>{},this[_0x1b28e3(0xd1)]['onmessage']=()=>{},this[_0x1b28e3(0xd1)][_0x1b28e3(0xd9)]=()=>{},this[_0x1b28e3(0xc2)]=_0x1b28e3(0xa0));if(this[_0x1b28e3(0xaf)]==undefined&&_0x1aa2ef==undefined)_0x3d8df5(new Error(_0x1b28e3(0xbe)));this[_0x1b28e3(0xaf)]=_0x1aa2ef||this[_0x1b28e3(0xaf)];if(_0x227966!==undefined)this['reconnectTimeout']=_0x227966;if(_0x130f0c!==undefined)this[_0x1b28e3(0xc6)]=_0x130f0c;this[_0x1b28e3(0xd1)]=new WebSocket(this['url']),this[_0x1b28e3(0xd1)][_0x1b28e3(0xbb)]=_0x3312b9=>{const _0x58f1d9=_0x1b28e3;this[_0x58f1d9(0xab)](_0x58f1d9(0xcf),_0x3312b9),this[_0x58f1d9(0xbf)]();},this[_0x1b28e3(0xd1)][_0x1b28e3(0x92)]=_0x48bb60=>{const _0x9c8977=_0x1b28e3;this['raise'](_0x9c8977(0x90),_0x48bb60);},this[_0x1b28e3(0xd1)][_0x1b28e3(0xd3)]=_0x27fec2=>{const _0x3c77e3=_0x1b28e3;this[_0x3c77e3(0xbd)](_0x27fec2),this['checkHeartbeat']();},this[_0x1b28e3(0xd1)]['onclose']=_0xc5f80=>{const _0x253aaf=_0x1b28e3;if(this[_0x253aaf(0xd7)]!=undefined)clearTimeout(this[_0x253aaf(0xd7)]);if(this[_0x253aaf(0xa4)]!=undefined)setTimeout(()=>this[_0x253aaf(0xc5)](),this[_0x253aaf(0xa4)]);this[_0x253aaf(0xab)](_0x253aaf(0xbc),_0xc5f80);};const _0x2f0b34=()=>{_0x2cc42c(),_0x3d3cf2();},_0x495a37=_0x2dd5d3=>{_0x103ffc?_0x3d8df5(_0x2dd5d3):_0x2cc42c(),_0x3d3cf2();};this[_0x1b28e3(0xd1)][_0x1b28e3(0xc4)](_0x1b28e3(0xcf),_0x2f0b34,{'once':!![]}),this[_0x1b28e3(0xd1)][_0x1b28e3(0xc4)](_0x1b28e3(0x90),_0x495a37,{'once':!![]});const _0x3d3cf2=()=>{const _0x28bbf7=_0x1b28e3;var _0x2ec0b9,_0x240ac8;(_0x2ec0b9=this[_0x28bbf7(0xd1)])===null||_0x2ec0b9===void 0x0?void 0x0:_0x2ec0b9[_0x28bbf7(0xd2)]('open',_0x2f0b34),(_0x240ac8=this[_0x28bbf7(0xd1)])===null||_0x240ac8===void 0x0?void 0x0:_0x240ac8[_0x28bbf7(0xd2)](_0x28bbf7(0x90),_0x495a37);};});});}[a2_0x5ddf1b(0x98)](_0x186299,_0x207d2f){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x40fc44,_0x1bd45c)=>{const _0x18ebca=a2_0x3f3f;if(this[_0x18ebca(0xd1)]==undefined||this['socket'][_0x18ebca(0x95)]===WebSocket[_0x18ebca(0xad)]||this[_0x18ebca(0xd1)][_0x18ebca(0x95)]===WebSocket[_0x18ebca(0xb4)])return _0x1bd45c(new Error(_0x18ebca(0xb0)));this['socket'][_0x18ebca(0xbc)](_0x186299,_0x207d2f);const _0x2206b6=()=>{_0x40fc44(),_0x3810f3();},_0x1fc660=_0x4ee1=>{_0x1bd45c(_0x4ee1),_0x3810f3();};this['socket']['addEventListener'](_0x18ebca(0xbc),_0x2206b6,{'once':!![]}),this['socket'][_0x18ebca(0xc4)](_0x18ebca(0x90),_0x1fc660,{'once':!![]});const _0x3810f3=()=>{const _0x12b866=_0x18ebca;var _0x75dbc9,_0x1d56c1;(_0x75dbc9=this[_0x12b866(0xd1)])===null||_0x75dbc9===void 0x0?void 0x0:_0x75dbc9[_0x12b866(0xd2)](_0x12b866(0xbc),_0x2206b6),(_0x1d56c1=this['socket'])===null||_0x1d56c1===void 0x0?void 0x0:_0x1d56c1[_0x12b866(0xd2)]('error',_0x1fc660);};});});}get[a2_0x5ddf1b(0xa8)](){const _0x2b9eec=a2_0x5ddf1b;var _0x28239b;switch((_0x28239b=this[_0x2b9eec(0xd1)])===null||_0x28239b===void 0x0?void 0x0:_0x28239b[_0x2b9eec(0x95)]){case WebSocket[_0x2b9eec(0x94)]:return'connecting';case WebSocket[_0x2b9eec(0x91)]:return this['handshakeStatus']===_0x2b9eec(0xcc)?_0x2b9eec(0xcf):_0x2b9eec(0xd8);case WebSocket[_0x2b9eec(0xad)]:return _0x2b9eec(0x97);case WebSocket[_0x2b9eec(0xb4)]:default:return _0x2b9eec(0xa9);}}[a2_0x5ddf1b(0x99)](_0x440b51,_0x4cee75,_0xfffe98,_0x283fe2=0x5*0x3e8){const _0x250dc7=a2_0x5ddf1b;if(this[_0x250dc7(0xd1)]==undefined||this[_0x250dc7(0xa8)]!==_0x250dc7(0xcf))throw new Error(_0x250dc7(0x9d));if([_0x250dc7(0xd8),_0x250dc7(0xcf),_0x250dc7(0x90),_0x250dc7(0xbc),'*'][_0x250dc7(0xb5)](_0x440b51))throw new Error('Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22');const _0x1afab0=_0xfffe98==undefined?0x0:this[_0x250dc7(0xcb)],_0x5520b9=new TextEncoder()[_0x250dc7(0xd6)](_0x440b51);if(_0x5520b9['length']>0xff)throw new Error(_0x250dc7(0x9e));if(_0xfffe98!=undefined){this['requestId']=(this[_0x250dc7(0xcb)]+0x1)%0x80||0x1;const _0x19f1fb=setTimeout(()=>{delete this['pendingRequests'][_0x1afab0],_0xfffe98(new Error('Timeout'));},_0x283fe2);this[_0x250dc7(0xac)][_0x1afab0]=_0x2239a2=>{if(!(_0x2239a2 instanceof Error))clearTimeout(_0x19f1fb);_0xfffe98(_0x2239a2);};}const _0x373666=this[_0x250dc7(0xd6)](_0x4cee75),_0x3e49f7=new Uint8Array(0x2+_0x5520b9['length']+_0x373666[_0x250dc7(0xa7)]);_0x3e49f7[0x0]=_0x1afab0|0x80,_0x3e49f7[0x1]=_0x5520b9[_0x250dc7(0xa7)],_0x3e49f7[_0x250dc7(0xd5)](_0x5520b9,0x2),_0x3e49f7[_0x250dc7(0xd5)](_0x373666,0x2+_0x5520b9['length']),this[_0x250dc7(0xd1)]['send'](_0x3e49f7);}[a2_0x5ddf1b(0xbd)](_0x351ffd){return __awaiter(this,arguments,void 0x0,function*({data:_0x17b6e3}){const _0x19a580=a2_0x3f3f;var _0x5e4d63,_0x47c4ed,_0x5b2245,_0x55f9c0;const _0x24de54=yield _0x17b6e3[_0x19a580(0xc0)](),_0x3ae809=new Uint8Array(_0x24de54);if(this['handshakeStatus']===_0x19a580(0xa0)){const {pingInterval:_0x5269c7}=this[_0x19a580(0xa1)](_0x3ae809);this[_0x19a580(0xa2)]=_0x5269c7+0x1f4;const _0x32c27b=this[_0x19a580(0xd6)]((_0x5e4d63=this[_0x19a580(0xc6)])!==null&&_0x5e4d63!==void 0x0?_0x5e4d63:null);(_0x47c4ed=this[_0x19a580(0xd1)])===null||_0x47c4ed===void 0x0?void 0x0:_0x47c4ed[_0x19a580(0xb8)](_0x32c27b),this[_0x19a580(0xc2)]=_0x19a580(0xa3);return;}if(this[_0x19a580(0xc2)]===_0x19a580(0xa3)){this['handshakeStatus']='completed';return;}const _0xb306fa=_0x3ae809[0x0],_0x43e81f=_0xb306fa&0x7f,_0xf5915b=(_0xb306fa&0x80)!==0x0;if(_0xf5915b){const _0x4b44c4=_0x3ae809[0x1],_0x3fb978=new TextDecoder()[_0x19a580(0xa1)](_0x3ae809[_0x19a580(0xc1)](0x2,0x2+_0x4b44c4));if([_0x19a580(0xd8),_0x19a580(0xcf),_0x19a580(0x90),_0x19a580(0xbc),'*'][_0x19a580(0xb5)](_0x3fb978))return;const _0x4b5e74=this[_0x19a580(0xa1)](_0x3ae809[_0x19a580(0xc1)](0x2+_0x4b44c4)),_0x457175=(_0x5b2245=this[_0x19a580(0xc3)][_0x3fb978])!==null&&_0x5b2245!==void 0x0?_0x5b2245:[];let _0x3d3fb4=![];const _0x3579b1=_0x4aa4f8=>{const _0x4d923d=_0x19a580;var _0x56b271;if(_0x43e81f===0x0&&_0x3d3fb4)return;if(_0x4aa4f8===undefined)return;const _0x5e7343=new Uint8Array([_0x43e81f&0x7f,...this[_0x4d923d(0xd6)](_0x4aa4f8)]);(_0x56b271=this[_0x4d923d(0xd1)])===null||_0x56b271===void 0x0?void 0x0:_0x56b271[_0x4d923d(0xb8)](_0x5e7343),_0x3d3fb4=!![];};for(const _0x101b1b of _0x457175)_0x101b1b['call'](undefined,_0x4b5e74,_0x3579b1);const _0x117e73=(_0x55f9c0=this[_0x19a580(0xc3)]['*'])!==null&&_0x55f9c0!==void 0x0?_0x55f9c0:[];for(const _0x52c755 of _0x117e73)_0x52c755[_0x19a580(0xb7)](undefined,_0x3fb978,_0x4b5e74);if(!_0x3d3fb4&&_0x43e81f!==0x0){}return;}const _0x3cfffb=this['pendingRequests'][_0x43e81f];if(_0x3cfffb==undefined)return;const _0x49acbb=this[_0x19a580(0xa1)](_0x3ae809[_0x19a580(0xc1)](0x1));_0x3cfffb(_0x49acbb);});}[a2_0x5ddf1b(0xd6)](_0x29461a){const _0x466ab2=a2_0x5ddf1b;return new TextEncoder()[_0x466ab2(0xd6)](JSON[_0x466ab2(0xc9)](_0x29461a));}[a2_0x5ddf1b(0xa1)](_0x4aef7e){const _0x27e735=a2_0x5ddf1b,_0x51c9a3=new TextDecoder()['decode'](_0x4aef7e);return JSON[_0x27e735(0x9f)](_0x51c9a3);}['on'](_0x446fb5,_0x4d112b){const _0xefc336=a2_0x5ddf1b;if(this[_0xefc336(0xc3)][_0x446fb5]==undefined)this[_0xefc336(0xc3)][_0x446fb5]=[];this[_0xefc336(0xc3)][_0x446fb5][_0xefc336(0x9b)](_0x4d112b);}[a2_0x5ddf1b(0xb3)](_0x58b2b3,_0x4630ef){const _0x22ba26=a2_0x5ddf1b;if(_0x4630ef==undefined){delete this[_0x22ba26(0xc3)][_0x58b2b3];return;}const _0x7b1159=this[_0x22ba26(0xc3)][_0x58b2b3],_0x157fab=(_0x7b1159!==null&&_0x7b1159!==void 0x0?_0x7b1159:[])['findIndex'](_0xe5c2f5=>_0xe5c2f5===_0x4630ef);if(_0x157fab===-0x1)throw new Error(_0x22ba26(0x9a)+_0x58b2b3+_0x22ba26(0xb6));_0x7b1159[_0x22ba26(0xc7)](_0x157fab,0x1);}[a2_0x5ddf1b(0xab)](_0x58889e,_0x102aa5){const _0x16e537=a2_0x5ddf1b;var _0x51eaa3,_0x4e7810;const _0xaf4064=(_0x51eaa3=this[_0x16e537(0xc3)][_0x58889e])!==null&&_0x51eaa3!==void 0x0?_0x51eaa3:[];for(const _0x3f991f of _0xaf4064)_0x3f991f(_0x102aa5);const _0x56277=(_0x4e7810=this[_0x16e537(0xc3)]['*'])!==null&&_0x4e7810!==void 0x0?_0x4e7810:[];for(const _0x1d549f of _0x56277)_0x1d549f(_0x58889e,_0x102aa5);}}exports[a2_0x5ddf1b(0xb2)]=SimpleClient;