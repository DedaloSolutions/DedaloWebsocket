'use strict';const a2_0x11be6b=a2_0x2a21;(function(_0x1f6fde,_0x86000){const _0x17c6ce=a2_0x2a21,_0x3bc457=_0x1f6fde();while(!![]){try{const _0x4d7fe5=parseInt(_0x17c6ce(0xd3))/0x1*(-parseInt(_0x17c6ce(0xaa))/0x2)+-parseInt(_0x17c6ce(0xc6))/0x3+-parseInt(_0x17c6ce(0xc1))/0x4+parseInt(_0x17c6ce(0xb0))/0x5*(-parseInt(_0x17c6ce(0xe8))/0x6)+parseInt(_0x17c6ce(0xe7))/0x7+-parseInt(_0x17c6ce(0xa7))/0x8+-parseInt(_0x17c6ce(0xcc))/0x9*(-parseInt(_0x17c6ce(0xee))/0xa);if(_0x4d7fe5===_0x86000)break;else _0x3bc457['push'](_0x3bc457['shift']());}catch(_0x230155){_0x3bc457['push'](_0x3bc457['shift']());}}}(a2_0x305b,0x24b6b));function a2_0x2a21(_0x2d6281,_0x370032){const _0x305b00=a2_0x305b();return a2_0x2a21=function(_0x2a211c,_0x3c11fa){_0x2a211c=_0x2a211c-0xa7;let _0x55035f=_0x305b00[_0x2a211c];return _0x55035f;},a2_0x2a21(_0x2d6281,_0x370032);}var __awaiter=this&&this['__awaiter']||function(_0x22bfad,_0xba9db5,_0x142b28,_0x2793b5){function _0x2aa72a(_0xfad3ef){return _0xfad3ef instanceof _0x142b28?_0xfad3ef:new _0x142b28(function(_0x31940f){_0x31940f(_0xfad3ef);});}return new(_0x142b28||(_0x142b28=Promise))(function(_0x2f350d,_0x247609){const _0x2b9725=a2_0x2a21;function _0x144606(_0x37a65b){const _0x1f06fb=a2_0x2a21;try{_0x1bfbc8(_0x2793b5[_0x1f06fb(0xbb)](_0x37a65b));}catch(_0x556fc9){_0x247609(_0x556fc9);}}function _0x53a95c(_0x5f4d80){try{_0x1bfbc8(_0x2793b5['throw'](_0x5f4d80));}catch(_0x6f22a6){_0x247609(_0x6f22a6);}}function _0x1bfbc8(_0x3377d5){const _0x227768=a2_0x2a21;_0x3377d5[_0x227768(0xab)]?_0x2f350d(_0x3377d5[_0x227768(0xcd)]):_0x2aa72a(_0x3377d5[_0x227768(0xcd)])['then'](_0x144606,_0x53a95c);}_0x1bfbc8((_0x2793b5=_0x2793b5[_0x2b9725(0xbe)](_0x22bfad,_0xba9db5||[]))['next']());});},__importDefault=this&&this[a2_0x11be6b(0xb6)]||function(_0x359046){return _0x359046&&_0x359046['__esModule']?_0x359046:{'default':_0x359046};};Object['defineProperty'](exports,a2_0x11be6b(0xc3),{'value':!![]});function a2_0x305b(){const _0x105f83=['done','slice','call','emit','send','5QuGFjH','handle','removeEventListener','CLOSING','closing','length','__importDefault','requestId','includes','onmessage','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','next','encode','reconnectTimeout','apply','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22','The\x20websocket\x20is\x20not\x20connected','135876lbjrgM','byteLength','__esModule','status','heartbeatInterval','729327WnvJro','default','reduce','handshakeData','isArray','findIndex','52524wAQcpu','value','onerror','closed','close','splice','onopen','24eXYtFn','The\x20websocket\x20is\x20already\x20connected','buffer','pendingRequests','completed','socket','error','url','onclose','stringify','raise','connect','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','addEventListener','sent-info','handshakeStatus','OPEN','open','handshake','connecting','2029370oSYgJp','962310DKWtWw','No\x20url\x20specified','heartbeatTimeout','waiting','push','readyState','1070wnGuUX','Timeout','handlers','decode','842304pIpVQp','checkHeartbeat','set','18436tjnoLN'];a2_0x305b=function(){return _0x105f83;};return a2_0x305b();}const ws_1=__importDefault(require('ws'));class SimpleClient{constructor(){const _0x2c89d2=a2_0x11be6b;this[_0x2c89d2(0xc5)]=0x5*0x3e8+0x1f4,this[_0x2c89d2(0xbd)]=null,this[_0x2c89d2(0xe2)]=_0x2c89d2(0xeb),this[_0x2c89d2(0xb7)]=0x1,this[_0x2c89d2(0xd6)]={},this[_0x2c89d2(0xf0)]={},this[_0x2c89d2(0xa8)]=()=>{const _0x4e7906=_0x2c89d2;return;if(this['heartbeatTimeout']!=undefined)clearTimeout(this[_0x4e7906(0xea)]);this['heartbeatTimeout']=setTimeout(()=>{const _0x3162e4=_0x4e7906;var _0x7abc07;if(this[_0x3162e4(0xd8)]!=undefined&&this[_0x3162e4(0xd8)][_0x3162e4(0xed)]!==ws_1[_0x3162e4(0xc7)][_0x3162e4(0xe3)])return;(_0x7abc07=this[_0x3162e4(0xd8)])===null||_0x7abc07===void 0x0?void 0x0:_0x7abc07[_0x3162e4(0xd0)]();},this['heartbeatInterval']);};}[a2_0x11be6b(0xde)](){return __awaiter(this,arguments,void 0x0,function*({url:_0x460e67,allowReject:_0x34ff5e,handshakeData:_0x21aee0,reconnectTimeout:_0x10da98}={}){return new Promise((_0x41f3de,_0x514073)=>{const _0x476e3f=a2_0x2a21;if(this[_0x476e3f(0xd8)]!=undefined&&this['socket'][_0x476e3f(0xed)]===ws_1[_0x476e3f(0xc7)][_0x476e3f(0xe3)]){if(_0x34ff5e!==!![])_0x514073(new Error(_0x476e3f(0xd4)));else _0x41f3de();}this['socket']!=undefined&&(this[_0x476e3f(0xd8)][_0x476e3f(0xd2)]=()=>{},this[_0x476e3f(0xd8)]['onerror']=()=>{},this['socket'][_0x476e3f(0xb9)]=()=>{},this[_0x476e3f(0xd8)][_0x476e3f(0xdb)]=()=>{},this[_0x476e3f(0xe2)]='waiting');if(this['url']==undefined&&_0x460e67==undefined)_0x514073(new Error(_0x476e3f(0xe9)));this['url']=_0x460e67||this[_0x476e3f(0xda)];if(_0x10da98!==undefined)this[_0x476e3f(0xbd)]=_0x10da98;if(_0x21aee0!==undefined)this[_0x476e3f(0xc9)]=_0x21aee0;this['socket']=new ws_1['default'](this['url']),this[_0x476e3f(0xd8)]['onopen']=_0x1aa701=>{const _0x140a72=_0x476e3f;this[_0x140a72(0xdd)](_0x140a72(0xe4),_0x1aa701),this['checkHeartbeat']();},this[_0x476e3f(0xd8)][_0x476e3f(0xce)]=_0x38c209=>{const _0x1b75a9=_0x476e3f;this[_0x1b75a9(0xdd)](_0x1b75a9(0xd9),_0x38c209);},this['socket'][_0x476e3f(0xb9)]=_0x2f3f5d=>{const _0x1e75d6=_0x476e3f;this[_0x1e75d6(0xb1)](_0x2f3f5d),this[_0x1e75d6(0xa8)]();},this[_0x476e3f(0xd8)][_0x476e3f(0xdb)]=_0x1d19bd=>{const _0x2de7f1=_0x476e3f;if(this[_0x2de7f1(0xea)]!=undefined)clearTimeout(this[_0x2de7f1(0xea)]);if(this['reconnectTimeout']!=undefined)setTimeout(()=>this[_0x2de7f1(0xde)](),this[_0x2de7f1(0xbd)]);this[_0x2de7f1(0xdd)](_0x2de7f1(0xd0),_0x1d19bd);};const _0x40a01d=()=>{_0x41f3de(),_0x4135ea();},_0x1fc68e=_0xfe2e6d=>{_0x34ff5e?_0x514073(_0xfe2e6d):_0x41f3de(),_0x4135ea();};this['socket'][_0x476e3f(0xe0)](_0x476e3f(0xe4),_0x40a01d,{'once':!![]}),this[_0x476e3f(0xd8)][_0x476e3f(0xe0)](_0x476e3f(0xd9),_0x1fc68e,{'once':!![]});const _0x4135ea=()=>{const _0x37274f=_0x476e3f;var _0x2adc26,_0x499d34;(_0x2adc26=this[_0x37274f(0xd8)])===null||_0x2adc26===void 0x0?void 0x0:_0x2adc26[_0x37274f(0xb2)]('open',_0x40a01d),(_0x499d34=this['socket'])===null||_0x499d34===void 0x0?void 0x0:_0x499d34[_0x37274f(0xb2)]('error',_0x1fc68e);};});});}['disconnect'](_0x44dba1,_0x2c48cf){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x52af18,_0x55a904)=>{const _0xb58d14=a2_0x2a21;if(this['socket']==undefined||this['socket'][_0xb58d14(0xed)]===ws_1[_0xb58d14(0xc7)][_0xb58d14(0xb3)]||this['socket'][_0xb58d14(0xed)]===ws_1[_0xb58d14(0xc7)]['CLOSED'])return _0x55a904(new Error('The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection'));this[_0xb58d14(0xd8)][_0xb58d14(0xd0)](_0x44dba1,_0x2c48cf);const _0x121260=()=>{_0x52af18(),_0x2f8671();},_0x139ec9=_0x3d75b7=>{_0x55a904(_0x3d75b7),_0x2f8671();};this[_0xb58d14(0xd8)][_0xb58d14(0xe0)](_0xb58d14(0xd0),_0x121260,{'once':!![]}),this[_0xb58d14(0xd8)][_0xb58d14(0xe0)](_0xb58d14(0xd9),_0x139ec9,{'once':!![]});const _0x2f8671=()=>{const _0x2e032e=_0xb58d14;var _0x118f2f,_0x4e089f;(_0x118f2f=this[_0x2e032e(0xd8)])===null||_0x118f2f===void 0x0?void 0x0:_0x118f2f[_0x2e032e(0xb2)]('close',_0x121260),(_0x4e089f=this[_0x2e032e(0xd8)])===null||_0x4e089f===void 0x0?void 0x0:_0x4e089f[_0x2e032e(0xb2)]('error',_0x139ec9);};});});}get[a2_0x11be6b(0xc4)](){const _0x8f2721=a2_0x11be6b;var _0x986a4f;switch((_0x986a4f=this[_0x8f2721(0xd8)])===null||_0x986a4f===void 0x0?void 0x0:_0x986a4f[_0x8f2721(0xed)]){case ws_1[_0x8f2721(0xc7)]['CONNECTING']:return _0x8f2721(0xe6);case ws_1[_0x8f2721(0xc7)][_0x8f2721(0xe3)]:return this[_0x8f2721(0xe2)]===_0x8f2721(0xd7)?'open':_0x8f2721(0xe5);case ws_1[_0x8f2721(0xc7)]['CLOSING']:return _0x8f2721(0xb4);case ws_1[_0x8f2721(0xc7)]['CLOSED']:default:return _0x8f2721(0xcf);}}[a2_0x11be6b(0xae)](_0x10e59d,_0x1b7e25,_0x3bce0f,_0x1ae8e6=0x5*0x3e8){const _0x33be7b=a2_0x11be6b;if(this['socket']==undefined||this['status']!==_0x33be7b(0xe4))throw new Error(_0x33be7b(0xc0));if(['handshake',_0x33be7b(0xe4),_0x33be7b(0xd9),_0x33be7b(0xd0),'*'][_0x33be7b(0xb8)](_0x10e59d))throw new Error(_0x33be7b(0xbf));const _0x399197=_0x3bce0f==undefined?0x0:this[_0x33be7b(0xb7)],_0x31984f=new TextEncoder()[_0x33be7b(0xbc)](_0x10e59d);if(_0x31984f['length']>0xff)throw new Error(_0x33be7b(0xba));if(_0x3bce0f!=undefined){this[_0x33be7b(0xb7)]=(this[_0x33be7b(0xb7)]+0x1)%0x80||0x1;const _0x457329=setTimeout(()=>{const _0x1e19fe=_0x33be7b;delete this[_0x1e19fe(0xd6)][_0x399197],_0x3bce0f(new Error(_0x1e19fe(0xef)));},_0x1ae8e6);this[_0x33be7b(0xd6)][_0x399197]=_0x5d07ca=>{if(!(_0x5d07ca instanceof Error))clearTimeout(_0x457329);_0x3bce0f(_0x5d07ca);};}const _0x528509=this['encode'](_0x1b7e25),_0x576d88=new Uint8Array(0x2+_0x31984f[_0x33be7b(0xb5)]+_0x528509['length']);_0x576d88[0x0]=_0x399197|0x80,_0x576d88[0x1]=_0x31984f[_0x33be7b(0xb5)],_0x576d88['set'](_0x31984f,0x2),_0x576d88[_0x33be7b(0xa9)](_0x528509,0x2+_0x31984f['length']),this[_0x33be7b(0xd8)][_0x33be7b(0xaf)](_0x576d88);}[a2_0x11be6b(0xb1)](_0x48555f){return __awaiter(this,arguments,void 0x0,function*({data:_0x59d66e}){const _0x1030fc=a2_0x2a21;var _0x2676a5,_0x18f456,_0x2286ce,_0x4e6e38;let _0x43affe=new Uint8Array();if(typeof _0x59d66e==='string')_0x43affe=new TextEncoder()[_0x1030fc(0xbc)](_0x59d66e);else{if(_0x59d66e instanceof Buffer)_0x43affe=new Uint8Array(_0x59d66e['buffer'],_0x59d66e['byteOffset'],_0x59d66e[_0x1030fc(0xc2)]);else{if(_0x59d66e instanceof ArrayBuffer)_0x43affe=new Uint8Array(_0x59d66e);else{if(_0x59d66e instanceof Blob)_0x43affe=new Uint8Array(yield _0x59d66e['arrayBuffer']());else{if(Array[_0x1030fc(0xca)](_0x59d66e)){const _0x3e1d17=_0x59d66e[_0x1030fc(0xc8)]((_0x1b5340,_0x525f0)=>_0x1b5340+_0x525f0['length'],0x0);_0x43affe=new Uint8Array(_0x3e1d17);let _0x5e1913=0x0;for(const _0x1a778c of _0x59d66e){_0x43affe['set'](new Uint8Array(_0x1a778c[_0x1030fc(0xd5)],_0x1a778c['byteOffset'],_0x1a778c[_0x1030fc(0xc2)]),_0x5e1913),_0x5e1913+=_0x1a778c[_0x1030fc(0xb5)];}}else throw new Error('Unsupported\x20data\x20type');}}}}if(this['handshakeStatus']===_0x1030fc(0xeb)){const {pingInterval:_0x35a0fd}=this[_0x1030fc(0xf1)](_0x43affe);this['heartbeatInterval']=_0x35a0fd+0x1f4;const _0x5e609f=this[_0x1030fc(0xbc)]((_0x2676a5=this[_0x1030fc(0xc9)])!==null&&_0x2676a5!==void 0x0?_0x2676a5:null);(_0x18f456=this['socket'])===null||_0x18f456===void 0x0?void 0x0:_0x18f456[_0x1030fc(0xaf)](_0x5e609f),this[_0x1030fc(0xe2)]=_0x1030fc(0xe1);return;}if(this[_0x1030fc(0xe2)]===_0x1030fc(0xe1)){this[_0x1030fc(0xe2)]='completed';return;}const _0x5ca01f=_0x43affe[0x0],_0x5062c7=_0x5ca01f&0x7f,_0x3eae8d=(_0x5ca01f&0x80)!==0x0;if(_0x3eae8d){const _0x20fd14=_0x43affe[0x1],_0x3b61b2=new TextDecoder()[_0x1030fc(0xf1)](_0x43affe[_0x1030fc(0xac)](0x2,0x2+_0x20fd14));if([_0x1030fc(0xe5),_0x1030fc(0xe4),_0x1030fc(0xd9),'close','*'][_0x1030fc(0xb8)](_0x3b61b2))return;const _0xc0f26f=this['decode'](_0x43affe[_0x1030fc(0xac)](0x2+_0x20fd14)),_0x5f074c=(_0x2286ce=this[_0x1030fc(0xf0)][_0x3b61b2])!==null&&_0x2286ce!==void 0x0?_0x2286ce:[];let _0x15be2e=![];const _0x50ef25=_0x4ff8c3=>{const _0x5e621e=_0x1030fc;var _0x4a110b;if(_0x5062c7===0x0&&_0x15be2e)return;if(_0x4ff8c3===undefined)return;const _0x12368d=new Uint8Array([_0x5062c7&0x7f,...this[_0x5e621e(0xbc)](_0x4ff8c3)]);(_0x4a110b=this['socket'])===null||_0x4a110b===void 0x0?void 0x0:_0x4a110b[_0x5e621e(0xaf)](_0x12368d),_0x15be2e=!![];};for(const _0x364499 of _0x5f074c)_0x364499['call'](undefined,_0xc0f26f,_0x50ef25);const _0x4c384d=(_0x4e6e38=this[_0x1030fc(0xf0)]['*'])!==null&&_0x4e6e38!==void 0x0?_0x4e6e38:[];for(const _0x5c2bbe of _0x4c384d)_0x5c2bbe[_0x1030fc(0xad)](undefined,_0x3b61b2,_0xc0f26f);if(!_0x15be2e&&_0x5062c7!==0x0){}return;}const _0x4abcc6=this['pendingRequests'][_0x5062c7];if(_0x4abcc6==undefined)return;const _0x2a0cb0=this[_0x1030fc(0xf1)](_0x43affe[_0x1030fc(0xac)](0x1));_0x4abcc6(_0x2a0cb0);});}[a2_0x11be6b(0xbc)](_0x431903){const _0xd7b72d=a2_0x11be6b;return new TextEncoder()[_0xd7b72d(0xbc)](JSON[_0xd7b72d(0xdc)](_0x431903));}[a2_0x11be6b(0xf1)](_0x31b011){const _0x5efb1b=new TextDecoder()['decode'](_0x31b011);return JSON['parse'](_0x5efb1b);}['on'](_0x2b4210,_0x33d85e){const _0x4bd29d=a2_0x11be6b;if(this[_0x4bd29d(0xf0)][_0x2b4210]==undefined)this[_0x4bd29d(0xf0)][_0x2b4210]=[];this['handlers'][_0x2b4210][_0x4bd29d(0xec)](_0x33d85e);}['off'](_0x47ca8b,_0x58c9b4){const _0x5dffb4=a2_0x11be6b;if(_0x58c9b4==undefined){delete this[_0x5dffb4(0xf0)][_0x47ca8b];return;}const _0x4b6831=this[_0x5dffb4(0xf0)][_0x47ca8b],_0x4d855a=(_0x4b6831!==null&&_0x4b6831!==void 0x0?_0x4b6831:[])[_0x5dffb4(0xcb)](_0x1f5f20=>_0x1f5f20===_0x58c9b4);if(_0x4d855a===-0x1)throw new Error(_0x5dffb4(0xdf)+_0x47ca8b+'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found');_0x4b6831[_0x5dffb4(0xd1)](_0x4d855a,0x1);}[a2_0x11be6b(0xdd)](_0x250462,_0x55f984){const _0x5a8805=a2_0x11be6b;var _0xd489f2,_0x1a5ea8;const _0x47df06=(_0xd489f2=this[_0x5a8805(0xf0)][_0x250462])!==null&&_0xd489f2!==void 0x0?_0xd489f2:[];for(const _0x26e3ac of _0x47df06)_0x26e3ac(_0x55f984);const _0x3f665c=(_0x1a5ea8=this['handlers']['*'])!==null&&_0x1a5ea8!==void 0x0?_0x1a5ea8:[];for(const _0x4aa760 of _0x3f665c)_0x4aa760(_0x250462,_0x55f984);}}exports[a2_0x11be6b(0xc7)]=SimpleClient;