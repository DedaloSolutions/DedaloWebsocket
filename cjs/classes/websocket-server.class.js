'use strict';function a2_0x2c8e(){const _0x74ad22=['1958685MljEil','209973HLLHdm','handlers','__esModule','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','push','call','6aABTsx','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','284836XbKRCx','3768KEwjyB','splice','clients','off','995498uplmTB','defineProperty','raise','__importDefault','close','93978UJRwvF','upgrade','2335870ScbZZP','crypto','connection','3nJFDel','default','4074xJgoXw','listen'];a2_0x2c8e=function(){return _0x74ad22;};return a2_0x2c8e();}function a2_0xca14(_0x200fc1,_0x4d9a40){const _0x2c8eef=a2_0x2c8e();return a2_0xca14=function(_0xca1406,_0x45163f){_0xca1406=_0xca1406-0xd6;let _0x577b0d=_0x2c8eef[_0xca1406];return _0x577b0d;},a2_0xca14(_0x200fc1,_0x4d9a40);}const a2_0x146d02=a2_0xca14;(function(_0xaf1096,_0x531690){const _0x4b32c9=a2_0xca14,_0xfee26b=_0xaf1096();while(!![]){try{const _0x414083=-parseInt(_0x4b32c9(0xf1))/0x1+-parseInt(_0x4b32c9(0xe2))/0x2+parseInt(_0x4b32c9(0xec))/0x3*(parseInt(_0x4b32c9(0xdd))/0x4)+parseInt(_0x4b32c9(0xf0))/0x5*(parseInt(_0x4b32c9(0xdb))/0x6)+parseInt(_0x4b32c9(0xee))/0x7*(parseInt(_0x4b32c9(0xde))/0x8)+-parseInt(_0x4b32c9(0xe7))/0x9+parseInt(_0x4b32c9(0xe9))/0xa;if(_0x414083===_0x531690)break;else _0xfee26b['push'](_0xfee26b['shift']());}catch(_0x5702a7){_0xfee26b['push'](_0xfee26b['shift']());}}}(a2_0x2c8e,0x3da4b));var __importDefault=this&&this[a2_0x146d02(0xe5)]||function(_0x4d6d16){const _0x2effbf=a2_0x146d02;return _0x4d6d16&&_0x4d6d16[_0x2effbf(0xd7)]?_0x4d6d16:{'default':_0x4d6d16};};Object[a2_0x146d02(0xe3)](exports,'__esModule',{'value':!![]});const crypto_1=__importDefault(require(a2_0x146d02(0xea))),websocket_client_server_class_1=__importDefault(require('./websocket-client-server.class'));class WebsocketServer{constructor(){const _0x5c8478=a2_0x146d02;this[_0x5c8478(0xe0)]={},this[_0x5c8478(0xd6)]={};}[a2_0x146d02(0xef)](_0x4b3219){const _0x5b3f5e=a2_0x146d02;_0x4b3219['on'](_0x5b3f5e(0xe8),(_0x433284,_0x18d59a)=>{const _0x42ea64=_0x5b3f5e,_0xcbd254=websocket_client_server_class_1[_0x42ea64(0xed)]['fromUpgradeRequest'](_0x433284,_0x18d59a),_0x43e6e1=crypto_1[_0x42ea64(0xed)]['randomUUID']();if(_0xcbd254===null)return;this[_0x42ea64(0xe0)][_0x43e6e1]=_0xcbd254,_0xcbd254['on'](_0x42ea64(0xe6),()=>{const _0x1a976c=_0x42ea64;delete this[_0x1a976c(0xe0)][_0x43e6e1];}),this['raise'](_0x42ea64(0xeb),[_0xcbd254,_0x43e6e1]);});}['on'](_0x2d38b7,_0x3ea24e){const _0x552d2a=a2_0x146d02;if(this[_0x552d2a(0xd6)][_0x2d38b7]==undefined)this[_0x552d2a(0xd6)][_0x2d38b7]=[];this[_0x552d2a(0xd6)][_0x2d38b7][_0x552d2a(0xd9)](_0x3ea24e);}[a2_0x146d02(0xe1)](_0x200e45,_0xe84037){const _0x245032=a2_0x146d02;if(_0xe84037==undefined){this[_0x245032(0xd6)][_0x200e45]=[];return;}const _0x169e18=this[_0x245032(0xd6)][_0x200e45],_0x175804=(_0x169e18!==null&&_0x169e18!==void 0x0?_0x169e18:[])['findIndex'](_0xa10a6b=>_0xa10a6b===_0xe84037);if(_0x175804===-0x1)throw new Error(_0x245032(0xdc)+_0x200e45+_0x245032(0xd8));_0x169e18[_0x245032(0xdf)](_0x175804,0x1);}[a2_0x146d02(0xe4)](_0x159945,[_0x3ab627,_0x239cf9]){const _0x1e2fc2=a2_0x146d02;var _0x4f35ae;const _0x4f60d1=(_0x4f35ae=this[_0x1e2fc2(0xd6)][_0x159945])!==null&&_0x4f35ae!==void 0x0?_0x4f35ae:[];for(const _0x2d32d8 of _0x4f60d1){_0x2d32d8[_0x1e2fc2(0xda)](undefined,...[_0x3ab627,_0x239cf9]);}}}exports[a2_0x146d02(0xed)]=WebsocketServer;