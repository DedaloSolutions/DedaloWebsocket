'use strict';const a2_0x1f1eb8=a2_0x109b;(function(_0x4ddcc8,_0x117e3d){const _0xc38706=a2_0x109b,_0x3c443d=_0x4ddcc8();while(!![]){try{const _0x51ca6f=parseInt(_0xc38706(0x1a9))/0x1*(parseInt(_0xc38706(0x191))/0x2)+parseInt(_0xc38706(0x194))/0x3*(parseInt(_0xc38706(0x1ab))/0x4)+-parseInt(_0xc38706(0x195))/0x5+-parseInt(_0xc38706(0x1a3))/0x6*(-parseInt(_0xc38706(0x19d))/0x7)+parseInt(_0xc38706(0x1ad))/0x8*(-parseInt(_0xc38706(0x197))/0x9)+-parseInt(_0xc38706(0x19c))/0xa*(-parseInt(_0xc38706(0x1a4))/0xb)+-parseInt(_0xc38706(0x1af))/0xc;if(_0x51ca6f===_0x117e3d)break;else _0x3c443d['push'](_0x3c443d['shift']());}catch(_0x279704){_0x3c443d['push'](_0x3c443d['shift']());}}}(a2_0x18a5,0xee8e3));var __importDefault=this&&this[a2_0x1f1eb8(0x19e)]||function(_0x840d87){const _0x408a8f=a2_0x1f1eb8;return _0x840d87&&_0x840d87[_0x408a8f(0x1ac)]?_0x840d87:{'default':_0x840d87};};Object[a2_0x1f1eb8(0x19b)](exports,a2_0x1f1eb8(0x1ac),{'value':!![]});const crypto_1=__importDefault(require(a2_0x1f1eb8(0x1a7))),websocket_client_server_class_1=__importDefault(require('./websocket-client-server.class'));class WebsocketServer{constructor(){this['clients']={},this['handlers']={};}[a2_0x1f1eb8(0x199)](_0x89698e){_0x89698e['on']('upgrade',(_0x309084,_0x22384d)=>{const _0x1e9bae=a2_0x109b,_0x45923e=websocket_client_server_class_1['default'][_0x1e9bae(0x198)](_0x309084,_0x22384d),_0x1cd637=crypto_1[_0x1e9bae(0x19f)][_0x1e9bae(0x1a5)]();if(_0x45923e===null)return;this[_0x1e9bae(0x1a0)][_0x1cd637]=_0x45923e,_0x45923e['on'](_0x1e9bae(0x1ae),()=>{delete this['clients'][_0x1cd637];}),this['raise'](_0x1e9bae(0x1a6),[_0x45923e,_0x1cd637]);});}['on'](_0x4c0adc,_0x162891){const _0x2845f3=a2_0x1f1eb8;if(this[_0x2845f3(0x19a)][_0x4c0adc]==undefined)this['handlers'][_0x4c0adc]=[];this[_0x2845f3(0x19a)][_0x4c0adc][_0x2845f3(0x1a2)](_0x162891);}[a2_0x1f1eb8(0x1a1)](_0x42dbb9,_0x18e837){const _0x272917=a2_0x1f1eb8;if(_0x18e837==undefined){this[_0x272917(0x19a)][_0x42dbb9]=[];return;}const _0x301747=this[_0x272917(0x19a)][_0x42dbb9],_0x6adedb=(_0x301747!==null&&_0x301747!==void 0x0?_0x301747:[])[_0x272917(0x1aa)](_0x1f7e78=>_0x1f7e78===_0x18e837);if(_0x6adedb===-0x1)throw new Error(_0x272917(0x1a8)+_0x42dbb9+_0x272917(0x193));_0x301747[_0x272917(0x196)](_0x6adedb,0x1);}['raise'](_0x55748a,[_0x3a6f56,_0x13baa3]){const _0x275be3=a2_0x1f1eb8;var _0x2fed94;const _0x2169bf=(_0x2fed94=this['handlers'][_0x55748a])!==null&&_0x2fed94!==void 0x0?_0x2fed94:[];for(const _0x5794e1 of _0x2169bf){_0x5794e1[_0x275be3(0x192)](undefined,...[_0x3a6f56,_0x13baa3]);}}}function a2_0x18a5(){const _0x128cae=['off','push','18BrDztF','16951yZrZCH','randomUUID','open','crypto','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','695261srHwZM','findIndex','11688wBuJfH','__esModule','32dnZaGg','close','25414776ztFqHY','2VFWGrV','call','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','1593FjdbHl','7509420ZEnKYY','splice','2486178GlkFOF','fromUpgradeRequest','listen','handlers','defineProperty','12310bxMakr','3635471izHBYl','__importDefault','default','clients'];a2_0x18a5=function(){return _0x128cae;};return a2_0x18a5();}function a2_0x109b(_0x8bd01d,_0x509975){const _0x18a5e9=a2_0x18a5();return a2_0x109b=function(_0x109bb3,_0x1185cc){_0x109bb3=_0x109bb3-0x191;let _0x148192=_0x18a5e9[_0x109bb3];return _0x148192;},a2_0x109b(_0x8bd01d,_0x509975);}exports[a2_0x1f1eb8(0x19f)]=WebsocketServer;