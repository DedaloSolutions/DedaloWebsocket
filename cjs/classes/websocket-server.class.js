'use strict';function a5_0xafca(){const _0x16c670=['3353ZkvsYi','handlers','findIndex','crypto','5160vdXLxM','284836XbKRCx','listen','splice','push','clients','209973HLLHdm','call','1958685MljEil','fromUpgradeRequest','3768KEwjyB','shift','422085kWurjt','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','1727874YFDSKI','2FGqbYP','257161LNLwXA','__importDefault','335216NBVKOj','__esModule','upgrade','2335870ScbZZP','9pzvLza','995498uplmTB','3nJFDel','close','randomUUID','3529970WeokaA','705672PQniOp','raise'];a5_0xafca=function(){return _0x16c670;};return a5_0xafca();}const a5_0x10788e=a5_0x2f8b;(function(_0x9dc09c,_0x463241){const _0x106978=a5_0x2f8b,_0x398062=_0x9dc09c();while(!![]){try{const _0x46789c=-parseInt(_0x106978(0x186))/0x1*(-parseInt(_0x106978(0x185))/0x2)+-parseInt(_0x106978(0x192))/0x3+-parseInt(_0x106978(0x188))/0x4+-parseInt(_0x106978(0x182))/0x5+-parseInt(_0x106978(0x184))/0x6+-parseInt(_0x106978(0x194))/0x7*(-parseInt(_0x106978(0x198))/0x8)+-parseInt(_0x106978(0x18c))/0x9*(-parseInt(_0x106978(0x191))/0xa);if(_0x46789c===_0x463241)break;else _0x398062['push'](_0x398062['shift']());}catch(_0x7da9d7){_0x398062['push'](_0x398062['shift']());}}}(a5_0xafca,0x37969));function a2_0x2c8e(){const _0x4f3b6f=a5_0x2f8b,_0x2c765a=[_0x4f3b6f(0x17e),_0x4f3b6f(0x17c),_0x4f3b6f(0x195),_0x4f3b6f(0x189),_0x4f3b6f(0x183),_0x4f3b6f(0x17a),_0x4f3b6f(0x17d),'6aABTsx','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20',_0x4f3b6f(0x199),_0x4f3b6f(0x180),_0x4f3b6f(0x19b),_0x4f3b6f(0x17b),'off',_0x4f3b6f(0x18d),'defineProperty',_0x4f3b6f(0x193),_0x4f3b6f(0x187),_0x4f3b6f(0x18f),'93978UJRwvF',_0x4f3b6f(0x18a),_0x4f3b6f(0x18b),_0x4f3b6f(0x197),'connection',_0x4f3b6f(0x18e),'default','4074xJgoXw',_0x4f3b6f(0x19a)];return a2_0x2c8e=function(){return _0x2c765a;},a2_0x2c8e();}function a2_0xca14(_0x411e86,_0x29c2b7){const _0x2ede97=a2_0x2c8e();return a2_0xca14=function(_0x5590a0,_0x3e46d5){_0x5590a0=_0x5590a0-0xd6;let _0x3952de=_0x2ede97[_0x5590a0];return _0x3952de;},a2_0xca14(_0x411e86,_0x29c2b7);}const a2_0x146d02=a2_0xca14;(function(_0xfa492,_0x6a8ba0){const _0x3e6944=a5_0x2f8b,_0x226aa6=a2_0xca14,_0x3a78c1=_0xfa492();while(!![]){try{const _0x243a5c=-parseInt(_0x226aa6(0xf1))/0x1+-parseInt(_0x226aa6(0xe2))/0x2+parseInt(_0x226aa6(0xec))/0x3*(parseInt(_0x226aa6(0xdd))/0x4)+parseInt(_0x226aa6(0xf0))/0x5*(parseInt(_0x226aa6(0xdb))/0x6)+parseInt(_0x226aa6(0xee))/0x7*(parseInt(_0x226aa6(0xde))/0x8)+-parseInt(_0x226aa6(0xe7))/0x9+parseInt(_0x226aa6(0xe9))/0xa;if(_0x243a5c===_0x6a8ba0)break;else _0x3a78c1['push'](_0x3a78c1[_0x3e6944(0x181)]());}catch(_0x5d0363){_0x3a78c1[_0x3e6944(0x17a)](_0x3a78c1[_0x3e6944(0x181)]());}}}(a2_0x2c8e,0x3da4b));function a5_0x2f8b(_0x39300a,_0x3f7da2){const _0xafca96=a5_0xafca();return a5_0x2f8b=function(_0x2f8b6e,_0x154fb0){_0x2f8b6e=_0x2f8b6e-0x17a;let _0x1a9c2f=_0xafca96[_0x2f8b6e];return _0x1a9c2f;},a5_0x2f8b(_0x39300a,_0x3f7da2);}var __importDefault=this&&this[a2_0x146d02(0xe5)]||function(_0x2490ce){const _0xc4ef8e=a2_0x146d02;return _0x2490ce&&_0x2490ce[_0xc4ef8e(0xd7)]?_0x2490ce:{'default':_0x2490ce};};Object[a2_0x146d02(0xe3)](exports,a5_0x10788e(0x189),{'value':!![]});const crypto_1=__importDefault(require(a2_0x146d02(0xea))),websocket_client_server_class_1=__importDefault(require('./websocket-client-server.class'));class WebsocketServer{constructor(){const _0x362e5f=a2_0x146d02;this[_0x362e5f(0xe0)]={},this[_0x362e5f(0xd6)]={};}[a2_0x146d02(0xef)](_0x521994){const _0x48cedc=a2_0x146d02;_0x521994['on'](_0x48cedc(0xe8),(_0x47bb25,_0x16b313)=>{const _0x1664b1=a5_0x2f8b,_0x1fa68c=_0x48cedc,_0x3fb173=websocket_client_server_class_1[_0x1fa68c(0xed)][_0x1664b1(0x17f)](_0x47bb25,_0x16b313),_0x1ead41=crypto_1[_0x1fa68c(0xed)][_0x1664b1(0x190)]();if(_0x3fb173===null)return;this[_0x1fa68c(0xe0)][_0x1ead41]=_0x3fb173,_0x3fb173['on'](_0x1fa68c(0xe6),()=>{const _0x178948=_0x1fa68c;delete this[_0x178948(0xe0)][_0x1ead41];}),this[_0x1664b1(0x193)](_0x1fa68c(0xeb),[_0x3fb173,_0x1ead41]);});}['on'](_0x2a8b30,_0x289159){const _0xe57876=a2_0x146d02;if(this[_0xe57876(0xd6)][_0x2a8b30]==undefined)this[_0xe57876(0xd6)][_0x2a8b30]=[];this[_0xe57876(0xd6)][_0x2a8b30][_0xe57876(0xd9)](_0x289159);}[a2_0x146d02(0xe1)](_0x578894,_0x599818){const _0x4e67a0=a5_0x10788e,_0x4f08e3=a2_0x146d02;if(_0x599818==undefined){this[_0x4f08e3(0xd6)][_0x578894]=[];return;}const _0x6eec05=this[_0x4f08e3(0xd6)][_0x578894],_0x211c72=(_0x6eec05!==null&&_0x6eec05!==void 0x0?_0x6eec05:[])[_0x4e67a0(0x196)](_0x4f107e=>_0x4f107e===_0x599818);if(_0x211c72===-0x1)throw new Error(_0x4f08e3(0xdc)+_0x578894+_0x4f08e3(0xd8));_0x6eec05[_0x4f08e3(0xdf)](_0x211c72,0x1);}[a2_0x146d02(0xe4)](_0x45c52f,[_0x21b086,_0x329a92]){const _0x530b62=a2_0x146d02;var _0x557bb1;const _0x582d3d=(_0x557bb1=this[_0x530b62(0xd6)][_0x45c52f])!==null&&_0x557bb1!==void 0x0?_0x557bb1:[];for(const _0x4dbbe6 of _0x582d3d){_0x4dbbe6[_0x530b62(0xda)](undefined,...[_0x21b086,_0x329a92]);}}}exports[a2_0x146d02(0xed)]=WebsocketServer;