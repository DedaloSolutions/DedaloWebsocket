'use strict';const a1_0x5cd283=a1_0x4020;(function(_0x4b3e7d,_0xc9eed4){const _0x55815d=a1_0x4020,_0x5ab62f=_0x4b3e7d();while(!![]){try{const _0x5c6d40=parseInt(_0x55815d(0x1b9))/0x1+parseInt(_0x55815d(0x1a8))/0x2+-parseInt(_0x55815d(0x1a2))/0x3+parseInt(_0x55815d(0x1bb))/0x4+parseInt(_0x55815d(0x1b0))/0x5*(parseInt(_0x55815d(0x19d))/0x6)+parseInt(_0x55815d(0x1a6))/0x7*(parseInt(_0x55815d(0x18a))/0x8)+-parseInt(_0x55815d(0x1b2))/0x9*(parseInt(_0x55815d(0x185))/0xa);if(_0x5c6d40===_0xc9eed4)break;else _0x5ab62f['push'](_0x5ab62f['shift']());}catch(_0x170dec){_0x5ab62f['push'](_0x5ab62f['shift']());}}}(a1_0x14fc,0x677f4));function a1_0x14fc(){const _0x25fa8b=['removeEventListener','off','completed','from','640ScsCff','heartbeatInterval','raise','pong','socket','value','handshake','emit','isArray','message','findIndex','error','requestId','next','done','open','includes','handshakeStatus','send','6GpChqN','waiting','handle','handlers','pendingRequests','2538651lUleHF','connect','CLOSING','then','66500sqvUqP','parse','1239886tEOAxz','connecting','default','addEventListener','toString','status','__esModule','__awaiter','2028130AWOrOB','sent-info','18iUBGLj','reconnectTimeout','heartbeatTimeout','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error\x20or\x20close','No\x20url\x20specified','OPEN','The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','774547xltaIH','close','64252xIzGxK','CLOSED','The\x20websocket\x20is\x20not\x20connected','closing','readyState','encode','readUInt8','length','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','handshakeData','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','disconnect','string','slice','decode','url','concat','alloc','checkHeartbeat','stringify','ping','removeAllListeners','throw','6530190ifQqIe'];a1_0x14fc=function(){return _0x25fa8b;};return a1_0x14fc();}function a1_0x4020(_0x16d052,_0x5e3163){const _0x14fc41=a1_0x14fc();return a1_0x4020=function(_0x402053,_0x10a2cc){_0x402053=_0x402053-0x185;let _0x51e2a8=_0x14fc41[_0x402053];return _0x51e2a8;},a1_0x4020(_0x16d052,_0x5e3163);}var __awaiter=this&&this[a1_0x5cd283(0x1af)]||function(_0x122f50,_0x4f90a8,_0x7b9e95,_0x22ae7d){function _0x3500fa(_0xe2dc76){return _0xe2dc76 instanceof _0x7b9e95?_0xe2dc76:new _0x7b9e95(function(_0x44d504){_0x44d504(_0xe2dc76);});}return new(_0x7b9e95||(_0x7b9e95=Promise))(function(_0x318091,_0x38cc47){const _0x686455=a1_0x4020;function _0x32b15c(_0x16b77){const _0x381275=a1_0x4020;try{_0x404f5e(_0x22ae7d[_0x381275(0x197)](_0x16b77));}catch(_0x1a566b){_0x38cc47(_0x1a566b);}}function _0xb4bd63(_0x4e6a01){const _0x2acc28=a1_0x4020;try{_0x404f5e(_0x22ae7d[_0x2acc28(0x1d1)](_0x4e6a01));}catch(_0x24a217){_0x38cc47(_0x24a217);}}function _0x404f5e(_0x29f4b7){const _0x17ddb0=a1_0x4020;_0x29f4b7[_0x17ddb0(0x198)]?_0x318091(_0x29f4b7['value']):_0x3500fa(_0x29f4b7[_0x17ddb0(0x18f)])[_0x17ddb0(0x1a5)](_0x32b15c,_0xb4bd63);}_0x404f5e((_0x22ae7d=_0x22ae7d['apply'](_0x122f50,_0x4f90a8||[]))[_0x686455(0x197)]());});},__importDefault=this&&this['__importDefault']||function(_0x43ad21){return _0x43ad21&&_0x43ad21['__esModule']?_0x43ad21:{'default':_0x43ad21};};Object['defineProperty'](exports,a1_0x5cd283(0x1ae),{'value':!![]});const ws_1=__importDefault(require('ws'));class WebsocketClient{constructor(){const _0x180fac=a1_0x5cd283;this['heartbeatInterval']=0x5*0x3e8+0x1f4,this[_0x180fac(0x1b3)]=null,this[_0x180fac(0x19b)]=_0x180fac(0x19e),this[_0x180fac(0x196)]=0x1,this[_0x180fac(0x1a1)]={},this[_0x180fac(0x1a0)]={},this['checkHeartbeat']=()=>{const _0x1e4587=_0x180fac;if(this['heartbeatTimeout']!=undefined)clearTimeout(this[_0x1e4587(0x1b4)]);this[_0x1e4587(0x1b4)]=setTimeout(()=>{const _0x1071a9=_0x1e4587;var _0x4130de;if(this[_0x1071a9(0x18e)]!=undefined&&this[_0x1071a9(0x18e)][_0x1071a9(0x1bf)]!==ws_1['default']['OPEN'])return;(_0x4130de=this[_0x1071a9(0x18e)])===null||_0x4130de===void 0x0?void 0x0:_0x4130de[_0x1071a9(0x1ba)]();},this[_0x1e4587(0x18b)]);};}[a1_0x5cd283(0x1a3)](){return __awaiter(this,arguments,void 0x0,function*({url:_0x3a6480,allowReject:_0x3d9e57,handshakeData:_0x44def4,reconnectTimeout:_0x3c103a}={}){return new Promise((_0x16e55e,_0x253269)=>{const _0x5ad216=a1_0x4020;if(this[_0x5ad216(0x18e)]!=undefined&&this[_0x5ad216(0x18e)][_0x5ad216(0x1bf)]===ws_1[_0x5ad216(0x1aa)][_0x5ad216(0x1b7)]){if(_0x3d9e57!==!![])_0x253269(new Error('The\x20websocket\x20is\x20already\x20connected'));else _0x16e55e();}this[_0x5ad216(0x18e)]!=undefined&&(this[_0x5ad216(0x18e)][_0x5ad216(0x1d0)](),this[_0x5ad216(0x18e)]['off'](_0x5ad216(0x1cf),this[_0x5ad216(0x1cd)]),this[_0x5ad216(0x19b)]=_0x5ad216(0x19e));if(this[_0x5ad216(0x1ca)]==undefined&&_0x3a6480==undefined)_0x253269(new Error(_0x5ad216(0x1b6)));this[_0x5ad216(0x1ca)]=_0x3a6480||this[_0x5ad216(0x1ca)];if(_0x3c103a!==undefined)this[_0x5ad216(0x1b3)]=_0x3c103a;if(_0x44def4!==undefined)this['handshakeData']=_0x44def4;this[_0x5ad216(0x18e)]=new ws_1[(_0x5ad216(0x1aa))](this['url']),this['socket'][_0x5ad216(0x1ab)](_0x5ad216(0x199),this[_0x5ad216(0x1cd)]),this[_0x5ad216(0x18e)]['addEventListener'](_0x5ad216(0x193),this[_0x5ad216(0x1cd)]),this['socket']['on'](_0x5ad216(0x1cf),_0x5b9223=>{const _0xbe1645=_0x5ad216;var _0x345c4d;(_0x345c4d=this[_0xbe1645(0x18e)])===null||_0x345c4d===void 0x0?void 0x0:_0x345c4d[_0xbe1645(0x18d)](_0x5b9223),this[_0xbe1645(0x1cd)]();}),this[_0x5ad216(0x18e)][_0x5ad216(0x1ab)](_0x5ad216(0x1ba),()=>{const _0x531789=_0x5ad216;if(this['heartbeatTimeout']!=undefined)clearTimeout(this[_0x531789(0x1b4)]);});if(this[_0x5ad216(0x1b3)]!=undefined)this[_0x5ad216(0x18e)][_0x5ad216(0x1ab)](_0x5ad216(0x1ba),()=>{const _0x44dd81=_0x5ad216;setTimeout(()=>this[_0x44dd81(0x1a3)](),this[_0x44dd81(0x1b3)]);});this['socket'][_0x5ad216(0x1ab)]('message',_0x26030c=>this[_0x5ad216(0x19f)](_0x26030c)),this[_0x5ad216(0x18e)][_0x5ad216(0x1ab)](_0x5ad216(0x199),_0x39f218=>this['raise'](_0x5ad216(0x199),_0x39f218)),this[_0x5ad216(0x18e)][_0x5ad216(0x1ab)](_0x5ad216(0x195),_0x7e550e=>this[_0x5ad216(0x18c)](_0x5ad216(0x195),_0x7e550e)),this[_0x5ad216(0x18e)][_0x5ad216(0x1ab)]('close',_0x436922=>this[_0x5ad216(0x18c)](_0x5ad216(0x1ba),_0x436922));const _0x23150a=()=>{_0x16e55e(),_0x294e54();},_0x14cd5f=_0x17ccfc=>{_0x3d9e57?_0x253269(_0x17ccfc):_0x16e55e(),_0x294e54();};this[_0x5ad216(0x18e)][_0x5ad216(0x1ab)](_0x5ad216(0x199),_0x23150a,{'once':!![]}),this[_0x5ad216(0x18e)][_0x5ad216(0x1ab)](_0x5ad216(0x195),_0x14cd5f,{'once':!![]});const _0x294e54=()=>{const _0x5d58dd=_0x5ad216;var _0x2475f9,_0x684384;(_0x2475f9=this['socket'])===null||_0x2475f9===void 0x0?void 0x0:_0x2475f9[_0x5d58dd(0x186)]('open',_0x23150a),(_0x684384=this[_0x5d58dd(0x18e)])===null||_0x684384===void 0x0?void 0x0:_0x684384[_0x5d58dd(0x186)](_0x5d58dd(0x195),_0x14cd5f);};});});}[a1_0x5cd283(0x1c6)](_0xd4beee,_0x52be7d){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x3014bc,_0x22363e)=>{const _0x399113=a1_0x4020;if(this[_0x399113(0x18e)]==undefined||this[_0x399113(0x18e)][_0x399113(0x1bf)]===ws_1['default'][_0x399113(0x1a4)]||this[_0x399113(0x18e)][_0x399113(0x1bf)]===ws_1['default'][_0x399113(0x1bc)])return _0x22363e(new Error(_0x399113(0x1b8)));this[_0x399113(0x18e)][_0x399113(0x1ba)](_0xd4beee,_0x52be7d);const _0x1e3eff=()=>{_0x3014bc(),_0x3fdbd1();},_0xade770=_0x1a0023=>{_0x22363e(_0x1a0023),_0x3fdbd1();};this[_0x399113(0x18e)][_0x399113(0x1ab)](_0x399113(0x1ba),_0x1e3eff,{'once':!![]}),this[_0x399113(0x18e)][_0x399113(0x1ab)](_0x399113(0x195),_0xade770,{'once':!![]});const _0x3fdbd1=()=>{const _0x57db09=_0x399113;var _0x357c63,_0x548277;(_0x357c63=this[_0x57db09(0x18e)])===null||_0x357c63===void 0x0?void 0x0:_0x357c63[_0x57db09(0x186)]('close',_0x1e3eff),(_0x548277=this[_0x57db09(0x18e)])===null||_0x548277===void 0x0?void 0x0:_0x548277[_0x57db09(0x186)](_0x57db09(0x195),_0xade770);};});});}get[a1_0x5cd283(0x1ad)](){const _0x354efd=a1_0x5cd283;var _0x174a9b;switch((_0x174a9b=this['socket'])===null||_0x174a9b===void 0x0?void 0x0:_0x174a9b[_0x354efd(0x1bf)]){case ws_1['default']['CONNECTING']:return _0x354efd(0x1a9);case ws_1[_0x354efd(0x1aa)][_0x354efd(0x1b7)]:return this['handshakeStatus']===_0x354efd(0x188)?_0x354efd(0x199):_0x354efd(0x190);case ws_1[_0x354efd(0x1aa)][_0x354efd(0x1a4)]:return _0x354efd(0x1be);case ws_1['default'][_0x354efd(0x1bc)]:default:return'closed';}}[a1_0x5cd283(0x191)](_0x18ed10,_0x23d1af,_0x5900a4,_0x32cdad=0x5*0x3e8){const _0x2869f3=a1_0x5cd283;if(this[_0x2869f3(0x18e)]==undefined||this[_0x2869f3(0x1ad)]!==_0x2869f3(0x199))throw new Error(_0x2869f3(0x1bd));if([_0x2869f3(0x190),'open',_0x2869f3(0x195),_0x2869f3(0x1ba)][_0x2869f3(0x19a)](_0x18ed10))throw new Error(_0x2869f3(0x1b5));const _0x37f816=_0x5900a4==undefined?0x0:this['requestId'],_0x374317=Buffer[_0x2869f3(0x189)](_0x18ed10,'utf-8');if(_0x374317[_0x2869f3(0x1c2)]>0xff)throw new Error(_0x2869f3(0x1c3));if(_0x5900a4!=undefined){this[_0x2869f3(0x196)]=(this[_0x2869f3(0x196)]+0x1)%0x80||0x1;const _0x5e8cd9=setTimeout(()=>{delete this['pendingRequests'][_0x37f816],_0x5900a4(new Error('Timeout'));},_0x32cdad);this[_0x2869f3(0x1a1)][_0x37f816]=_0x6dd617=>{if(!(_0x6dd617 instanceof Error))clearTimeout(_0x5e8cd9);_0x5900a4(_0x6dd617);};}const _0x21efd4=Buffer[_0x2869f3(0x1cb)]([Buffer[_0x2869f3(0x189)]([_0x37f816|0x80,_0x374317[_0x2869f3(0x1c2)]]),_0x374317,this['encode'](_0x23d1af)]);this[_0x2869f3(0x18e)][_0x2869f3(0x19c)](_0x21efd4);}[a1_0x5cd283(0x19f)]({data:_0x5140c8}){const _0xe55311=a1_0x5cd283;var _0x27c8ec,_0x1a0515,_0x2fcb1d;let _0x1744f7=Buffer[_0xe55311(0x1cc)](0x0);if(_0x5140c8 instanceof Buffer)_0x1744f7=_0x5140c8;if(typeof _0x5140c8===_0xe55311(0x1c7))_0x1744f7=Buffer[_0xe55311(0x189)](_0x5140c8,'utf-8');if(_0x5140c8 instanceof ArrayBuffer)_0x1744f7=Buffer[_0xe55311(0x189)](_0x5140c8);if(Array[_0xe55311(0x192)](_0x5140c8))_0x1744f7=Buffer[_0xe55311(0x1cb)](_0x5140c8);if(this['handshakeStatus']===_0xe55311(0x19e)){const {pingInterval:_0x536743}=this[_0xe55311(0x1c9)](_0x1744f7);this[_0xe55311(0x18b)]=_0x536743+0x1f4;const _0x1c83d4=this[_0xe55311(0x1c0)](this[_0xe55311(0x1c4)]===undefined?null:this[_0xe55311(0x1c4)]);(_0x27c8ec=this[_0xe55311(0x18e)])===null||_0x27c8ec===void 0x0?void 0x0:_0x27c8ec[_0xe55311(0x19c)](_0x1c83d4),this['handshakeStatus']=_0xe55311(0x1b1);return;}else{if(this['handshakeStatus']==='sent-info'){this[_0xe55311(0x19b)]=_0xe55311(0x188);return;}}const _0x3feabe=_0x1744f7['readUInt8'](0x0),_0x5405ac=_0x3feabe&0x7f,_0xf44beb=(_0x3feabe&0x80)!==0x0;if(_0xf44beb){const _0x919e9f=_0x1744f7[_0xe55311(0x1c1)](0x1),_0xd5c96a=_0x1744f7['slice'](0x2,0x2+_0x919e9f)[_0xe55311(0x1ac)]('utf-8');if([_0xe55311(0x190),_0xe55311(0x199),'error','close']['includes'](_0xd5c96a))return;const _0x2cad76=this['decode'](_0x1744f7[_0xe55311(0x1c8)](0x2+_0x919e9f)),_0x36fe78=(_0x1a0515=this[_0xe55311(0x1a0)][_0xd5c96a])!==null&&_0x1a0515!==void 0x0?_0x1a0515:[];let _0x54acf3=![];for(const _0x590c2b of _0x36fe78){const _0x225027=_0x590c2b['call'](undefined,_0x2cad76);if(!_0x54acf3&&_0x225027!==undefined&&_0x5405ac!==0x0){_0x54acf3=!![];const _0x46aae3=Buffer[_0xe55311(0x1cb)]([Buffer[_0xe55311(0x189)]([_0x5405ac&0x7f]),this[_0xe55311(0x1c0)](_0x225027)]);(_0x2fcb1d=this[_0xe55311(0x18e)])===null||_0x2fcb1d===void 0x0?void 0x0:_0x2fcb1d[_0xe55311(0x19c)](_0x46aae3);}}if(!_0x54acf3&&_0x5405ac!==0x0){}return;}const _0x27aaab=this[_0xe55311(0x1a1)][_0x5405ac];if(_0x27aaab==undefined)return;const _0x281b27=this[_0xe55311(0x1c9)](_0x1744f7[_0xe55311(0x1c8)](0x1));_0x27aaab(_0x281b27);}[a1_0x5cd283(0x1c0)](_0x36fd16){const _0x5439b2=a1_0x5cd283;return Buffer[_0x5439b2(0x189)](JSON[_0x5439b2(0x1ce)](_0x36fd16),'utf-8');}[a1_0x5cd283(0x1c9)](_0x4abe1a){const _0x5ad8f5=a1_0x5cd283;return JSON[_0x5ad8f5(0x1a7)](_0x4abe1a[_0x5ad8f5(0x1ac)]('utf-8'));}['on'](_0x232a5f,_0x4a4458){const _0x2ea13f=a1_0x5cd283;if(this['handlers'][_0x232a5f]==undefined)this[_0x2ea13f(0x1a0)][_0x232a5f]=[];this[_0x2ea13f(0x1a0)][_0x232a5f]['push'](_0x4a4458);}[a1_0x5cd283(0x187)](_0x2594b1,_0x40b4bd){const _0x2b3096=a1_0x5cd283;if(_0x40b4bd==undefined){delete this['handlers'][_0x2594b1];return;}const _0x44c2a3=this['handlers'][_0x2594b1],_0x9c64e1=(_0x44c2a3!==null&&_0x44c2a3!==void 0x0?_0x44c2a3:[])[_0x2b3096(0x194)](_0x4a5538=>_0x4a5538===_0x40b4bd);if(_0x9c64e1===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x2594b1+_0x2b3096(0x1c5));_0x44c2a3['splice'](_0x9c64e1,0x1);}[a1_0x5cd283(0x18c)](_0x387ffd,_0x2ab57e){var _0x4b9cc3;const _0x152966=(_0x4b9cc3=this['handlers'][_0x387ffd])!==null&&_0x4b9cc3!==void 0x0?_0x4b9cc3:[];for(const _0x3fe24b of _0x152966)_0x3fe24b(_0x2ab57e);}}exports[a1_0x5cd283(0x1aa)]=WebsocketClient;