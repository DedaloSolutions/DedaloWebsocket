'use strict';const a3_0x55a832=a3_0x5c4a;(function(_0x5ca85b,_0x205317){const _0x51b192=a3_0x5c4a,_0x2db46c=_0x5ca85b();while(!![]){try{const _0x262740=-parseInt(_0x51b192(0x1d2))/0x1+parseInt(_0x51b192(0x198))/0x2+-parseInt(_0x51b192(0x1b5))/0x3+parseInt(_0x51b192(0x1b4))/0x4*(-parseInt(_0x51b192(0x1d1))/0x5)+parseInt(_0x51b192(0x1de))/0x6+-parseInt(_0x51b192(0x196))/0x7*(-parseInt(_0x51b192(0x1ad))/0x8)+-parseInt(_0x51b192(0x1d8))/0x9*(-parseInt(_0x51b192(0x1d9))/0xa);if(_0x262740===_0x205317)break;else _0x2db46c['push'](_0x2db46c['shift']());}catch(_0x4962c3){_0x2db46c['push'](_0x2db46c['shift']());}}}(a3_0x38a3,0xb6717));function a3_0x38a3(){const _0x346a4f=['randomUUID','crypto','handlers','4DMHmtp','2387094eojMNY','raise','default','update','__awaiter','call','includes','done','handshake','next','readUInt8','destroy','headers','__esModule','Received\x20non-standard\x20text\x20message:\x20','encode','once','__importDefault','stringify','end','binary','from','createHash','decode','\x0d\x0a\x0d\x0a','Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping','length','push','6899485FrMnhl','440023oRwmOt','requestId','Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.','pendingRequests','closed','\x20but\x20no\x20handler\x20return\x20a\x20result','3210552KlXgSb','20NBwvAl','alloc','utf-8','Received\x20message\x20with\x20unsupported\x20opcode:\x20','send','119928xuzbhw','status','then','join','concat','Upgrade:\x20websocket','\x20but\x20no\x20pending\x20request\x20was\x20found','digest','handle','slice','pingRequests','pong','readUInt16BE','value','data','pingTimeout','749nhYSAJ','fromUpgradeRequest','2917334sJgleI','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','Sec-WebSocket-Accept:\x20','Timeout','ping','defineProperty','toString','HTTP/1.1\x20101\x20Switching\x20Protocols','text',';\x20This\x20is\x20non-standard:\x20someone\x20is\x20trying\x20to\x20hack\x20the\x20protocol?','pingInterval','findIndex','socket','disconnect','error','checkHeartbeat','write','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handskake,\x20open,\x20error\x20or\x20close','open','closing','emit','87536qXHMpD','Connection:\x20Upgrade','apply','close'];a3_0x38a3=function(){return _0x346a4f;};return a3_0x38a3();}var __awaiter=this&&this[a3_0x55a832(0x1b9)]||function(_0x4801fd,_0x543b35,_0x3dd4ab,_0x470dd9){function _0x50dc9b(_0x2dff9f){return _0x2dff9f instanceof _0x3dd4ab?_0x2dff9f:new _0x3dd4ab(function(_0x2001f7){_0x2001f7(_0x2dff9f);});}return new(_0x3dd4ab||(_0x3dd4ab=Promise))(function(_0x50ce23,_0x173e32){const _0x11db2f=a3_0x5c4a;function _0x2ee418(_0x52bb33){const _0x68307a=a3_0x5c4a;try{_0x4e77bb(_0x470dd9[_0x68307a(0x1be)](_0x52bb33));}catch(_0x522398){_0x173e32(_0x522398);}}function _0x1a9727(_0xb60dc0){try{_0x4e77bb(_0x470dd9['throw'](_0xb60dc0));}catch(_0x50e81f){_0x173e32(_0x50e81f);}}function _0x4e77bb(_0x20ea4d){const _0x394288=a3_0x5c4a;_0x20ea4d[_0x394288(0x1bc)]?_0x50ce23(_0x20ea4d['value']):_0x50dc9b(_0x20ea4d[_0x394288(0x193)])[_0x394288(0x1e0)](_0x2ee418,_0x1a9727);}_0x4e77bb((_0x470dd9=_0x470dd9[_0x11db2f(0x1af)](_0x4801fd,_0x543b35||[]))[_0x11db2f(0x1be)]());});},__importDefault=this&&this[a3_0x55a832(0x1c6)]||function(_0x2e3816){const _0x45b84b=a3_0x55a832;return _0x2e3816&&_0x2e3816[_0x45b84b(0x1c2)]?_0x2e3816:{'default':_0x2e3816};};function a3_0x5c4a(_0x559e14,_0x574e96){const _0x38a373=a3_0x38a3();return a3_0x5c4a=function(_0x5c4aa9,_0x2e1668){_0x5c4aa9=_0x5c4aa9-0x190;let _0x25ab64=_0x38a373[_0x5c4aa9];return _0x25ab64;},a3_0x5c4a(_0x559e14,_0x574e96);}Object[a3_0x55a832(0x19d)](exports,a3_0x55a832(0x1c2),{'value':!![]});const crypto_1=__importDefault(require(a3_0x55a832(0x1b2)));class Socket{constructor(_0x3201b7){const _0x36b472=a3_0x55a832;this['socket']=_0x3201b7,this['status']=_0x36b472(0x1bd),this[_0x36b472(0x1a2)]=0x5*0x3e8,this['pingTimeout']=0x2*0x3e8,this[_0x36b472(0x190)]={},this[_0x36b472(0x1d3)]=0x1,this[_0x36b472(0x1d5)]={},this['data']={},this[_0x36b472(0x1b3)]={},this[_0x36b472(0x1a4)]['on'](_0x36b472(0x194),_0x51a6ba=>this[_0x36b472(0x1e6)](_0x51a6ba)),this['socket']['on'](_0x36b472(0x1a6),_0x5dd3c5=>this[_0x36b472(0x1b6)](_0x36b472(0x1a6),_0x5dd3c5)),this[_0x36b472(0x1a4)]['on'](_0x36b472(0x1b0),()=>{}),this[_0x36b472(0x1a7)]();const _0x4a99aa=this[_0x36b472(0x1c4)]({'pingInterval':this[_0x36b472(0x1a2)]});this[_0x36b472(0x1dd)](_0x36b472(0x1c9),_0x4a99aa);}[a3_0x55a832(0x1a5)](){return __awaiter(this,arguments,void 0x0,function*(_0x46359f=0x3e8,_0x58fdba='',_0x25f76d=0x1388){return new Promise((_0x4985bb,_0x36a03e)=>{const _0x393aca=a3_0x5c4a,_0x3ccbd3=Buffer['from'](_0x58fdba,_0x393aca(0x1db)),_0x1aeda1=Buffer[_0x393aca(0x1da)](0x2+_0x3ccbd3[_0x393aca(0x1cf)]);_0x1aeda1['writeUInt16BE'](_0x46359f,0x0),_0x3ccbd3['copy'](_0x1aeda1,0x2);const _0x10612a=_0x1aeda1['length'],_0x1da400=_0x10612a<0x7e?_0x10612a:_0x10612a<0x10000?0x7e:0x7f,_0x2bb04b=_0x1da400===0x7e?Buffer[_0x393aca(0x1ca)]([0x88,0x7e,_0x10612a>>0x8&0xff,_0x10612a&0xff]):_0x1da400===0x7f?Buffer[_0x393aca(0x1ca)]([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x10612a>>0x8&0xff,_0x10612a&0xff]):Buffer[_0x393aca(0x1ca)]([0x88,_0x10612a]),_0x34bde0=Buffer[_0x393aca(0x1e2)]([_0x2bb04b,_0x1aeda1]);this[_0x393aca(0x1a4)][_0x393aca(0x1a8)](_0x34bde0),this[_0x393aca(0x1df)]=_0x393aca(0x1ab);if(_0x25f76d===null)this[_0x393aca(0x1df)]=_0x393aca(0x1d6),this[_0x393aca(0x1a4)][_0x393aca(0x1c8)](),this[_0x393aca(0x1b6)](_0x393aca(0x1b0),{'code':_0x46359f,'reason':_0x58fdba}),_0x4985bb();else{let _0x5e7fb9=!![];this[_0x393aca(0x1a4)][_0x393aca(0x1c5)](_0x393aca(0x194),_0x2ab131=>{const _0x23d033=_0x393aca;if(!_0x5e7fb9)return;_0x2ab131[0x0]===0x88?(this['status']=_0x23d033(0x1d6),this[_0x23d033(0x1a4)][_0x23d033(0x1c8)](),this['raise'](_0x23d033(0x1b0),{'code':_0x46359f,'reason':_0x58fdba}),_0x4985bb()):_0x36a03e(new Error(_0x23d033(0x1d4)));}),setTimeout(()=>{const _0x3ed101=_0x393aca;_0x5e7fb9=![],_0x36a03e(new Error('Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.')),this[_0x3ed101(0x1a4)][_0x3ed101(0x1c8)]();},_0x25f76d);}});});}[a3_0x55a832(0x1dd)](_0x5825db,_0x2c3b4f){const _0x540ece=a3_0x55a832;let _0x1ae7fb,_0xcdd6d1;switch(_0x5825db){case _0x540ece(0x1a0):_0x1ae7fb=Buffer[_0x540ece(0x1ca)](_0x2c3b4f,'utf-8'),_0xcdd6d1=0x1;break;case _0x540ece(0x1c9):_0x1ae7fb=_0x2c3b4f,_0xcdd6d1=0x2;break;case _0x540ece(0x19c):_0x1ae7fb=_0x2c3b4f,_0xcdd6d1=0x9;break;case _0x540ece(0x191):_0x1ae7fb=_0x2c3b4f,_0xcdd6d1=0xa;break;}const _0x31d21f=[];if(_0x1ae7fb[_0x540ece(0x1cf)]<0x7e)_0x31d21f['push'](_0x1ae7fb[_0x540ece(0x1cf)]);else{if(_0x1ae7fb[_0x540ece(0x1cf)]<0x10000)_0x31d21f['push'](0x7e,_0x1ae7fb[_0x540ece(0x1cf)]>>0x8&0xff,_0x1ae7fb[_0x540ece(0x1cf)]&0xff);else{_0x31d21f['push'](0x7f);for(let _0x24004f=0x7;_0x24004f>=0x0;_0x24004f--)_0x31d21f[_0x540ece(0x1d0)](_0x1ae7fb[_0x540ece(0x1cf)]>>_0x24004f*0x8&0xff);}}const _0x14d5f0=Buffer[_0x540ece(0x1e2)]([Buffer[_0x540ece(0x1ca)]([0x80|_0xcdd6d1,..._0x31d21f]),_0x1ae7fb]);this['socket'][_0x540ece(0x1a8)](_0x14d5f0);}[a3_0x55a832(0x1ac)](_0x224031,_0x420730,_0x428bfa,_0x3b9631=0x32*0x3e8){const _0x16f139=a3_0x55a832;if(this[_0x16f139(0x1a4)]==undefined||this[_0x16f139(0x1df)]!==_0x16f139(0x1aa))throw new Error('The\x20websocket\x20is\x20not\x20connected');if(['handshake',_0x16f139(0x1aa),_0x16f139(0x1a6),'close'][_0x16f139(0x1bb)](_0x224031))throw new Error(_0x16f139(0x1a9));const _0x8379ca=_0x428bfa==undefined?0x0:this[_0x16f139(0x1d3)],_0x2df863=Buffer[_0x16f139(0x1ca)](_0x224031,_0x16f139(0x1db));if(_0x2df863['length']>0xff)throw new Error(_0x16f139(0x199));if(_0x428bfa!=undefined){this[_0x16f139(0x1d3)]=(this[_0x16f139(0x1d3)]+0x1)%0x80||0x1;const _0x3f0918=setTimeout(()=>{const _0x283d87=_0x16f139;delete this[_0x283d87(0x1d5)][_0x8379ca],_0x428bfa(new Error(_0x283d87(0x19b)));},_0x3b9631);this['pendingRequests'][_0x8379ca]=_0x3d589c=>{if(!(_0x3d589c instanceof Error))clearTimeout(_0x3f0918);_0x428bfa(_0x3d589c);};}const _0x5c6a31=Buffer['concat']([Buffer[_0x16f139(0x1ca)]([_0x8379ca|0x80,_0x2df863['length']]),_0x2df863,this['encode'](_0x420730)]);this[_0x16f139(0x1dd)]('binary',_0x5c6a31);}['handle'](_0x1314ee){const _0x5d4d9f=a3_0x55a832;var _0x52e6ae,_0x1c60c1;const _0x5072fd=_0x1314ee[0x0],_0x59e520=(_0x5072fd&0x80)!==0x0,_0x41102c=_0x5072fd&0xf,_0x362dff=_0x1314ee[0x1],_0x5cb9cf=(_0x362dff&0x80)!==0x0;let _0x39ec62=_0x362dff&0x7f,_0x1c5c42=0x2;if(_0x39ec62===0x7e)_0x39ec62=_0x1314ee[_0x5d4d9f(0x192)](_0x1c5c42),_0x1c5c42+=0x2;else _0x39ec62===0x7f&&(_0x39ec62=Number(_0x1314ee['readBigUInt64BE'](_0x1c5c42)),_0x1c5c42+=0x8);const _0xbec061=_0x5cb9cf?_0x1314ee[_0x5d4d9f(0x1e7)](_0x1c5c42,_0x1c5c42+0x4):Buffer['alloc'](0x0);if(_0x5cb9cf)_0x1c5c42+=0x4;let _0x425e94=_0x1314ee[_0x5d4d9f(0x1e7)](_0x1c5c42,_0x1c5c42+_0x39ec62);if(_0x5cb9cf){const _0x60a351=Buffer['alloc'](_0x425e94[_0x5d4d9f(0x1cf)]);for(let _0x1312c8=0x0;_0x1312c8<_0x425e94[_0x5d4d9f(0x1cf)];_0x1312c8++)_0x60a351[_0x1312c8]=_0x425e94[_0x1312c8]^_0xbec061[_0x1312c8%0x4];_0x425e94=_0x60a351;}switch(_0x41102c){case 0x1:this[_0x5d4d9f(0x1b6)](_0x5d4d9f(0x1a6),new Error(_0x5d4d9f(0x1c3)+_0x425e94['toString'](_0x5d4d9f(0x1db))));break;case 0x2:{if(this[_0x5d4d9f(0x1df)]===_0x5d4d9f(0x1bd)){const _0x470f68=this[_0x5d4d9f(0x1cc)](_0x425e94);this[_0x5d4d9f(0x1b6)](_0x5d4d9f(0x1bd),_0x470f68),this[_0x5d4d9f(0x1df)]='open',this[_0x5d4d9f(0x1dd)](_0x5d4d9f(0x1c9),Buffer[_0x5d4d9f(0x1da)](0x0));return;}const _0x10cab5=_0x425e94[_0x5d4d9f(0x1bf)](0x0),_0x278085=_0x10cab5&0x7f,_0x5b0ba8=(_0x10cab5&0x80)!==0x0;if(_0x5b0ba8){const _0x197dfe=_0x425e94['readUInt8'](0x1),_0x54a079=_0x425e94['slice'](0x2,0x2+_0x197dfe)['toString']('utf-8');if([_0x5d4d9f(0x1bd),_0x5d4d9f(0x1aa),_0x5d4d9f(0x1a6),'close','*'][_0x5d4d9f(0x1bb)](_0x54a079)){this['raise'](_0x5d4d9f(0x1a6),new Error('Received\x20a\x20request\x20with\x20eventName\x20'+_0x54a079+_0x5d4d9f(0x1a1)));return;}const _0x16cd61=this[_0x5d4d9f(0x1cc)](_0x425e94[_0x5d4d9f(0x1e7)](0x2+_0x197dfe)),_0x1b1d1c=(_0x52e6ae=this[_0x5d4d9f(0x1b3)][_0x54a079])!==null&&_0x52e6ae!==void 0x0?_0x52e6ae:[];let _0x23cb36=![];for(const _0x254641 of _0x1b1d1c){const _0x209606=_0x254641[_0x5d4d9f(0x1ba)](undefined,_0x16cd61);if(!_0x23cb36&&_0x209606!==undefined&&_0x278085!==0x0){_0x23cb36=!![];const _0x237a8b=Buffer['concat']([Buffer['from']([_0x278085&0x7f]),this[_0x5d4d9f(0x1c4)](_0x209606)]);this[_0x5d4d9f(0x1dd)]('binary',_0x237a8b);}}const _0x53be21=(_0x1c60c1=this[_0x5d4d9f(0x1b3)]['*'])!==null&&_0x1c60c1!==void 0x0?_0x1c60c1:[];for(const _0x2397bc of _0x53be21)_0x2397bc[_0x5d4d9f(0x1ba)](undefined,_0x54a079,_0x16cd61);if(!_0x23cb36&&_0x278085!==0x0)this['raise']('error',new Error('Received\x20a\x20request\x20with\x20callback\x20for\x20the\x20event\x20'+_0x54a079+_0x5d4d9f(0x1d7)));return;}const _0x599899=this[_0x5d4d9f(0x1d5)][_0x278085];if(_0x599899==undefined){this[_0x5d4d9f(0x1b6)](_0x5d4d9f(0x1a6),new Error('Received\x20a\x20response\x20for\x20the\x20id\x20'+_0x278085+_0x5d4d9f(0x1e4)));return;}const _0xb6a6d0=this[_0x5d4d9f(0x1cc)](_0x425e94[_0x5d4d9f(0x1e7)](0x1));_0x599899[_0x5d4d9f(0x1ba)](undefined,_0xb6a6d0);break;}case 0x9:this[_0x5d4d9f(0x1dd)](_0x5d4d9f(0x191),_0x425e94);break;case 0xa:const _0x286fc5=_0x425e94['toString']('utf-8'),_0x1769fc=this['pingRequests'][_0x286fc5];if(_0x1769fc==undefined){this[_0x5d4d9f(0x1b6)]('error',new Error(_0x5d4d9f(0x1ce)));return;}_0x1769fc();break;case 0x8:if(this[_0x5d4d9f(0x1df)]==='closing')return;let _0x4f4977=0x3e8,_0x1d73e3='';_0x425e94[_0x5d4d9f(0x1cf)]>=0x2&&(_0x4f4977=_0x425e94[_0x5d4d9f(0x192)](0x0),_0x1d73e3=_0x425e94[_0x5d4d9f(0x1e7)](0x2)[_0x5d4d9f(0x19e)](_0x5d4d9f(0x1db)));this['disconnect'](_0x4f4977,_0x1d73e3,null);break;default:this['raise'](_0x5d4d9f(0x1a6),new Error(_0x5d4d9f(0x1dc)+_0x41102c));}}[a3_0x55a832(0x1c4)](_0x2c5579){const _0x4ae0b6=a3_0x55a832;return Buffer[_0x4ae0b6(0x1ca)](JSON[_0x4ae0b6(0x1c7)](_0x2c5579),_0x4ae0b6(0x1db));}[a3_0x55a832(0x1cc)](_0x6017f0){const _0x7f788c=a3_0x55a832;return JSON['parse'](_0x6017f0[_0x7f788c(0x19e)]('utf-8'));}[a3_0x55a832(0x1a7)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x5e1f62,_0xf8751f)=>{const _0x14b7b1=a3_0x5c4a,_0x3ecfff=crypto_1[_0x14b7b1(0x1b7)][_0x14b7b1(0x1b1)](),_0x44541c=setTimeout(()=>{const _0x5a31e0=_0x14b7b1;delete this['pingRequests'][_0x3ecfff],this[_0x5a31e0(0x1a5)](0x3e8,'',null),_0x5e1f62(![]);},this[_0x14b7b1(0x195)]);this['pingRequests'][_0x3ecfff]=()=>{const _0x408f79=_0x14b7b1;delete this[_0x408f79(0x190)][_0x3ecfff],clearTimeout(_0x44541c),_0x5e1f62(!![]),setTimeout(()=>{const _0x5dba62=_0x408f79;if(this[_0x5dba62(0x1df)]!=='open')return;this[_0x5dba62(0x1a7)]();},this[_0x408f79(0x1a2)]);},this[_0x14b7b1(0x1dd)](_0x14b7b1(0x19c),Buffer[_0x14b7b1(0x1ca)](_0x3ecfff));});});}['on'](_0x524deb,_0x5cde5e){const _0x5e30dc=a3_0x55a832;if(this[_0x5e30dc(0x1b3)][_0x524deb]==undefined)this['handlers'][_0x524deb]=[];this[_0x5e30dc(0x1b3)][_0x524deb][_0x5e30dc(0x1d0)](_0x5cde5e);}['off'](_0x3a4806,_0x3cbcda){const _0x1c0e11=a3_0x55a832;if(_0x3cbcda==undefined){this['handlers'][_0x3a4806]=[];return;}const _0x321fea=this[_0x1c0e11(0x1b3)][_0x3a4806],_0x151fef=(_0x321fea!==null&&_0x321fea!==void 0x0?_0x321fea:[])[_0x1c0e11(0x1a3)](_0x2fe9c3=>_0x2fe9c3===_0x3cbcda);if(_0x151fef===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x3a4806+'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found');_0x321fea['splice'](_0x151fef,0x1);}[a3_0x55a832(0x1b6)](_0x573c20,_0x49c2a9){const _0x4f3f30=a3_0x55a832;var _0x3e4a4f,_0x30ebf9;const _0x260318=(_0x3e4a4f=this[_0x4f3f30(0x1b3)][_0x573c20])!==null&&_0x3e4a4f!==void 0x0?_0x3e4a4f:[];for(const _0xa427e9 of _0x260318)_0xa427e9(_0x49c2a9);const _0x5afed5=(_0x30ebf9=this[_0x4f3f30(0x1b3)]['*'])!==null&&_0x30ebf9!==void 0x0?_0x30ebf9:[];for(const _0x275c48 of _0x5afed5)_0x275c48(_0x573c20,_0x49c2a9);}static[a3_0x55a832(0x197)](_0x26421b,_0x3ddcaf){const _0x56c52c=a3_0x55a832,_0x5058c0=_0x26421b[_0x56c52c(0x1c1)]['sec-websocket-key'];if(_0x5058c0==undefined)return _0x3ddcaf[_0x56c52c(0x1c0)](),null;const _0x7ca83e=crypto_1[_0x56c52c(0x1b7)][_0x56c52c(0x1cb)]('sha1');_0x7ca83e[_0x56c52c(0x1b8)](_0x5058c0+'258EAFA5-E914-47DA-95CA-C5AB0DC85B11');const _0x5da99b=_0x7ca83e[_0x56c52c(0x1e5)]('base64'),_0xbbb805=[_0x56c52c(0x19f),_0x56c52c(0x1e3),_0x56c52c(0x1ae),_0x56c52c(0x19a)+_0x5da99b];return _0x3ddcaf[_0x56c52c(0x1a8)](_0xbbb805[_0x56c52c(0x1e1)]('\x0d\x0a')+_0x56c52c(0x1cd)),new Socket(_0x3ddcaf);}}exports[a3_0x55a832(0x1b7)]=Socket;