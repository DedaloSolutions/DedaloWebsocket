'use strict';function a2_0x1ab2(_0x5d576d,_0x8fbfe8){const _0x35be6b=a2_0x35be();return a2_0x1ab2=function(_0x1ab286,_0xf11150){_0x1ab286=_0x1ab286-0x7b;let _0x370e2b=_0x35be6b[_0x1ab286];return _0x370e2b;},a2_0x1ab2(_0x5d576d,_0x8fbfe8);}const a2_0x1ae12b=a2_0x1ab2;(function(_0x368998,_0x4ee575){const _0x49eb6e=a2_0x1ab2,_0x1e52c1=_0x368998();while(!![]){try{const _0x24a4db=-parseInt(_0x49eb6e(0xcc))/0x1+-parseInt(_0x49eb6e(0x7d))/0x2+parseInt(_0x49eb6e(0xac))/0x3+-parseInt(_0x49eb6e(0xae))/0x4*(parseInt(_0x49eb6e(0xc9))/0x5)+-parseInt(_0x49eb6e(0x7c))/0x6+parseInt(_0x49eb6e(0x82))/0x7*(-parseInt(_0x49eb6e(0xb1))/0x8)+parseInt(_0x49eb6e(0xb8))/0x9;if(_0x24a4db===_0x4ee575)break;else _0x1e52c1['push'](_0x1e52c1['shift']());}catch(_0x4a01a6){_0x1e52c1['push'](_0x1e52c1['shift']());}}}(a2_0x35be,0x4dd98));function a2_0x35be(){const _0x49eb34=['apply','Connection:\x20Upgrade','23350815qYSyXs','end','\x20but\x20no\x20pending\x20request\x20was\x20found','text','randomUUID','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','concat','next','closed','from','call','raise','sec-websocket-key','done','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','The\x20websocket\x20is\x20not\x20connected','pendingRequests','768990wjwdWO','Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping','requestId','553281BwSNMY','emit','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handskake,\x20open,\x20error\x20or\x20close','crypto','readUInt16BE','write','default','Received\x20non-standard\x20text\x20message:\x20','Received\x20a\x20request\x20with\x20eventName\x20','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','closing','HTTP/1.1\x20101\x20Switching\x20Protocols','utf-8','Timeout','alloc','2670768wezVnq','834416BnzTEx','value','__importDefault','headers','handlers','35FAqIFP','push','send','socket','error','update','pingInterval','pong','pingTimeout','sha1','close','Received\x20a\x20response\x20for\x20the\x20id\x20','once','handle','throw','open','readBigUInt64BE','destroy','ping','join','off','data','Received\x20a\x20request\x20with\x20callback\x20for\x20the\x20event\x20','Sec-WebSocket-Accept:\x20','Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.','decode','checkHeartbeat',';\x20This\x20is\x20non-standard:\x20someone\x20is\x20trying\x20to\x20hack\x20the\x20protocol?','readUInt8','defineProperty','length','then','findIndex','slice','includes','pingRequests','Upgrade:\x20websocket','splice','encode','handshake','Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.','\x0d\x0a\x0d\x0a','256839rpNBhT','status','12ZMiYZn','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','digest','774824crxZKs','toString','\x20but\x20no\x20handler\x20return\x20a\x20result','copy','binary'];a2_0x35be=function(){return _0x49eb34;};return a2_0x35be();}var __awaiter=this&&this['__awaiter']||function(_0x1a1a9e,_0x23571a,_0x402dbf,_0x54ae20){function _0x5527c9(_0x167307){return _0x167307 instanceof _0x402dbf?_0x167307:new _0x402dbf(function(_0x5413b9){_0x5413b9(_0x167307);});}return new(_0x402dbf||(_0x402dbf=Promise))(function(_0x957471,_0xeba5b5){const _0x57d371=a2_0x1ab2;function _0x5dea47(_0x4f64f4){const _0x34a954=a2_0x1ab2;try{_0x9b39a5(_0x54ae20[_0x34a954(0xbf)](_0x4f64f4));}catch(_0x256cf3){_0xeba5b5(_0x256cf3);}}function _0x1ee378(_0x1998af){const _0x56c832=a2_0x1ab2;try{_0x9b39a5(_0x54ae20[_0x56c832(0x90)](_0x1998af));}catch(_0x517e74){_0xeba5b5(_0x517e74);}}function _0x9b39a5(_0x5a2385){const _0x466d61=a2_0x1ab2;_0x5a2385[_0x466d61(0xc5)]?_0x957471(_0x5a2385[_0x466d61(0x7e)]):_0x5527c9(_0x5a2385[_0x466d61(0x7e)])[_0x466d61(0xa1)](_0x5dea47,_0x1ee378);}_0x9b39a5((_0x54ae20=_0x54ae20[_0x57d371(0xb6)](_0x1a1a9e,_0x23571a||[]))[_0x57d371(0xbf)]());});},__importDefault=this&&this[a2_0x1ae12b(0x7f)]||function(_0x24202e){return _0x24202e&&_0x24202e['__esModule']?_0x24202e:{'default':_0x24202e};};Object[a2_0x1ae12b(0x9f)](exports,'__esModule',{'value':!![]});const crypto_1=__importDefault(require(a2_0x1ae12b(0xcf)));class Socket{constructor(_0x152126){const _0x39dc99=a2_0x1ae12b;this['socket']=_0x152126,this['status']=_0x39dc99(0xa9),this[_0x39dc99(0x88)]=0x5*0x3e8,this[_0x39dc99(0x8a)]=0x2*0x3e8,this[_0x39dc99(0xa5)]={},this['requestId']=0x1,this['pendingRequests']={},this[_0x39dc99(0x97)]={},this[_0x39dc99(0x81)]={},this['socket']['on'](_0x39dc99(0x97),_0x500c56=>this['handle'](_0x500c56)),this[_0x39dc99(0x85)]['on'](_0x39dc99(0x86),_0x2cc177=>this[_0x39dc99(0xc3)]('error',_0x2cc177)),this[_0x39dc99(0x85)]['on']('close',()=>{}),this[_0x39dc99(0x9c)]();const _0x259679=this[_0x39dc99(0xa8)]({'pingInterval':this['pingInterval']});this[_0x39dc99(0x84)]('binary',_0x259679);}['disconnect'](){return __awaiter(this,arguments,void 0x0,function*(_0x5adfdf=0x3e8,_0x29964f='',_0x589042=0x1388){return new Promise((_0x2838bf,_0xaac370)=>{const _0x57aab4=a2_0x1ab2,_0x8e716a=Buffer['from'](_0x29964f,_0x57aab4(0xd8)),_0x320a36=Buffer[_0x57aab4(0x7b)](0x2+_0x8e716a[_0x57aab4(0xa0)]);_0x320a36['writeUInt16BE'](_0x5adfdf,0x0),_0x8e716a[_0x57aab4(0xb4)](_0x320a36,0x2);const _0x11dc4c=_0x320a36[_0x57aab4(0xa0)],_0x228fd7=_0x11dc4c<0x7e?_0x11dc4c:_0x11dc4c<0x10000?0x7e:0x7f,_0x3823e3=_0x228fd7===0x7e?Buffer[_0x57aab4(0xc1)]([0x88,0x7e,_0x11dc4c>>0x8&0xff,_0x11dc4c&0xff]):_0x228fd7===0x7f?Buffer['from']([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x11dc4c>>0x8&0xff,_0x11dc4c&0xff]):Buffer[_0x57aab4(0xc1)]([0x88,_0x11dc4c]),_0x44cd11=Buffer[_0x57aab4(0xbe)]([_0x3823e3,_0x320a36]);this[_0x57aab4(0x85)][_0x57aab4(0xd1)](_0x44cd11),this[_0x57aab4(0xad)]=_0x57aab4(0xd6);if(_0x589042===null)this['status']=_0x57aab4(0xc0),this[_0x57aab4(0x85)][_0x57aab4(0xb9)](),this[_0x57aab4(0xc3)](_0x57aab4(0x8c),{'code':_0x5adfdf,'reason':_0x29964f}),_0x2838bf();else{let _0x309232=!![];this[_0x57aab4(0x85)][_0x57aab4(0x8e)](_0x57aab4(0x97),_0x339823=>{const _0x5e4522=_0x57aab4;if(!_0x309232)return;_0x339823[0x0]===0x88?(this['status']=_0x5e4522(0xc0),this[_0x5e4522(0x85)]['end'](),this[_0x5e4522(0xc3)](_0x5e4522(0x8c),{'code':_0x5adfdf,'reason':_0x29964f}),_0x2838bf()):_0xaac370(new Error(_0x5e4522(0x9a)));}),setTimeout(()=>{const _0x5b8e14=_0x57aab4;_0x309232=![],_0xaac370(new Error(_0x5b8e14(0xaa))),this[_0x5b8e14(0x85)][_0x5b8e14(0xb9)]();},_0x589042);}});});}['send'](_0x479232,_0x268da2){const _0x3a6f86=a2_0x1ae12b;let _0x1202af,_0x1ad806;switch(_0x479232){case _0x3a6f86(0xbb):_0x1202af=Buffer['from'](_0x268da2,'utf-8'),_0x1ad806=0x1;break;case _0x3a6f86(0xb5):_0x1202af=_0x268da2,_0x1ad806=0x2;break;case _0x3a6f86(0x94):_0x1202af=_0x268da2,_0x1ad806=0x9;break;case _0x3a6f86(0x89):_0x1202af=_0x268da2,_0x1ad806=0xa;break;}const _0x201bdb=[];if(_0x1202af[_0x3a6f86(0xa0)]<0x7e)_0x201bdb['push'](_0x1202af['length']);else{if(_0x1202af[_0x3a6f86(0xa0)]<0x10000)_0x201bdb[_0x3a6f86(0x83)](0x7e,_0x1202af['length']>>0x8&0xff,_0x1202af['length']&0xff);else{_0x201bdb[_0x3a6f86(0x83)](0x7f);for(let _0x3225fa=0x7;_0x3225fa>=0x0;_0x3225fa--)_0x201bdb['push'](_0x1202af[_0x3a6f86(0xa0)]>>_0x3225fa*0x8&0xff);}}const _0x23c6ef=Buffer[_0x3a6f86(0xbe)]([Buffer['from']([0x80|_0x1ad806,..._0x201bdb]),_0x1202af]);this[_0x3a6f86(0x85)][_0x3a6f86(0xd1)](_0x23c6ef);}[a2_0x1ae12b(0xcd)](_0x42d5ee,_0x4ae022,_0x9e892e,_0x2abb2c=0x32*0x3e8){const _0x34d0dd=a2_0x1ae12b;if(this[_0x34d0dd(0x85)]==undefined||this[_0x34d0dd(0xad)]!==_0x34d0dd(0x91))throw new Error(_0x34d0dd(0xc7));if([_0x34d0dd(0xa9),_0x34d0dd(0x91),_0x34d0dd(0x86),_0x34d0dd(0x8c)][_0x34d0dd(0xa4)](_0x42d5ee))throw new Error(_0x34d0dd(0xce));const _0x5edc30=_0x9e892e==undefined?0x0:this[_0x34d0dd(0xcb)],_0x433b40=Buffer[_0x34d0dd(0xc1)](_0x42d5ee,'utf-8');if(_0x433b40[_0x34d0dd(0xa0)]>0xff)throw new Error(_0x34d0dd(0xd5));if(_0x9e892e!=undefined){this['requestId']=(this[_0x34d0dd(0xcb)]+0x1)%0x80||0x1;const _0x36dd76=setTimeout(()=>{const _0x42b14b=_0x34d0dd;delete this[_0x42b14b(0xc8)][_0x5edc30],_0x9e892e(new Error(_0x42b14b(0xd9)));},_0x2abb2c);this[_0x34d0dd(0xc8)][_0x5edc30]=_0x330b1f=>{if(!(_0x330b1f instanceof Error))clearTimeout(_0x36dd76);_0x9e892e(_0x330b1f);};}const _0x1134b8=Buffer[_0x34d0dd(0xbe)]([Buffer[_0x34d0dd(0xc1)]([_0x5edc30|0x80,_0x433b40['length']]),_0x433b40,this[_0x34d0dd(0xa8)](_0x4ae022)]);this[_0x34d0dd(0x84)](_0x34d0dd(0xb5),_0x1134b8);}[a2_0x1ae12b(0x8f)](_0x36ca25){const _0x5ab977=a2_0x1ae12b;var _0x253243;const _0x31e5e9=_0x36ca25[0x0],_0x32a42d=(_0x31e5e9&0x80)!==0x0,_0x3cf7eb=_0x31e5e9&0xf,_0x308da9=_0x36ca25[0x1],_0x4ab541=(_0x308da9&0x80)!==0x0;let _0x1be8a3=_0x308da9&0x7f,_0x4e077e=0x2;if(_0x1be8a3===0x7e)_0x1be8a3=_0x36ca25[_0x5ab977(0xd0)](_0x4e077e),_0x4e077e+=0x2;else _0x1be8a3===0x7f&&(_0x1be8a3=Number(_0x36ca25[_0x5ab977(0x92)](_0x4e077e)),_0x4e077e+=0x8);const _0x46885a=_0x4ab541?_0x36ca25[_0x5ab977(0xa3)](_0x4e077e,_0x4e077e+0x4):Buffer['alloc'](0x0);if(_0x4ab541)_0x4e077e+=0x4;let _0x4fb1af=_0x36ca25[_0x5ab977(0xa3)](_0x4e077e,_0x4e077e+_0x1be8a3);if(_0x4ab541){const _0x461f26=Buffer['alloc'](_0x4fb1af[_0x5ab977(0xa0)]);for(let _0xbe46c7=0x0;_0xbe46c7<_0x4fb1af[_0x5ab977(0xa0)];_0xbe46c7++)_0x461f26[_0xbe46c7]=_0x4fb1af[_0xbe46c7]^_0x46885a[_0xbe46c7%0x4];_0x4fb1af=_0x461f26;}switch(_0x3cf7eb){case 0x1:this[_0x5ab977(0xc3)](_0x5ab977(0x86),new Error(_0x5ab977(0xd3)+_0x4fb1af['toString'](_0x5ab977(0xd8))));break;case 0x2:{if(this[_0x5ab977(0xad)]===_0x5ab977(0xa9)){const _0x16b3f1=this['decode'](_0x4fb1af);this[_0x5ab977(0xc3)](_0x5ab977(0xa9),_0x16b3f1),this[_0x5ab977(0xad)]=_0x5ab977(0x91),this['send'](_0x5ab977(0xb5),Buffer[_0x5ab977(0x7b)](0x0));return;}const _0x449fea=_0x4fb1af['readUInt8'](0x0),_0x4cb617=_0x449fea&0x7f,_0x39db56=(_0x449fea&0x80)!==0x0;if(_0x39db56){const _0x2ff5ac=_0x4fb1af[_0x5ab977(0x9e)](0x1),_0xec40f6=_0x4fb1af['slice'](0x2,0x2+_0x2ff5ac)[_0x5ab977(0xb2)](_0x5ab977(0xd8));if([_0x5ab977(0xa9),_0x5ab977(0x91),_0x5ab977(0x86),_0x5ab977(0x8c)][_0x5ab977(0xa4)](_0xec40f6)){this[_0x5ab977(0xc3)]('error',new Error(_0x5ab977(0xd4)+_0xec40f6+_0x5ab977(0x9d)));return;}const _0x2bd6b2=this[_0x5ab977(0x9b)](_0x4fb1af[_0x5ab977(0xa3)](0x2+_0x2ff5ac)),_0x2a9f36=(_0x253243=this['handlers'][_0xec40f6])!==null&&_0x253243!==void 0x0?_0x253243:[];let _0x271731=![];for(const _0x1e6d27 of _0x2a9f36){const _0x1a1007=_0x1e6d27[_0x5ab977(0xc2)](undefined,_0x2bd6b2);if(!_0x271731&&_0x1a1007!==undefined&&_0x4cb617!==0x0){_0x271731=!![];const _0x2c3f7c=Buffer[_0x5ab977(0xbe)]([Buffer[_0x5ab977(0xc1)]([_0x4cb617&0x7f]),this[_0x5ab977(0xa8)](_0x1a1007)]);this[_0x5ab977(0x84)](_0x5ab977(0xb5),_0x2c3f7c);}}if(!_0x271731&&_0x4cb617!==0x0)this[_0x5ab977(0xc3)]('error',new Error(_0x5ab977(0x98)+_0xec40f6+_0x5ab977(0xb3)));return;}const _0x36e132=this[_0x5ab977(0xc8)][_0x4cb617];if(_0x36e132==undefined){this['raise'](_0x5ab977(0x86),new Error(_0x5ab977(0x8d)+_0x4cb617+_0x5ab977(0xba)));return;}const _0x2b2675=this[_0x5ab977(0x9b)](_0x4fb1af[_0x5ab977(0xa3)](0x1));_0x36e132[_0x5ab977(0xc2)](undefined,_0x2b2675);break;}case 0x9:this['send'](_0x5ab977(0x89),_0x4fb1af);break;case 0xa:const _0x4cd5ce=_0x4fb1af[_0x5ab977(0xb2)](_0x5ab977(0xd8)),_0x4e401f=this[_0x5ab977(0xa5)][_0x4cd5ce];if(_0x4e401f==undefined){this[_0x5ab977(0xc3)](_0x5ab977(0x86),new Error(_0x5ab977(0xca)));return;}_0x4e401f();break;case 0x8:if(this[_0x5ab977(0xad)]===_0x5ab977(0xd6))return;let _0x5c39e0=0x3e8,_0x26ade2='';_0x4fb1af[_0x5ab977(0xa0)]>=0x2&&(_0x5c39e0=_0x4fb1af['readUInt16BE'](0x0),_0x26ade2=_0x4fb1af['slice'](0x2)[_0x5ab977(0xb2)](_0x5ab977(0xd8)));this['disconnect'](_0x5c39e0,_0x26ade2,null);break;default:this['raise'](_0x5ab977(0x86),new Error('Received\x20message\x20with\x20unsupported\x20opcode:\x20'+_0x3cf7eb));}}[a2_0x1ae12b(0xa8)](_0x4b1d43){const _0x1e28af=a2_0x1ae12b;return Buffer['from'](JSON['stringify'](_0x4b1d43),_0x1e28af(0xd8));}[a2_0x1ae12b(0x9b)](_0x25de42){const _0x409663=a2_0x1ae12b;return JSON['parse'](_0x25de42[_0x409663(0xb2)]('utf-8'));}[a2_0x1ae12b(0x9c)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x1d22bf,_0x3af63c)=>{const _0x2290d5=a2_0x1ab2,_0x465065=crypto_1[_0x2290d5(0xd2)][_0x2290d5(0xbc)](),_0x5d4435=setTimeout(()=>{delete this['pingRequests'][_0x465065],this['disconnect'](0x3e8,'',null),_0x1d22bf(![]);},this[_0x2290d5(0x8a)]);this[_0x2290d5(0xa5)][_0x465065]=()=>{const _0x105ba6=_0x2290d5;delete this[_0x105ba6(0xa5)][_0x465065],clearTimeout(_0x5d4435),_0x1d22bf(!![]),setTimeout(()=>{const _0x399021=_0x105ba6;if(this[_0x399021(0xad)]!=='open')return;this[_0x399021(0x9c)]();},this[_0x105ba6(0x88)]);},this['send']('ping',Buffer[_0x2290d5(0xc1)](_0x465065));});});}['on'](_0x3c75c8,_0x1c8e97){const _0x7dbc86=a2_0x1ae12b;if(this[_0x7dbc86(0x81)][_0x3c75c8]==undefined)this[_0x7dbc86(0x81)][_0x3c75c8]=[];this['handlers'][_0x3c75c8][_0x7dbc86(0x83)](_0x1c8e97);}[a2_0x1ae12b(0x96)](_0x1d8dd8,_0x20563c){const _0x4e1e08=a2_0x1ae12b;if(_0x20563c==undefined){this[_0x4e1e08(0x81)][_0x1d8dd8]=[];return;}const _0x15660d=this[_0x4e1e08(0x81)][_0x1d8dd8],_0x17be5d=(_0x15660d!==null&&_0x15660d!==void 0x0?_0x15660d:[])[_0x4e1e08(0xa2)](_0x31629c=>_0x31629c===_0x20563c);if(_0x17be5d===-0x1)throw new Error(_0x4e1e08(0xbd)+_0x1d8dd8+_0x4e1e08(0xaf));_0x15660d[_0x4e1e08(0xa7)](_0x17be5d,0x1);}[a2_0x1ae12b(0xc3)](_0x473341,_0x5c428d){const _0xad6223=a2_0x1ae12b;var _0x1302e1;const _0x683baa=(_0x1302e1=this[_0xad6223(0x81)][_0x473341])!==null&&_0x1302e1!==void 0x0?_0x1302e1:[];for(const _0x28fef1 of _0x683baa){_0x28fef1(_0x5c428d);}}static['fromUpgradeRequest'](_0x5db4dd,_0xb063e4){const _0x5e5014=a2_0x1ae12b,_0xd5c19d=_0x5db4dd[_0x5e5014(0x80)][_0x5e5014(0xc4)];if(_0xd5c19d==undefined)return _0xb063e4[_0x5e5014(0x93)](),null;const _0x3d3ae6=crypto_1[_0x5e5014(0xd2)]['createHash'](_0x5e5014(0x8b));_0x3d3ae6[_0x5e5014(0x87)](_0xd5c19d+_0x5e5014(0xc6));const _0x5ec073=_0x3d3ae6[_0x5e5014(0xb0)]('base64'),_0xf8da78=[_0x5e5014(0xd7),_0x5e5014(0xa6),_0x5e5014(0xb7),_0x5e5014(0x99)+_0x5ec073];return _0xb063e4[_0x5e5014(0xd1)](_0xf8da78[_0x5e5014(0x95)]('\x0d\x0a')+_0x5e5014(0xab)),new Socket(_0xb063e4);}}exports[a2_0x1ae12b(0xd2)]=Socket;