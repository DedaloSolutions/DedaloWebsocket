'use strict';const a3_0xd591dd=a3_0x17b2;(function(_0x4cd8c0,_0x45bf0a){const _0x31a586=a3_0x17b2,_0xff13fc=_0x4cd8c0();while(!![]){try{const _0x26feec=-parseInt(_0x31a586(0xff))/0x1*(-parseInt(_0x31a586(0xcb))/0x2)+-parseInt(_0x31a586(0xcf))/0x3*(parseInt(_0x31a586(0xae))/0x4)+-parseInt(_0x31a586(0xef))/0x5+parseInt(_0x31a586(0xb5))/0x6+-parseInt(_0x31a586(0xf0))/0x7*(parseInt(_0x31a586(0xeb))/0x8)+-parseInt(_0x31a586(0xbc))/0x9*(parseInt(_0x31a586(0xde))/0xa)+parseInt(_0x31a586(0xb7))/0xb;if(_0x26feec===_0x45bf0a)break;else _0xff13fc['push'](_0xff13fc['shift']());}catch(_0x59af13){_0xff13fc['push'](_0xff13fc['shift']());}}}(a3_0x1148,0xefaa8));function a3_0x1148(){const _0x582f19=['encode','apply','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','next','handle','concat','base64','2498632HekYJI','raise','end','off','5493255oXILbe','7ZDBBTJ','pingTimeout','open','disconnect','NaN','pendingRequests','handlers','once','Received\x20message\x20with\x20unsupported\x20opcode:\x20','parse','closed','readBigUInt64BE','binary','send','fromUpgradeRequest','1925bkBsJd','Timeout','splice','closing','_status','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','handshake','Upgrade:\x20websocket','length','headers','write','11368leRPVV','push','ping','throw','Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.','close','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','6405930WYtjzp','error','18654031nTYCiO','randomUUID','update','__awaiter','checkHeartbeat','9vYlwiv','Received\x20non-standard\x20text\x20message:\x20','value','copy','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22','requestId','Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping','data','__esModule','readUInt16BE','alloc','toString','default','crypto','done','1762NgRRLx','socket','status','digest','1185IYpHLC','defineProperty','join','sec-websocket-key','utf-8','pingInterval','includes','pingRequests','set','then','slice','writeUInt16BE','pong','destroy','sha1','9441590zEFGJp','HTTP/1.1\x20101\x20Switching\x20Protocols','Connection:\x20Upgrade','call','decode','from'];a3_0x1148=function(){return _0x582f19;};return a3_0x1148();}var __awaiter=this&&this[a3_0xd591dd(0xba)]||function(_0x571ccb,_0x2826b5,_0x58fb88,_0x59bf50){function _0x39f5d7(_0x5e1e0b){return _0x5e1e0b instanceof _0x58fb88?_0x5e1e0b:new _0x58fb88(function(_0x5bd60d){_0x5bd60d(_0x5e1e0b);});}return new(_0x58fb88||(_0x58fb88=Promise))(function(_0x58e4c0,_0x4273b8){const _0x3f7ef3=a3_0x17b2;function _0x122238(_0x3a0023){const _0x1fc0da=a3_0x17b2;try{_0x1ad0fe(_0x59bf50[_0x1fc0da(0xe7)](_0x3a0023));}catch(_0x1ef0de){_0x4273b8(_0x1ef0de);}}function _0x7af10b(_0x4a1575){const _0x222cf9=a3_0x17b2;try{_0x1ad0fe(_0x59bf50[_0x222cf9(0xb1)](_0x4a1575));}catch(_0x4118ca){_0x4273b8(_0x4118ca);}}function _0x1ad0fe(_0x4ced70){const _0x3d4003=a3_0x17b2;_0x4ced70[_0x3d4003(0xca)]?_0x58e4c0(_0x4ced70['value']):_0x39f5d7(_0x4ced70[_0x3d4003(0xbe)])[_0x3d4003(0xd8)](_0x122238,_0x7af10b);}_0x1ad0fe((_0x59bf50=_0x59bf50[_0x3f7ef3(0xe5)](_0x571ccb,_0x2826b5||[]))[_0x3f7ef3(0xe7)]());});},__importDefault=this&&this['__importDefault']||function(_0x5399f9){const _0x35c894=a3_0xd591dd;return _0x5399f9&&_0x5399f9[_0x35c894(0xc4)]?_0x5399f9:{'default':_0x5399f9};};Object[a3_0xd591dd(0xd0)](exports,a3_0xd591dd(0xc4),{'value':!![]});const crypto_1=__importDefault(require(a3_0xd591dd(0xc9)));function a3_0x17b2(_0x5c5cee,_0x111f4d){const _0x114836=a3_0x1148();return a3_0x17b2=function(_0x17b2d5,_0x1f231c){_0x17b2d5=_0x17b2d5-0xae;let _0x14af12=_0x114836[_0x17b2d5];return _0x14af12;},a3_0x17b2(_0x5c5cee,_0x111f4d);}class Socket{constructor(_0x5a82a3){const _0x330c72=a3_0xd591dd;this[_0x330c72(0xcc)]=_0x5a82a3,this[_0x330c72(0x103)]='handshake',this[_0x330c72(0xd4)]=0x5*0x3e8,this[_0x330c72(0xf1)]=0x2*0x3e8,this[_0x330c72(0xd6)]={},this[_0x330c72(0xc1)]=0x1,this[_0x330c72(0xf5)]={},this[_0x330c72(0xc3)]={},this['handlers']={},this[_0x330c72(0xcc)]['on'](_0x330c72(0xc3),_0x5e604b=>this[_0x330c72(0xe8)](_0x5e604b)),this[_0x330c72(0xcc)]['on']('error',_0x2aa190=>this[_0x330c72(0xec)](_0x330c72(0xb6),_0x2aa190));const _0x3f278b=this[_0x330c72(0xe4)]({'pingInterval':this[_0x330c72(0xd4)]});this['send'](_0x330c72(0xfc),_0x3f278b);}[a3_0xd591dd(0xf3)](){return __awaiter(this,arguments,void 0x0,function*(_0xbe9a70=0x3e8,_0x45f9ba='',_0x598bbc=0x1388){return new Promise((_0x3252c9,_0x15bacf)=>{const _0x355d26=a3_0x17b2,_0x42a799=Buffer[_0x355d26(0xe3)](_0x45f9ba,_0x355d26(0xd3)),_0xa199ec=Buffer[_0x355d26(0xc6)](0x2+_0x42a799['length']);_0xa199ec[_0x355d26(0xda)](_0xbe9a70,0x0),_0x42a799[_0x355d26(0xbf)](_0xa199ec,0x2);const _0x446db0=_0xa199ec[_0x355d26(0x107)],_0x38fca6=_0x446db0<0x7e?_0x446db0:_0x446db0<0x10000?0x7e:0x7f,_0x52924b=_0x38fca6===0x7e?Buffer[_0x355d26(0xe3)]([0x88,0x7e,_0x446db0>>0x8&0xff,_0x446db0&0xff]):_0x38fca6===0x7f?Buffer['from']([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x446db0>>0x8&0xff,_0x446db0&0xff]):Buffer[_0x355d26(0xe3)]([0x88,_0x446db0]),_0x4bfb04=Buffer[_0x355d26(0xe9)]([_0x52924b,_0xa199ec]);this[_0x355d26(0xcc)][_0x355d26(0x109)](_0x4bfb04),this[_0x355d26(0x103)]='closing';if(_0x598bbc===null)this[_0x355d26(0xcc)][_0x355d26(0xed)](),this['status']!=='closed'&&(this[_0x355d26(0xec)](_0x355d26(0xb3),{'code':_0xbe9a70,'reason':_0x45f9ba}),this[_0x355d26(0x103)]=_0x355d26(0xfa)),_0x3252c9();else{let _0x3b3d0b=!![];this[_0x355d26(0xcc)][_0x355d26(0xf7)](_0x355d26(0xc3),_0x4d6665=>{const _0x218405=_0x355d26;if(!_0x3b3d0b)return;_0x4d6665[0x0]===0x88?(this[_0x218405(0x103)]=_0x218405(0xfa),this[_0x218405(0xcc)][_0x218405(0xed)](),this[_0x218405(0xec)](_0x218405(0xb3),{'code':_0xbe9a70,'reason':_0x45f9ba}),_0x3252c9()):_0x15bacf(new Error(_0x218405(0xb2)));}),setTimeout(()=>{const _0x57bb24=_0x355d26;_0x3b3d0b=![],_0x15bacf(new Error('Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.')),this[_0x57bb24(0xcc)][_0x57bb24(0xed)]();},_0x598bbc);}});});}get[a3_0xd591dd(0xcd)](){const _0x208c67=a3_0xd591dd;return this[_0x208c67(0x103)];}[a3_0xd591dd(0xfd)](_0x576ec8,_0x4936d6){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x4a6058=a3_0x17b2;let _0x4e0b07,_0x5136b2;switch(_0x576ec8){case'text':_0x4e0b07=Buffer[_0x4a6058(0xe3)](_0x4936d6,_0x4a6058(0xd3)),_0x5136b2=0x1;break;case _0x4a6058(0xfc):_0x4e0b07=_0x4936d6,_0x5136b2=0x2;break;case _0x4a6058(0xb0):_0x4e0b07=_0x4936d6,_0x5136b2=0x9;break;case _0x4a6058(0xdb):_0x4e0b07=_0x4936d6,_0x5136b2=0xa;break;}const _0x10b28e=[];if(_0x4e0b07[_0x4a6058(0x107)]<0x7e)_0x10b28e['push'](_0x4e0b07[_0x4a6058(0x107)]);else{if(_0x4e0b07[_0x4a6058(0x107)]<0x10000)_0x10b28e[_0x4a6058(0xaf)](0x7e,_0x4e0b07[_0x4a6058(0x107)]>>0x8&0xff,_0x4e0b07[_0x4a6058(0x107)]&0xff);else{_0x10b28e[_0x4a6058(0xaf)](0x7f);for(let _0x9063b3=0x7;_0x9063b3>=0x0;_0x9063b3--)_0x10b28e[_0x4a6058(0xaf)](_0x4e0b07['length']>>_0x9063b3*0x8&0xff);}}const _0x4c4241=Buffer[_0x4a6058(0xe9)]([Buffer['from']([0x80|_0x5136b2,..._0x10b28e]),_0x4e0b07]);return new Promise((_0x322d2f,_0x49744a)=>{const _0x178219=_0x4a6058;this[_0x178219(0xcc)][_0x178219(0x109)](_0x4c4241,undefined,_0x5102be=>{if(_0x5102be!=undefined)return _0x49744a(_0x5102be);_0x322d2f();});});});}['emit'](_0x5c0954,_0x1a7acf,_0x2a20f9){return __awaiter(this,arguments,void 0x0,function*(_0xbc4bbd,_0x29365a,_0x440eb8,_0x2186f1=0x5*0x3e8){const _0x12bce2=a3_0x17b2;if(this[_0x12bce2(0xcc)]==undefined||this[_0x12bce2(0xcd)]!==_0x12bce2(0xf2))throw new Error('The\x20websocket\x20is\x20not\x20connected');if([_0x12bce2(0x105),_0x12bce2(0xf2),_0x12bce2(0xb6),_0x12bce2(0xb3),'*'][_0x12bce2(0xd5)](_0xbc4bbd))throw new Error(_0x12bce2(0xc0));const _0x4d5554=new TextEncoder()[_0x12bce2(0xe4)](_0xbc4bbd);if(_0x4d5554[_0x12bce2(0x107)]>0xff)throw new Error('Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)');const _0x1fcef1=this[_0x12bce2(0xc1)];if(_0x440eb8!=undefined){this[_0x12bce2(0xc1)]=(this[_0x12bce2(0xc1)]+0x1)%0x100;const _0x5b0609=setTimeout(()=>{const _0x3dc49c=_0x12bce2;delete this[_0x3dc49c(0xf5)][_0x1fcef1],_0x440eb8(new Error(_0x3dc49c(0x100)));},_0x2186f1);this[_0x12bce2(0xf5)][_0x1fcef1]=_0x530e36=>{if(!(_0x530e36 instanceof Error))clearTimeout(_0x5b0609);_0x440eb8(_0x530e36);};}const _0x2febdf=this[_0x12bce2(0xe4)](_0x29365a),_0x28e8d2=new Uint8Array(0x2+(_0x440eb8==undefined?0x0:0x1)+_0x4d5554[_0x12bce2(0x107)]+_0x2febdf[_0x12bce2(0x107)]);_0x28e8d2[0x0]=_0x440eb8==undefined?0x2:0x3;if(_0x440eb8!=undefined)_0x28e8d2[0x1]=_0x1fcef1;return _0x28e8d2[0x1+(_0x440eb8!=undefined?0x1:0x0)]=_0x4d5554[_0x12bce2(0x107)],_0x28e8d2[_0x12bce2(0xd7)](_0x4d5554,0x2+(_0x440eb8!=undefined?0x1:0x0)),_0x28e8d2['set'](_0x2febdf,0x2+(_0x440eb8!=undefined?0x1:0x0)+_0x4d5554[_0x12bce2(0x107)]),this[_0x12bce2(0xfd)](_0x12bce2(0xfc),_0x28e8d2);});}[a3_0xd591dd(0xe8)](_0x377053){const _0x3c520d=a3_0xd591dd;var _0x340c5a,_0x5d2341;const _0x2b4e86=_0x377053[0x0],_0x1812e1=(_0x2b4e86&0x80)!==0x0,_0x156689=_0x2b4e86&0xf,_0x2716ec=_0x377053[0x1],_0x8931ec=(_0x2716ec&0x80)!==0x0;let _0x1eb233=_0x2716ec&0x7f,_0x3852b5=0x2;if(_0x1eb233===0x7e)_0x1eb233=_0x377053[_0x3c520d(0xc5)](_0x3852b5),_0x3852b5+=0x2;else _0x1eb233===0x7f&&(_0x1eb233=Number(_0x377053[_0x3c520d(0xfb)](_0x3852b5)),_0x3852b5+=0x8);const _0x1f0c18=_0x8931ec?_0x377053[_0x3c520d(0xd9)](_0x3852b5,_0x3852b5+0x4):Buffer[_0x3c520d(0xc6)](0x0);if(_0x8931ec)_0x3852b5+=0x4;let _0x5d10b6=_0x377053['slice'](_0x3852b5,_0x3852b5+_0x1eb233);if(_0x8931ec){const _0x2a282f=Buffer['alloc'](_0x5d10b6['length']);for(let _0x48acdc=0x0;_0x48acdc<_0x5d10b6[_0x3c520d(0x107)];_0x48acdc++)_0x2a282f[_0x48acdc]=_0x5d10b6[_0x48acdc]^_0x1f0c18[_0x48acdc%0x4];_0x5d10b6=_0x2a282f;}switch(_0x156689){case 0x1:this[_0x3c520d(0xec)](_0x3c520d(0xb6),new Error(_0x3c520d(0xbd)+_0x5d10b6[_0x3c520d(0xc7)](_0x3c520d(0xd3))));break;case 0x2:{if(this[_0x3c520d(0x103)]===_0x3c520d(0x105)){const _0x5c3a24=this['decode'](_0x5d10b6);this['raise'](_0x3c520d(0x105),_0x5c3a24),this[_0x3c520d(0x103)]='open',this[_0x3c520d(0xfd)]('binary',Buffer['alloc'](0x0)),this[_0x3c520d(0xbb)]();return;}const _0x5e80ae=_0x5d10b6[0x0];switch(_0x5e80ae){case 0x0:{_0x5d10b6[0x0]=0x1,this[_0x3c520d(0xfd)]('binary',_0x5d10b6);break;}case 0x1:{const _0x402bba=_0x5d10b6[_0x3c520d(0xd9)](0x1)[_0x3c520d(0xc7)](_0x3c520d(0xd3)),_0x267394=this[_0x3c520d(0xd6)][_0x402bba];if(_0x267394==undefined){this['raise']('error',new Error(_0x3c520d(0xc2)));return;}_0x267394();break;}case 0x2:case 0x3:{const _0x57d999=_0x5e80ae===0x2?Number[_0x3c520d(0xf4)]:_0x5d10b6[0x1],_0x5313e9=_0x5e80ae===0x2?0x0:0x1,_0x123715=_0x5d10b6[0x1+_0x5313e9],_0x56d4bf=new TextDecoder()['decode'](_0x5d10b6['slice'](0x2+_0x5313e9,0x2+_0x5313e9+_0x123715));if([_0x3c520d(0x105),_0x3c520d(0xf2),'error','close','*'][_0x3c520d(0xd5)](_0x56d4bf))return;const _0x207668=this[_0x3c520d(0xe2)](_0x5d10b6[_0x3c520d(0xd9)](0x2+_0x5313e9+_0x123715)),_0xafc625=(_0x340c5a=this['handlers'][_0x56d4bf])!==null&&_0x340c5a!==void 0x0?_0x340c5a:[];let _0x139690=![];for(const _0x3cd452 of _0xafc625){const _0x5f539a=_0x3cd452[_0x3c520d(0xe1)](undefined,_0x207668);if(!_0x139690&&_0x5f539a!==undefined&&_0x57d999!==0x0){_0x139690=!![];const _0x52c3b7=Buffer['concat']([Buffer[_0x3c520d(0xe3)]([0x4,_0x57d999]),this[_0x3c520d(0xe4)](_0x5f539a)]);this[_0x3c520d(0xfd)](_0x3c520d(0xfc),_0x52c3b7);}}const _0x4ad16a=(_0x5d2341=this[_0x3c520d(0xf6)]['*'])!==null&&_0x5d2341!==void 0x0?_0x5d2341:[];for(const _0x29a816 of _0x4ad16a)_0x29a816['call'](undefined,_0x56d4bf,_0x207668);if(!_0x139690&&_0x5e80ae===0x3){}break;}case 0x4:{const _0x29c769=_0x5d10b6[0x1],_0x2b6741=this[_0x3c520d(0xf5)][_0x29c769];if(_0x2b6741==undefined)return;const _0x65feb8=this[_0x3c520d(0xe2)](_0x5d10b6[_0x3c520d(0xd9)](0x2));_0x2b6741(_0x65feb8);break;}}break;}case 0x9:this['send'](_0x3c520d(0xdb),_0x5d10b6);break;case 0xa:break;case 0x8:if(this[_0x3c520d(0x103)]===_0x3c520d(0x102))return;let _0x5c3762=0x3e8,_0x45b387='';_0x5d10b6[_0x3c520d(0x107)]>=0x2&&(_0x5c3762=_0x5d10b6[_0x3c520d(0xc5)](0x0),_0x45b387=_0x5d10b6[_0x3c520d(0xd9)](0x2)[_0x3c520d(0xc7)](_0x3c520d(0xd3)));this[_0x3c520d(0xf3)](_0x5c3762,_0x45b387,null);break;default:this[_0x3c520d(0xec)](_0x3c520d(0xb6),new Error(_0x3c520d(0xf8)+_0x156689));}}['encode'](_0x337313){const _0x84c57f=a3_0xd591dd;return Buffer[_0x84c57f(0xe3)](JSON['stringify'](_0x337313),_0x84c57f(0xd3));}['decode'](_0x3abaf9){const _0x2a629e=a3_0xd591dd;return JSON[_0x2a629e(0xf9)](_0x3abaf9[_0x2a629e(0xc7)]('utf-8'));}[a3_0xd591dd(0xbb)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x172ef5,_0x4b7bb8)=>{const _0x190f9c=a3_0x17b2;if(this[_0x190f9c(0x103)]!==_0x190f9c(0xf2))return;const _0x322170=crypto_1[_0x190f9c(0xc8)][_0x190f9c(0xb8)](),_0x505944=setTimeout(()=>{const _0x37a98b=_0x190f9c;delete this[_0x37a98b(0xd6)][_0x322170];if(![_0x37a98b(0x102),_0x37a98b(0xfa)][_0x37a98b(0xd5)](this['status']))this[_0x37a98b(0xf3)](0x3e8,'',null);_0x172ef5(![]);},this['pingTimeout']);this[_0x190f9c(0xd6)][_0x322170]=()=>{const _0x383b6a=_0x190f9c;delete this[_0x383b6a(0xd6)][_0x322170],clearTimeout(_0x505944),_0x172ef5(!![]),setTimeout(()=>{const _0x1c86c3=_0x383b6a;if(this[_0x1c86c3(0x103)]!==_0x1c86c3(0xf2))return;this[_0x1c86c3(0xbb)]();},this[_0x383b6a(0xd4)]);},this[_0x190f9c(0xfd)](_0x190f9c(0xfc),Buffer[_0x190f9c(0xe9)]([Buffer[_0x190f9c(0xe3)]([0x0]),Buffer[_0x190f9c(0xe3)](_0x322170)]));});});}['on'](_0x430b21,_0x44253a){const _0x34ca29=a3_0xd591dd;if(this[_0x34ca29(0xf6)][_0x430b21]==undefined)this[_0x34ca29(0xf6)][_0x430b21]=[];this[_0x34ca29(0xf6)][_0x430b21][_0x34ca29(0xaf)](_0x44253a);}[a3_0xd591dd(0xee)](_0x10b406,_0x378ae3){const _0x288558=a3_0xd591dd;if(_0x378ae3==undefined){this[_0x288558(0xf6)][_0x10b406]=[];return;}const _0x37aec3=this['handlers'][_0x10b406],_0x643b7b=(_0x37aec3!==null&&_0x37aec3!==void 0x0?_0x37aec3:[])['findIndex'](_0x3e5abf=>_0x3e5abf===_0x378ae3);if(_0x643b7b===-0x1)throw new Error(_0x288558(0x104)+_0x10b406+_0x288558(0xb4));_0x37aec3[_0x288558(0x101)](_0x643b7b,0x1);}[a3_0xd591dd(0xec)](_0x45077b,_0x5e37ee){const _0x47df9a=a3_0xd591dd;var _0x2cbcca,_0x4d095d;const _0x4a2b9f=(_0x2cbcca=this[_0x47df9a(0xf6)][_0x45077b])!==null&&_0x2cbcca!==void 0x0?_0x2cbcca:[];for(const _0x324fbb of _0x4a2b9f)_0x324fbb(_0x5e37ee);const _0x12fbe4=(_0x4d095d=this[_0x47df9a(0xf6)]['*'])!==null&&_0x4d095d!==void 0x0?_0x4d095d:[];for(const _0x51f734 of _0x12fbe4)_0x51f734(_0x45077b,_0x5e37ee);}static[a3_0xd591dd(0xfe)](_0x51f38c,_0x3f68b6){const _0xadcdd5=a3_0xd591dd,_0x1bb157=_0x51f38c[_0xadcdd5(0x108)][_0xadcdd5(0xd2)];if(_0x1bb157==undefined)return _0x3f68b6[_0xadcdd5(0xdc)](),null;const _0x3fbb1e=crypto_1[_0xadcdd5(0xc8)]['createHash'](_0xadcdd5(0xdd));_0x3fbb1e[_0xadcdd5(0xb9)](_0x1bb157+_0xadcdd5(0xe6));const _0x5bdb10=_0x3fbb1e[_0xadcdd5(0xce)](_0xadcdd5(0xea)),_0x1b1398=[_0xadcdd5(0xdf),_0xadcdd5(0x106),_0xadcdd5(0xe0),'Sec-WebSocket-Accept:\x20'+_0x5bdb10];return _0x3f68b6[_0xadcdd5(0x109)](_0x1b1398[_0xadcdd5(0xd1)]('\x0d\x0a')+'\x0d\x0a\x0d\x0a'),new Socket(_0x3f68b6);}}exports[a3_0xd591dd(0xc8)]=Socket;