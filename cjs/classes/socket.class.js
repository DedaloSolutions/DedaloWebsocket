'use strict';const a3_0x30e1a3=a3_0xe2a3;(function(_0x4fb467,_0x14570c){const _0x345be9=a3_0xe2a3,_0x548d09=_0x4fb467();while(!![]){try{const _0x49116e=parseInt(_0x345be9(0xa5))/0x1*(parseInt(_0x345be9(0xd1))/0x2)+parseInt(_0x345be9(0xb2))/0x3*(-parseInt(_0x345be9(0xb5))/0x4)+parseInt(_0x345be9(0x87))/0x5*(parseInt(_0x345be9(0xae))/0x6)+-parseInt(_0x345be9(0x88))/0x7+parseInt(_0x345be9(0xb8))/0x8*(-parseInt(_0x345be9(0xd3))/0x9)+-parseInt(_0x345be9(0xdd))/0xa+parseInt(_0x345be9(0xcf))/0xb;if(_0x49116e===_0x14570c)break;else _0x548d09['push'](_0x548d09['shift']());}catch(_0x48a262){_0x548d09['push'](_0x548d09['shift']());}}}(a3_0x195c,0x8072c));var __awaiter=this&&this[a3_0x30e1a3(0x8e)]||function(_0x450fcf,_0x1a5958,_0x59a154,_0x36cdbf){function _0x66af40(_0x36e269){return _0x36e269 instanceof _0x59a154?_0x36e269:new _0x59a154(function(_0x539913){_0x539913(_0x36e269);});}return new(_0x59a154||(_0x59a154=Promise))(function(_0x43c922,_0x290880){const _0x36d50=a3_0xe2a3;function _0x5ca415(_0x59258d){try{_0x1b8e10(_0x36cdbf['next'](_0x59258d));}catch(_0x10aab7){_0x290880(_0x10aab7);}}function _0x4ec9b5(_0x122dcc){const _0x25d01b=a3_0xe2a3;try{_0x1b8e10(_0x36cdbf[_0x25d01b(0xb3)](_0x122dcc));}catch(_0x57b190){_0x290880(_0x57b190);}}function _0x1b8e10(_0x258dcc){const _0x3dda15=a3_0xe2a3;_0x258dcc['done']?_0x43c922(_0x258dcc[_0x3dda15(0xc8)]):_0x66af40(_0x258dcc[_0x3dda15(0xc8)])[_0x3dda15(0xa2)](_0x5ca415,_0x4ec9b5);}_0x1b8e10((_0x36cdbf=_0x36cdbf[_0x36d50(0xc3)](_0x450fcf,_0x1a5958||[]))[_0x36d50(0x91)]());});},__importDefault=this&&this[a3_0x30e1a3(0xbe)]||function(_0x54b247){const _0x4b57a8=a3_0x30e1a3;return _0x54b247&&_0x54b247[_0x4b57a8(0xe1)]?_0x54b247:{'default':_0x54b247};};function a3_0xe2a3(_0x15ef18,_0x36a0b8){const _0x195c48=a3_0x195c();return a3_0xe2a3=function(_0xe2a3c6,_0x67ec07){_0xe2a3c6=_0xe2a3c6-0x82;let _0x192ec1=_0x195c48[_0xe2a3c6];return _0x192ec1;},a3_0xe2a3(_0x15ef18,_0x36a0b8);}Object[a3_0x30e1a3(0x8f)](exports,'__esModule',{'value':!![]});const crypto_1=__importDefault(require(a3_0x30e1a3(0x90)));class Socket{constructor(_0x2d7a69){const _0x2295c0=a3_0x30e1a3;this[_0x2295c0(0x9b)]=_0x2d7a69,this['status']=_0x2295c0(0x9e),this[_0x2295c0(0xc2)]=0x5*0x3e8,this['pingTimeout']=0x2*0x3e8,this[_0x2295c0(0x83)]={},this['requestId']=0x1,this[_0x2295c0(0xce)]={},this['data']={},this[_0x2295c0(0xaa)]={},this['socket']['on'](_0x2295c0(0xa9),_0x545c54=>this[_0x2295c0(0xb9)](_0x545c54)),this[_0x2295c0(0x9b)]['on'](_0x2295c0(0x98),_0x2ddbd7=>this[_0x2295c0(0x9f)](_0x2295c0(0x98),_0x2ddbd7)),this[_0x2295c0(0x9b)]['on'](_0x2295c0(0xa3),()=>{}),this[_0x2295c0(0xd8)]();const _0x1d6604=this[_0x2295c0(0x94)]({'pingInterval':this[_0x2295c0(0xc2)]});this['send'](_0x2295c0(0xca),_0x1d6604);}[a3_0x30e1a3(0xb1)](){return __awaiter(this,arguments,void 0x0,function*(_0x3fb1c=0x3e8,_0x5462ac='',_0x4b3806=0x1388){return new Promise((_0xde7446,_0x21194e)=>{const _0x5e9200=a3_0xe2a3,_0x151b3b=Buffer[_0x5e9200(0x99)](_0x5462ac,_0x5e9200(0x93)),_0xafb30a=Buffer[_0x5e9200(0x9a)](0x2+_0x151b3b[_0x5e9200(0xbf)]);_0xafb30a[_0x5e9200(0xbb)](_0x3fb1c,0x0),_0x151b3b['copy'](_0xafb30a,0x2);const _0x1f5986=_0xafb30a[_0x5e9200(0xbf)],_0x2f5c62=_0x1f5986<0x7e?_0x1f5986:_0x1f5986<0x10000?0x7e:0x7f,_0x5457e4=_0x2f5c62===0x7e?Buffer[_0x5e9200(0x99)]([0x88,0x7e,_0x1f5986>>0x8&0xff,_0x1f5986&0xff]):_0x2f5c62===0x7f?Buffer[_0x5e9200(0x99)]([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x1f5986>>0x8&0xff,_0x1f5986&0xff]):Buffer[_0x5e9200(0x99)]([0x88,_0x1f5986]),_0x56f677=Buffer['concat']([_0x5457e4,_0xafb30a]);this[_0x5e9200(0x9b)][_0x5e9200(0xb0)](_0x56f677),this[_0x5e9200(0xd7)]=_0x5e9200(0xa0);if(_0x4b3806===null)this[_0x5e9200(0xd7)]='closed',this[_0x5e9200(0x9b)][_0x5e9200(0xdb)](),this[_0x5e9200(0x9f)](_0x5e9200(0xa3),{'code':_0x3fb1c,'reason':_0x5462ac}),_0xde7446();else{let _0xe6ee8c=!![];this[_0x5e9200(0x9b)][_0x5e9200(0xbd)](_0x5e9200(0xa9),_0x17a9c8=>{const _0x1fcbc3=_0x5e9200;if(!_0xe6ee8c)return;_0x17a9c8[0x0]===0x88?(this[_0x1fcbc3(0xd7)]=_0x1fcbc3(0xd9),this[_0x1fcbc3(0x9b)][_0x1fcbc3(0xdb)](),this[_0x1fcbc3(0x9f)](_0x1fcbc3(0xa3),{'code':_0x3fb1c,'reason':_0x5462ac}),_0xde7446()):_0x21194e(new Error(_0x1fcbc3(0xac)));}),setTimeout(()=>{const _0x5ad36f=_0x5e9200;_0xe6ee8c=![],_0x21194e(new Error('Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.')),this[_0x5ad36f(0x9b)][_0x5ad36f(0xdb)]();},_0x4b3806);}});});}[a3_0x30e1a3(0xc6)](_0x2d867f,_0x4676b6){const _0x1dbbf6=a3_0x30e1a3;let _0x3153cd,_0x4e9dd9;switch(_0x2d867f){case _0x1dbbf6(0xa8):_0x3153cd=Buffer['from'](_0x4676b6,_0x1dbbf6(0x93)),_0x4e9dd9=0x1;break;case _0x1dbbf6(0xca):_0x3153cd=_0x4676b6,_0x4e9dd9=0x2;break;case'ping':_0x3153cd=_0x4676b6,_0x4e9dd9=0x9;break;case _0x1dbbf6(0xb4):_0x3153cd=_0x4676b6,_0x4e9dd9=0xa;break;}const _0x941570=[];if(_0x3153cd[_0x1dbbf6(0xbf)]<0x7e)_0x941570[_0x1dbbf6(0xc9)](_0x3153cd['length']);else{if(_0x3153cd[_0x1dbbf6(0xbf)]<0x10000)_0x941570[_0x1dbbf6(0xc9)](0x7e,_0x3153cd[_0x1dbbf6(0xbf)]>>0x8&0xff,_0x3153cd['length']&0xff);else{_0x941570['push'](0x7f);for(let _0x3cd12c=0x7;_0x3cd12c>=0x0;_0x3cd12c--)_0x941570[_0x1dbbf6(0xc9)](_0x3153cd['length']>>_0x3cd12c*0x8&0xff);}}const _0x158e2e=Buffer[_0x1dbbf6(0xcd)]([Buffer[_0x1dbbf6(0x99)]([0x80|_0x4e9dd9,..._0x941570]),_0x3153cd]);this[_0x1dbbf6(0x9b)][_0x1dbbf6(0xb0)](_0x158e2e);}[a3_0x30e1a3(0xd5)](_0xeedba5,_0x317e6b,_0x7378b3,_0x220b7f=0x32*0x3e8){const _0x430bea=a3_0x30e1a3;if(this['socket']==undefined||this['status']!==_0x430bea(0xdc))throw new Error(_0x430bea(0x9c));if([_0x430bea(0x9e),_0x430bea(0xdc),_0x430bea(0x98),_0x430bea(0xa3)][_0x430bea(0x95)](_0xeedba5))throw new Error(_0x430bea(0x82));const _0x1d84bf=_0x7378b3==undefined?0x0:this['requestId'],_0x3f7166=Buffer[_0x430bea(0x99)](_0xeedba5,_0x430bea(0x93));if(_0x3f7166[_0x430bea(0xbf)]>0xff)throw new Error(_0x430bea(0xb7));if(_0x7378b3!=undefined){this[_0x430bea(0xd0)]=(this[_0x430bea(0xd0)]+0x1)%0x80||0x1;const _0x5c2e4f=setTimeout(()=>{const _0x38647=_0x430bea;delete this[_0x38647(0xce)][_0x1d84bf],_0x7378b3(new Error(_0x38647(0xcc)));},_0x220b7f);this['pendingRequests'][_0x1d84bf]=_0xa23622=>{if(!(_0xa23622 instanceof Error))clearTimeout(_0x5c2e4f);_0x7378b3(_0xa23622);};}const _0x4082bd=Buffer['concat']([Buffer[_0x430bea(0x99)]([_0x1d84bf|0x80,_0x3f7166['length']]),_0x3f7166,this[_0x430bea(0x94)](_0x317e6b)]);this[_0x430bea(0xc6)]('binary',_0x4082bd);}['handle'](_0x3fff4d){const _0x1f90d2=a3_0x30e1a3;var _0x3fd3de,_0x1b9aca;const _0x5e3f8d=_0x3fff4d[0x0],_0x2b96b8=(_0x5e3f8d&0x80)!==0x0,_0x92ccc1=_0x5e3f8d&0xf,_0x22d0bb=_0x3fff4d[0x1],_0x3b9ad6=(_0x22d0bb&0x80)!==0x0;let _0x28f7cd=_0x22d0bb&0x7f,_0x191821=0x2;if(_0x28f7cd===0x7e)_0x28f7cd=_0x3fff4d['readUInt16BE'](_0x191821),_0x191821+=0x2;else _0x28f7cd===0x7f&&(_0x28f7cd=Number(_0x3fff4d[_0x1f90d2(0xa6)](_0x191821)),_0x191821+=0x8);const _0x51a6bb=_0x3b9ad6?_0x3fff4d[_0x1f90d2(0xa7)](_0x191821,_0x191821+0x4):Buffer[_0x1f90d2(0x9a)](0x0);if(_0x3b9ad6)_0x191821+=0x4;let _0x2657c9=_0x3fff4d['slice'](_0x191821,_0x191821+_0x28f7cd);if(_0x3b9ad6){const _0x43e5d4=Buffer[_0x1f90d2(0x9a)](_0x2657c9[_0x1f90d2(0xbf)]);for(let _0x4fea93=0x0;_0x4fea93<_0x2657c9[_0x1f90d2(0xbf)];_0x4fea93++)_0x43e5d4[_0x4fea93]=_0x2657c9[_0x4fea93]^_0x51a6bb[_0x4fea93%0x4];_0x2657c9=_0x43e5d4;}switch(_0x92ccc1){case 0x1:this[_0x1f90d2(0x9f)]('error',new Error(_0x1f90d2(0x8c)+_0x2657c9[_0x1f90d2(0xc5)](_0x1f90d2(0x93))));break;case 0x2:{if(this[_0x1f90d2(0xd7)]===_0x1f90d2(0x9e)){const _0x4740b1=this[_0x1f90d2(0xdf)](_0x2657c9);this[_0x1f90d2(0x9f)](_0x1f90d2(0x9e),_0x4740b1),this[_0x1f90d2(0xd7)]=_0x1f90d2(0xdc),this[_0x1f90d2(0xc6)](_0x1f90d2(0xca),Buffer[_0x1f90d2(0x9a)](0x0));return;}const _0x37bafa=_0x2657c9['readUInt8'](0x0),_0x47ad77=_0x37bafa&0x7f,_0x1abc3c=(_0x37bafa&0x80)!==0x0;if(_0x1abc3c){const _0x3f9e22=_0x2657c9[_0x1f90d2(0xba)](0x1),_0x112781=_0x2657c9[_0x1f90d2(0xa7)](0x2,0x2+_0x3f9e22)[_0x1f90d2(0xc5)]('utf-8');if([_0x1f90d2(0x9e),_0x1f90d2(0xdc),_0x1f90d2(0x98),_0x1f90d2(0xa3),'*']['includes'](_0x112781)){this[_0x1f90d2(0x9f)](_0x1f90d2(0x98),new Error(_0x1f90d2(0x84)+_0x112781+_0x1f90d2(0x8a)));return;}const _0x4c1014=this[_0x1f90d2(0xdf)](_0x2657c9[_0x1f90d2(0xa7)](0x2+_0x3f9e22)),_0x1000cb=(_0x3fd3de=this[_0x1f90d2(0xaa)][_0x112781])!==null&&_0x3fd3de!==void 0x0?_0x3fd3de:[];let _0x4ae60c=![];for(const _0x262443 of _0x1000cb){const _0x5d7498=_0x262443[_0x1f90d2(0xcb)](undefined,_0x4c1014);if(!_0x4ae60c&&_0x5d7498!==undefined&&_0x47ad77!==0x0){_0x4ae60c=!![];const _0x2c4fb5=Buffer['concat']([Buffer[_0x1f90d2(0x99)]([_0x47ad77&0x7f]),this[_0x1f90d2(0x94)](_0x5d7498)]);this[_0x1f90d2(0xc6)]('binary',_0x2c4fb5);}}const _0x520f94=(_0x1b9aca=this[_0x1f90d2(0xaa)]['*'])!==null&&_0x1b9aca!==void 0x0?_0x1b9aca:[];for(const _0x105c1b of _0x520f94)_0x105c1b[_0x1f90d2(0xcb)](undefined,_0x112781,_0x4c1014);if(!_0x4ae60c&&_0x47ad77!==0x0)this['raise'](_0x1f90d2(0x98),new Error(_0x1f90d2(0xda)+_0x112781+_0x1f90d2(0xad)));return;}const _0x9e0e13=this['pendingRequests'][_0x47ad77];if(_0x9e0e13==undefined){this[_0x1f90d2(0x9f)](_0x1f90d2(0x98),new Error(_0x1f90d2(0xbc)+_0x47ad77+_0x1f90d2(0xc7)));return;}const _0x581236=this[_0x1f90d2(0xdf)](_0x2657c9[_0x1f90d2(0xa7)](0x1));_0x9e0e13[_0x1f90d2(0xcb)](undefined,_0x581236);break;}case 0x9:this[_0x1f90d2(0xc6)]('pong',_0x2657c9);break;case 0xa:const _0x4559f6=_0x2657c9[_0x1f90d2(0xc5)]('utf-8'),_0x395dee=this[_0x1f90d2(0x83)][_0x4559f6];if(_0x395dee==undefined){this[_0x1f90d2(0x9f)](_0x1f90d2(0x98),new Error(_0x1f90d2(0x89)));return;}_0x395dee();break;case 0x8:if(this[_0x1f90d2(0xd7)]===_0x1f90d2(0xa0))return;let _0x2caed4=0x3e8,_0x42e54d='';_0x2657c9[_0x1f90d2(0xbf)]>=0x2&&(_0x2caed4=_0x2657c9[_0x1f90d2(0x86)](0x0),_0x42e54d=_0x2657c9[_0x1f90d2(0xa7)](0x2)[_0x1f90d2(0xc5)](_0x1f90d2(0x93)));this[_0x1f90d2(0xb1)](_0x2caed4,_0x42e54d,null);break;default:this['raise']('error',new Error(_0x1f90d2(0xab)+_0x92ccc1));}}['encode'](_0x3282ad){const _0x43e521=a3_0x30e1a3;return Buffer['from'](JSON[_0x43e521(0xc1)](_0x3282ad),_0x43e521(0x93));}[a3_0x30e1a3(0xdf)](_0xa6d825){const _0x20a552=a3_0x30e1a3;return JSON[_0x20a552(0xc0)](_0xa6d825[_0x20a552(0xc5)](_0x20a552(0x93)));}[a3_0x30e1a3(0xd8)](){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x8bcf55,_0x29e0d1)=>{const _0x54a6b3=a3_0xe2a3,_0x590f15=crypto_1['default'][_0x54a6b3(0xb6)](),_0x26e09c=setTimeout(()=>{const _0x2a227f=_0x54a6b3;delete this[_0x2a227f(0x83)][_0x590f15],this[_0x2a227f(0xb1)](0x3e8,'',null),_0x8bcf55(![]);},this['pingTimeout']);this[_0x54a6b3(0x83)][_0x590f15]=()=>{const _0x25ce48=_0x54a6b3;delete this[_0x25ce48(0x83)][_0x590f15],clearTimeout(_0x26e09c),_0x8bcf55(!![]),setTimeout(()=>{const _0x38a824=_0x25ce48;if(this[_0x38a824(0xd7)]!==_0x38a824(0xdc))return;this[_0x38a824(0xd8)]();},this[_0x25ce48(0xc2)]);},this[_0x54a6b3(0xc6)](_0x54a6b3(0xde),Buffer['from'](_0x590f15));});});}['on'](_0x2e306d,_0x7a6153){const _0x579e38=a3_0x30e1a3;if(this[_0x579e38(0xaa)][_0x2e306d]==undefined)this[_0x579e38(0xaa)][_0x2e306d]=[];this['handlers'][_0x2e306d]['push'](_0x7a6153);}['off'](_0x3b115a,_0x2e2152){const _0x53c536=a3_0x30e1a3;if(_0x2e2152==undefined){this[_0x53c536(0xaa)][_0x3b115a]=[];return;}const _0x51f327=this['handlers'][_0x3b115a],_0xa339de=(_0x51f327!==null&&_0x51f327!==void 0x0?_0x51f327:[])[_0x53c536(0xc4)](_0x5d9a2d=>_0x5d9a2d===_0x2e2152);if(_0xa339de===-0x1)throw new Error(_0x53c536(0xd2)+_0x3b115a+'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found');_0x51f327[_0x53c536(0xaf)](_0xa339de,0x1);}[a3_0x30e1a3(0x9f)](_0x523c94,_0x547614){const _0x2f46cb=a3_0x30e1a3;var _0x4ad284,_0xd0a416;const _0x3abdbf=(_0x4ad284=this[_0x2f46cb(0xaa)][_0x523c94])!==null&&_0x4ad284!==void 0x0?_0x4ad284:[];for(const _0x574aab of _0x3abdbf)_0x574aab(_0x547614);const _0x489229=(_0xd0a416=this['handlers']['*'])!==null&&_0xd0a416!==void 0x0?_0xd0a416:[];for(const _0x25feab of _0x489229)_0x25feab(_0x523c94,_0x547614);}static[a3_0x30e1a3(0x8b)](_0x555022,_0x5f38a6){const _0x5cec25=a3_0x30e1a3,_0x5102e8=_0x555022[_0x5cec25(0xa4)][_0x5cec25(0xe0)];if(_0x5102e8==undefined)return _0x5f38a6[_0x5cec25(0x96)](),null;const _0xc75d1b=crypto_1[_0x5cec25(0xd6)]['createHash'](_0x5cec25(0x92));_0xc75d1b[_0x5cec25(0x85)](_0x5102e8+_0x5cec25(0x8d));const _0x538bd5=_0xc75d1b[_0x5cec25(0xd4)]('base64'),_0x492236=['HTTP/1.1\x20101\x20Switching\x20Protocols',_0x5cec25(0x9d),_0x5cec25(0xa1),'Sec-WebSocket-Accept:\x20'+_0x538bd5];return _0x5f38a6[_0x5cec25(0xb0)](_0x492236['join']('\x0d\x0a')+_0x5cec25(0x97)),new Socket(_0x5f38a6);}}exports['default']=Socket;function a3_0x195c(){const _0x5aee93=[';\x20This\x20is\x20non-standard:\x20someone\x20is\x20trying\x20to\x20hack\x20the\x20protocol?','fromUpgradeRequest','Received\x20non-standard\x20text\x20message:\x20','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','__awaiter','defineProperty','crypto','next','sha1','utf-8','encode','includes','destroy','\x0d\x0a\x0d\x0a','error','from','alloc','socket','The\x20websocket\x20is\x20not\x20connected','Upgrade:\x20websocket','handshake','raise','closing','Connection:\x20Upgrade','then','close','headers','32135DttQEO','readBigUInt64BE','slice','text','data','handlers','Received\x20message\x20with\x20unsupported\x20opcode:\x20','Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.','\x20but\x20no\x20handler\x20return\x20a\x20result','33906QAkGLM','splice','write','disconnect','1155342wlaxpQ','throw','pong','8lzWbQo','randomUUID','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','10408pyWNlN','handle','readUInt8','writeUInt16BE','Received\x20a\x20response\x20for\x20the\x20id\x20','once','__importDefault','length','parse','stringify','pingInterval','apply','findIndex','toString','send','\x20but\x20no\x20pending\x20request\x20was\x20found','value','push','binary','call','Timeout','concat','pendingRequests','17992887lvftJa','requestId','10dpeMEf','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','3861VAsVNO','digest','emit','default','status','checkHeartbeat','closed','Received\x20a\x20request\x20with\x20callback\x20for\x20the\x20event\x20','end','open','1381860UhTSvB','ping','decode','sec-websocket-key','__esModule','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handskake,\x20open,\x20error\x20or\x20close','pingRequests','Received\x20a\x20request\x20with\x20eventName\x20','update','readUInt16BE','835NGDkAC','5232094cjAAqg','Received\x20a\x20pong,\x20but\x20it\x20doesn\x27t\x20match\x20any\x20ping'];a3_0x195c=function(){return _0x5aee93;};return a3_0x195c();}