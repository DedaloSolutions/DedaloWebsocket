'use strict';const a0_0x4b81e9=a0_0x7eb9;(function(_0x44823a,_0x2b7751){const _0x3199bb=a0_0x7eb9,_0x1e845b=_0x44823a();while(!![]){try{const _0x2ed16c=-parseInt(_0x3199bb(0x12c))/0x1+-parseInt(_0x3199bb(0x13c))/0x2*(-parseInt(_0x3199bb(0x130))/0x3)+-parseInt(_0x3199bb(0xf4))/0x4+parseInt(_0x3199bb(0x110))/0x5+-parseInt(_0x3199bb(0xf9))/0x6+parseInt(_0x3199bb(0x13d))/0x7*(parseInt(_0x3199bb(0x111))/0x8)+parseInt(_0x3199bb(0x13b))/0x9;if(_0x2ed16c===_0x2b7751)break;else _0x1e845b['push'](_0x1e845b['shift']());}catch(_0x3cf2bb){_0x1e845b['push'](_0x1e845b['shift']());}}}(a0_0x5cf5,0x6b438));function a0_0x7eb9(_0x2ace89,_0x6a0d0c){const _0x5cf55f=a0_0x5cf5();return a0_0x7eb9=function(_0x7eb9a,_0x378732){_0x7eb9a=_0x7eb9a-0xf0;let _0x49f3af=_0x5cf55f[_0x7eb9a];return _0x49f3af;},a0_0x7eb9(_0x2ace89,_0x6a0d0c);}var __awaiter=this&&this[a0_0x4b81e9(0x11d)]||function(_0x40a027,_0x42217a,_0x85c303,_0x288645){function _0x79e820(_0x411ec4){return _0x411ec4 instanceof _0x85c303?_0x411ec4:new _0x85c303(function(_0x4b8183){_0x4b8183(_0x411ec4);});}return new(_0x85c303||(_0x85c303=Promise))(function(_0x367874,_0x5047c3){const _0x1ff25c=a0_0x7eb9;function _0x3596e7(_0x146633){try{_0x1d115a(_0x288645['next'](_0x146633));}catch(_0x5b829b){_0x5047c3(_0x5b829b);}}function _0x4def0a(_0x3edf09){const _0x4f0bbb=a0_0x7eb9;try{_0x1d115a(_0x288645[_0x4f0bbb(0x126)](_0x3edf09));}catch(_0x2b0b60){_0x5047c3(_0x2b0b60);}}function _0x1d115a(_0x24b025){const _0x433090=a0_0x7eb9;_0x24b025[_0x433090(0x109)]?_0x367874(_0x24b025[_0x433090(0xf2)]):_0x79e820(_0x24b025[_0x433090(0xf2)])['then'](_0x3596e7,_0x4def0a);}_0x1d115a((_0x288645=_0x288645[_0x1ff25c(0x12f)](_0x40a027,_0x42217a||[]))['next']());});},__importDefault=this&&this[a0_0x4b81e9(0x128)]||function(_0x1fdf33){const _0x3e348a=a0_0x4b81e9;return _0x1fdf33&&_0x1fdf33[_0x3e348a(0x139)]?_0x1fdf33:{'default':_0x1fdf33};};Object[a0_0x4b81e9(0x10a)](exports,'__esModule',{'value':!![]});const ws_1=__importDefault(require('ws'));class Client{constructor(){const _0x4c78af=a0_0x4b81e9;this[_0x4c78af(0xfb)]=0x5*0x3e8+0x1f4,this[_0x4c78af(0xf7)]=null,this[_0x4c78af(0xfd)]=_0x4c78af(0x135),this['requestId']=0x1,this['pendingRequests']={},this[_0x4c78af(0xfc)]={},this[_0x4c78af(0xf6)]=()=>{const _0x4983a1=_0x4c78af;if(this['heartbeatTimeout']!=undefined)clearTimeout(this[_0x4983a1(0x129)]);this[_0x4983a1(0x129)]=setTimeout(()=>{const _0x532861=_0x4983a1;var _0x34cce9;if(this[_0x532861(0xf1)]!=undefined&&this[_0x532861(0xf1)]['readyState']!==ws_1[_0x532861(0xf3)][_0x532861(0x10b)])return;(_0x34cce9=this[_0x532861(0xf1)])===null||_0x34cce9===void 0x0?void 0x0:_0x34cce9[_0x532861(0xf0)]();},this[_0x4983a1(0xfb)]);};}[a0_0x4b81e9(0x113)](){return __awaiter(this,arguments,void 0x0,function*({url:_0x1f4587,allowReject:_0x1a846f,handshakeData:_0x11bcae,reconnectTimeout:_0x374e48}={}){return new Promise((_0x5507de,_0x42c988)=>{const _0x448cba=a0_0x7eb9;if(this[_0x448cba(0xf1)]!=undefined&&this[_0x448cba(0xf1)]['readyState']===ws_1[_0x448cba(0xf3)]['OPEN']){if(_0x1a846f!==!![])_0x42c988(new Error(_0x448cba(0x107)));else _0x5507de();}this['socket']!=undefined&&(this[_0x448cba(0xf1)][_0x448cba(0x10d)](),this[_0x448cba(0xf1)][_0x448cba(0x13e)]('ping',this[_0x448cba(0xf6)]),this[_0x448cba(0xfd)]='waiting');if(this[_0x448cba(0xf8)]==undefined&&_0x1f4587==undefined)_0x42c988(new Error(_0x448cba(0x131)));this[_0x448cba(0xf8)]=_0x1f4587||this[_0x448cba(0xf8)];if(_0x374e48!==undefined)this['reconnectTimeout']=_0x374e48;if(_0x11bcae!==undefined)this[_0x448cba(0x11c)]=_0x11bcae;this['socket']=new ws_1[(_0x448cba(0xf3))](this[_0x448cba(0xf8)]),this['socket'][_0x448cba(0xfa)](_0x448cba(0x133),this[_0x448cba(0xf6)]),this['socket']['addEventListener'](_0x448cba(0x123),this[_0x448cba(0xf6)]),this[_0x448cba(0xf1)]['on']('ping',_0x311ab5=>{const _0x24fa30=_0x448cba;var _0x9f844a;(_0x9f844a=this[_0x24fa30(0xf1)])===null||_0x9f844a===void 0x0?void 0x0:_0x9f844a[_0x24fa30(0x116)](_0x311ab5),this[_0x24fa30(0xf6)]();}),this[_0x448cba(0xf1)][_0x448cba(0xfa)](_0x448cba(0xf0),()=>{const _0x56084d=_0x448cba;if(this[_0x56084d(0x129)]!=undefined)clearTimeout(this[_0x56084d(0x129)]);});if(this[_0x448cba(0xf7)]!=undefined)this['socket'][_0x448cba(0xfa)]('close',()=>{const _0x567d41=_0x448cba;setTimeout(()=>this[_0x567d41(0x113)](),this['reconnectTimeout']);});this['socket']['addEventListener'](_0x448cba(0x123),_0x3ffc0e=>this['handle'](_0x3ffc0e)),this[_0x448cba(0xf1)][_0x448cba(0xfa)](_0x448cba(0x133),_0x406273=>this['raise']('open',_0x406273)),this['socket']['addEventListener'](_0x448cba(0x12e),_0x255154=>this[_0x448cba(0x118)](_0x448cba(0x12e),_0x255154)),this['socket'][_0x448cba(0xfa)](_0x448cba(0xf0),_0xe4afa0=>this[_0x448cba(0x118)](_0x448cba(0xf0),_0xe4afa0));const _0x20078e=()=>{_0x5507de(),_0xc8b1e0();},_0x27b2de=_0x2831a6=>{_0x1a846f?_0x42c988(_0x2831a6):_0x5507de(),_0xc8b1e0();};this[_0x448cba(0xf1)][_0x448cba(0xfa)]('open',_0x20078e,{'once':!![]}),this['socket'][_0x448cba(0xfa)](_0x448cba(0x12e),_0x27b2de,{'once':!![]});const _0xc8b1e0=()=>{const _0x4f7068=_0x448cba;var _0x463b8f,_0x4e387b;(_0x463b8f=this[_0x4f7068(0xf1)])===null||_0x463b8f===void 0x0?void 0x0:_0x463b8f[_0x4f7068(0x115)](_0x4f7068(0x133),_0x20078e),(_0x4e387b=this[_0x4f7068(0xf1)])===null||_0x4e387b===void 0x0?void 0x0:_0x4e387b['removeEventListener']('error',_0x27b2de);};});});}[a0_0x4b81e9(0x119)](_0x46320a,_0x2c34db){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x56b0a3,_0x409013)=>{const _0x49de99=a0_0x7eb9;if(this[_0x49de99(0xf1)]==undefined||this[_0x49de99(0xf1)][_0x49de99(0x104)]===ws_1[_0x49de99(0xf3)][_0x49de99(0x103)]||this[_0x49de99(0xf1)][_0x49de99(0x104)]===ws_1[_0x49de99(0xf3)]['CLOSED'])return _0x409013(new Error(_0x49de99(0x11b)));this['socket'][_0x49de99(0xf0)](_0x46320a,_0x2c34db);const _0x5ecc4d=()=>{_0x56b0a3(),_0x3cd136();},_0x5850aa=_0x7a7fe=>{_0x409013(_0x7a7fe),_0x3cd136();};this[_0x49de99(0xf1)]['addEventListener'](_0x49de99(0xf0),_0x5ecc4d,{'once':!![]}),this[_0x49de99(0xf1)][_0x49de99(0xfa)](_0x49de99(0x12e),_0x5850aa,{'once':!![]});const _0x3cd136=()=>{const _0x3c5913=_0x49de99;var _0x5f0650,_0x2e38e6;(_0x5f0650=this['socket'])===null||_0x5f0650===void 0x0?void 0x0:_0x5f0650[_0x3c5913(0x115)](_0x3c5913(0xf0),_0x5ecc4d),(_0x2e38e6=this['socket'])===null||_0x2e38e6===void 0x0?void 0x0:_0x2e38e6[_0x3c5913(0x115)]('error',_0x5850aa);};});});}get[a0_0x4b81e9(0x11f)](){const _0x570fa=a0_0x4b81e9;var _0x266a78;switch((_0x266a78=this[_0x570fa(0xf1)])===null||_0x266a78===void 0x0?void 0x0:_0x266a78[_0x570fa(0x104)]){case ws_1[_0x570fa(0xf3)][_0x570fa(0xf5)]:return _0x570fa(0x127);case ws_1['default']['OPEN']:return this['handshakeStatus']===_0x570fa(0x10f)?_0x570fa(0x133):_0x570fa(0x125);case ws_1[_0x570fa(0xf3)]['CLOSING']:return _0x570fa(0x114);case ws_1[_0x570fa(0xf3)][_0x570fa(0x112)]:default:return _0x570fa(0x101);}}[a0_0x4b81e9(0x140)](_0x157891,_0x297499,_0x58ab05,_0x38686e=0x5*0x3e8){const _0x149450=a0_0x4b81e9;if(this['socket']==undefined||this['status']!==_0x149450(0x133))throw new Error(_0x149450(0x138));if([_0x149450(0x125),_0x149450(0x133),_0x149450(0x12e),_0x149450(0xf0),'*'][_0x149450(0xfe)](_0x157891))throw new Error('Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22');const _0xeb6eee=_0x58ab05==undefined?0x0:this['requestId'],_0x39b699=Buffer[_0x149450(0x13f)](_0x157891,'utf-8');if(_0x39b699['length']>0xff)throw new Error(_0x149450(0x124));if(_0x58ab05!=undefined){this[_0x149450(0x11a)]=(this['requestId']+0x1)%0x80||0x1;const _0x3c3771=setTimeout(()=>{const _0x25821d=_0x149450;delete this[_0x25821d(0x10c)][_0xeb6eee],_0x58ab05(new Error(_0x25821d(0x13a)));},_0x38686e);this['pendingRequests'][_0xeb6eee]=_0x16dbc8=>{if(!(_0x16dbc8 instanceof Error))clearTimeout(_0x3c3771);_0x58ab05(_0x16dbc8);};}const _0x3e3de4=Buffer[_0x149450(0x120)]([Buffer[_0x149450(0x13f)]([_0xeb6eee|0x80,_0x39b699[_0x149450(0x106)]]),_0x39b699,this[_0x149450(0x121)](_0x297499)]);this['socket']['send'](_0x3e3de4);}[a0_0x4b81e9(0x122)]({data:_0x4b6946}){const _0x393464=a0_0x4b81e9;var _0x30900f,_0x1b587f,_0x217172;let _0x87be69=Buffer[_0x393464(0x102)](0x0);if(_0x4b6946 instanceof Buffer)_0x87be69=_0x4b6946;if(typeof _0x4b6946===_0x393464(0x100))_0x87be69=Buffer[_0x393464(0x13f)](_0x4b6946,_0x393464(0x10e));if(_0x4b6946 instanceof ArrayBuffer)_0x87be69=Buffer[_0x393464(0x13f)](_0x4b6946);if(Array['isArray'](_0x4b6946))_0x87be69=Buffer[_0x393464(0x120)](_0x4b6946);if(this[_0x393464(0xfd)]==='waiting'){const {pingInterval:_0x3cbbd2}=this['decode'](_0x87be69);this[_0x393464(0xfb)]=_0x3cbbd2+0x1f4;const _0x123895=this['encode'](this[_0x393464(0x11c)]===undefined?null:this['handshakeData']);(_0x30900f=this['socket'])===null||_0x30900f===void 0x0?void 0x0:_0x30900f[_0x393464(0x12b)](_0x123895),this['handshakeStatus']=_0x393464(0x132);return;}else{if(this[_0x393464(0xfd)]===_0x393464(0x132)){this['handshakeStatus']=_0x393464(0x10f);return;}}const _0x44f30f=_0x87be69[_0x393464(0x11e)](0x0),_0x4cb26b=_0x44f30f&0x7f,_0x560002=(_0x44f30f&0x80)!==0x0;if(_0x560002){const _0x3e73a8=_0x87be69[_0x393464(0x11e)](0x1),_0x3e7b49=_0x87be69[_0x393464(0x12a)](0x2,0x2+_0x3e73a8)['toString'](_0x393464(0x10e));if([_0x393464(0x125),'open',_0x393464(0x12e),'close','*']['includes'](_0x3e7b49))return;const _0x1281ae=this[_0x393464(0x108)](_0x87be69[_0x393464(0x12a)](0x2+_0x3e73a8)),_0xfa6b00=(_0x1b587f=this[_0x393464(0xfc)][_0x3e7b49])!==null&&_0x1b587f!==void 0x0?_0x1b587f:[];let _0x3cb878=![];const _0x115c48=_0x50820a=>{const _0x513429=_0x393464;var _0x55652b;if(_0x4cb26b===0x0&&_0x3cb878)return;if(_0x50820a===undefined)return;const _0x4cbc06=Buffer[_0x513429(0x120)]([Buffer[_0x513429(0x13f)]([_0x4cb26b&0x7f]),this[_0x513429(0x121)](_0x50820a)]);(_0x55652b=this[_0x513429(0xf1)])===null||_0x55652b===void 0x0?void 0x0:_0x55652b[_0x513429(0x12b)](_0x4cbc06),_0x3cb878=!![];};for(const _0x44ac59 of _0xfa6b00)_0x44ac59['call'](undefined,_0x1281ae,_0x115c48);const _0x358fd3=(_0x217172=this[_0x393464(0xfc)]['*'])!==null&&_0x217172!==void 0x0?_0x217172:[];for(const _0x1c3a42 of _0x358fd3)_0x1c3a42[_0x393464(0x117)](undefined,_0x3e7b49,_0x1281ae);if(!_0x3cb878&&_0x4cb26b!==0x0){}return;}const _0x46fe51=this['pendingRequests'][_0x4cb26b];if(_0x46fe51==undefined)return;const _0x3fb03d=this[_0x393464(0x108)](_0x87be69['slice'](0x1));_0x46fe51(_0x3fb03d);}[a0_0x4b81e9(0x121)](_0x138f7f){const _0x16b195=a0_0x4b81e9;return Buffer[_0x16b195(0x13f)](JSON['stringify'](_0x138f7f),_0x16b195(0x10e));}[a0_0x4b81e9(0x108)](_0x1a9141){const _0x524dc4=a0_0x4b81e9;return JSON[_0x524dc4(0x137)](_0x1a9141[_0x524dc4(0x12d)](_0x524dc4(0x10e)));}['on'](_0x50d371,_0x514390){const _0xd6b7c7=a0_0x4b81e9;if(this[_0xd6b7c7(0xfc)][_0x50d371]==undefined)this['handlers'][_0x50d371]=[];this[_0xd6b7c7(0xfc)][_0x50d371][_0xd6b7c7(0xff)](_0x514390);}[a0_0x4b81e9(0x13e)](_0x533c64,_0x32b092){const _0x46d79b=a0_0x4b81e9;if(_0x32b092==undefined){delete this['handlers'][_0x533c64];return;}const _0x3716ea=this[_0x46d79b(0xfc)][_0x533c64],_0x32889f=(_0x3716ea!==null&&_0x3716ea!==void 0x0?_0x3716ea:[])[_0x46d79b(0x136)](_0x2b287d=>_0x2b287d===_0x32b092);if(_0x32889f===-0x1)throw new Error(_0x46d79b(0x134)+_0x533c64+_0x46d79b(0x105));_0x3716ea['splice'](_0x32889f,0x1);}[a0_0x4b81e9(0x118)](_0x424520,_0x2bce9f){const _0x40b086=a0_0x4b81e9;var _0x2d326e,_0x37c99c;const _0x963eb1=(_0x2d326e=this[_0x40b086(0xfc)][_0x424520])!==null&&_0x2d326e!==void 0x0?_0x2d326e:[];for(const _0x1d7e63 of _0x963eb1)_0x1d7e63(_0x2bce9f);const _0x5aef44=(_0x37c99c=this[_0x40b086(0xfc)]['*'])!==null&&_0x37c99c!==void 0x0?_0x37c99c:[];for(const _0x13b883 of _0x5aef44)_0x13b883(_0x424520,_0x2bce9f);}}exports['default']=Client;function a0_0x5cf5(){const _0x325e63=['off','from','emit','close','socket','value','default','1578144ESDsLS','CONNECTING','checkHeartbeat','reconnectTimeout','url','3598668ZJyjhP','addEventListener','heartbeatInterval','handlers','handshakeStatus','includes','push','string','closed','alloc','CLOSING','readyState','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','length','The\x20websocket\x20is\x20already\x20connected','decode','done','defineProperty','OPEN','pendingRequests','removeAllListeners','utf-8','completed','634500XlnQHK','16mmqOTw','CLOSED','connect','closing','removeEventListener','pong','call','raise','disconnect','requestId','The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','handshakeData','__awaiter','readUInt8','status','concat','encode','handle','message','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','handshake','throw','connecting','__importDefault','heartbeatTimeout','slice','send','445955GftKrn','toString','error','apply','3kavQhw','No\x20url\x20specified','sent-info','open','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','waiting','findIndex','parse','The\x20websocket\x20is\x20not\x20connected','__esModule','Timeout','10565640thxEdv','831318leoeEp','570857rUtOpZ'];a0_0x5cf5=function(){return _0x325e63;};return a0_0x5cf5();}