'use strict';const a0_0x326bbf=a0_0x11fd;(function(_0x448ad7,_0x362cef){const _0x23f818=a0_0x11fd,_0x2289dc=_0x448ad7();while(!![]){try{const _0x18a8dd=-parseInt(_0x23f818(0x20e))/0x1+parseInt(_0x23f818(0x207))/0x2+parseInt(_0x23f818(0x202))/0x3+-parseInt(_0x23f818(0x24d))/0x4*(-parseInt(_0x23f818(0x1f7))/0x5)+parseInt(_0x23f818(0x25b))/0x6*(parseInt(_0x23f818(0x20f))/0x7)+parseInt(_0x23f818(0x262))/0x8*(parseInt(_0x23f818(0x22b))/0x9)+parseInt(_0x23f818(0x200))/0xa*(-parseInt(_0x23f818(0x249))/0xb);if(_0x18a8dd===_0x362cef)break;else _0x2289dc['push'](_0x2289dc['shift']());}catch(_0x1f4068){_0x2289dc['push'](_0x2289dc['shift']());}}}(a0_0x20a8,0xad561));var __awaiter=this&&this[a0_0x326bbf(0x1ff)]||function(_0x39f9c4,_0x1c1209,_0xfc1ef8,_0x260d91){function _0x481be9(_0x5e654e){return _0x5e654e instanceof _0xfc1ef8?_0x5e654e:new _0xfc1ef8(function(_0xecd5bf){_0xecd5bf(_0x5e654e);});}return new(_0xfc1ef8||(_0xfc1ef8=Promise))(function(_0x52db20,_0x7d7996){const _0x5241da=a0_0x11fd;function _0x4fc61b(_0x3fe88d){const _0x1d8722=a0_0x11fd;try{_0x34cb9a(_0x260d91[_0x1d8722(0x219)](_0x3fe88d));}catch(_0xae48e4){_0x7d7996(_0xae48e4);}}function _0x30e0cf(_0x534fe1){const _0x48ecd7=a0_0x11fd;try{_0x34cb9a(_0x260d91[_0x48ecd7(0x221)](_0x534fe1));}catch(_0x232d5f){_0x7d7996(_0x232d5f);}}function _0x34cb9a(_0x1d5ebe){const _0x237acd=a0_0x11fd;_0x1d5ebe[_0x237acd(0x25e)]?_0x52db20(_0x1d5ebe['value']):_0x481be9(_0x1d5ebe[_0x237acd(0x24f)])[_0x237acd(0x216)](_0x4fc61b,_0x30e0cf);}_0x34cb9a((_0x260d91=_0x260d91['apply'](_0x39f9c4,_0x1c1209||[]))[_0x5241da(0x219)]());});},__importDefault=this&&this['__importDefault']||function(_0x4851e9){const _0x2297d6=a0_0x326bbf;return _0x4851e9&&_0x4851e9[_0x2297d6(0x205)]?_0x4851e9:{'default':_0x4851e9};};Object['defineProperty'](exports,a0_0x326bbf(0x205),{'value':!![]});const crypto_1=__importDefault(require(a0_0x326bbf(0x255))),net_1=__importDefault(require('net')),tls_1=__importDefault(require(a0_0x326bbf(0x23c)));function a0_0x20a8(){const _0x277daf=['1043NSuHwL','reconnectTimeout','wss://','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22','raise','binary','Impossible\x20to\x20create\x20the\x20socket','then','pong','Upgrade:\x20websocket','next','readBigUInt64BE','The\x20request\x20line\x20of\x20the\x20handshake\x20isn\x27t\x20valid','length','sec-websocket-accept','indexOf','Received\x20non-standard\x20text\x20message:\x20','HTTP/1.1\x20101\x20Switching\x20Protocols','throw','from','encode','splice','Received\x20emit\x20from\x20client\x20for\x20a\x20reserved\x20event:\x20','Timeout\x20waiting\x20for\x20close\x20frame\x20acknowledgment.','connecting','stringify','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','default','8077527fLUPVo','toLowerCase','readUInt16BE','writeBigUInt64BE','utf-8','alloc','includes','error','checkHeartbeat','heartbeatInterval','split','call','writeUInt8','readUInt8','handshake','toString','closed','tls','url','writeUInt16BE','decode','closing','connect','startsWith','catch','replace','join','off','status','text','10252uiPfZH','Sec-WebSocket-Key:\x20','open','subarray','196GCGmEF','ping','value','heartbeatTimeout','Timeout','\x0d\x0a\x0d\x0a','randomBytes','createHash','crypto','Failed\x20to\x20receive\x20valid\x20close\x20frame\x20from\x20server.','data','slice','disconnect','Received\x20message\x20with\x20unsupported\x20opcode:\x20','51834LKWmCH','pendingRequests','concat','done','close','_status','copy','8dnjigq','base64','socket','receive','send','The\x20websocket\x20is\x20already\x20connected','handlers','88070YqaPEz','write','\x20but\x20to\x20pending\x20request\x20was\x20found','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','findIndex','Sec-WebSocket-Version:\x2013','trim','drain','__awaiter','24770OPTkqO','sha1','784377aWHMpd','GET\x20','258EAFA5-E914-47DA-95CA-C5AB0DC85B11','__esModule','Received\x20a\x20response\x20for\x20id\x20','1665870rXazXj','digest','Connection:\x20Upgrade','end','parse','requestId','once','1123645xxzvth'];a0_0x20a8=function(){return _0x277daf;};return a0_0x20a8();}class Client{constructor(){const _0x2368f5=a0_0x326bbf;this[_0x2368f5(0x260)]=_0x2368f5(0x23b),this[_0x2368f5(0x234)]=0xa*0x3e8+0x1f4,this['requestId']=0x1,this[_0x2368f5(0x25c)]={},this[_0x2368f5(0x1f6)]={},this[_0x2368f5(0x23d)]='',this[_0x2368f5(0x210)]=null,this['handshake']=null;}[a0_0x326bbf(0x241)](_0x45a051){return __awaiter(this,arguments,void 0x0,function*(_0x4ddf6d,{handshake:_0x4f8b53,reconnectTimeout:_0x3e2d6a}={}){const _0x13d9ee=a0_0x11fd;try{if(this[_0x13d9ee(0x260)]!==_0x13d9ee(0x23b))throw new Error(_0x13d9ee(0x1f5));this['_status']=_0x13d9ee(0x227),this[_0x13d9ee(0x23d)]=_0x4ddf6d,this[_0x13d9ee(0x239)]=_0x4f8b53!==null&&_0x4f8b53!==void 0x0?_0x4f8b53:null,this[_0x13d9ee(0x210)]=_0x3e2d6a!==null&&_0x3e2d6a!==void 0x0?_0x3e2d6a:null;const _0x1b4e90=_0x4ddf6d[_0x13d9ee(0x242)](_0x13d9ee(0x211)),_0x37d9a7=_0x4ddf6d[_0x13d9ee(0x244)](/^wss?:\/\//,''),[_0x3c6f4c,..._0x31ea7a]=_0x37d9a7[_0x13d9ee(0x235)]('/'),[_0x45fdb3,_0x44b024]=_0x3c6f4c['split'](':'),_0x498195=_0x44b024?Number['parseInt'](_0x44b024):_0x1b4e90?0x1bb:0x50,_0x14133a='/'+_0x31ea7a[_0x13d9ee(0x245)]('/'),_0x42e969=yield new Promise((_0x5ef99f,_0x5821f0)=>{const _0x8db99f=_0x13d9ee,_0x10f4bf=_0x1b4e90?tls_1[_0x8db99f(0x22a)][_0x8db99f(0x241)](_0x498195,_0x45fdb3):net_1[_0x8db99f(0x22a)]['createConnection'](_0x498195,_0x45fdb3);_0x10f4bf['once'](_0x8db99f(0x232),_0x285946=>{_0x5821f0(_0x285946);}),_0x10f4bf[_0x8db99f(0x20d)](_0x8db99f(0x241),()=>{_0x5ef99f(_0x10f4bf);});});if(_0x42e969===null){const _0x3b1547=new Error(_0x13d9ee(0x215));this[_0x13d9ee(0x213)](_0x13d9ee(0x232),_0x3b1547);throw _0x3b1547;}const _0x4828fe=crypto_1['default']['randomBytes'](0x10)[_0x13d9ee(0x23a)]('base64'),_0x591c8a=crypto_1[_0x13d9ee(0x22a)][_0x13d9ee(0x254)](_0x13d9ee(0x201))['update'](_0x4828fe+_0x13d9ee(0x204))[_0x13d9ee(0x208)](_0x13d9ee(0x263)),_0x5b1c26=[_0x13d9ee(0x203)+_0x14133a+'\x20HTTP/1.1','Host:\x20'+_0x45fdb3,_0x13d9ee(0x218),_0x13d9ee(0x209),_0x13d9ee(0x24a)+_0x4828fe,_0x13d9ee(0x1fc)];_0x42e969[_0x13d9ee(0x1f8)](_0x5b1c26[_0x13d9ee(0x245)]('\x0d\x0a')+_0x13d9ee(0x252)),yield new Promise((_0xd29fa3,_0x489555)=>{const _0x3980e3=_0x13d9ee;_0x42e969['once'](_0x3980e3(0x257),_0x183056=>{const _0x3b5414=_0x3980e3;var _0x39b928;const _0xc3848c=_0x183056[_0x3b5414(0x21e)](_0x3b5414(0x252))+0x4,_0x261a90=_0x183056[_0x3b5414(0x24c)](0x0,_0xc3848c)[_0x3b5414(0x23a)](),[_0x504bd5,..._0x32f9ae]=_0x261a90[_0x3b5414(0x235)]('\x0d\x0a'),_0x26162d=_0x32f9ae['reduce']((_0x3fcd80,_0x3d4505)=>{const _0x2aaefa=_0x3b5414;if(_0x3d4505['length']===0x0)return _0x3fcd80;const [_0x5831dc,_0x5c22fc]=_0x3d4505[_0x2aaefa(0x235)](':\x20');return _0x3fcd80[_0x5831dc[_0x2aaefa(0x1fd)]()[_0x2aaefa(0x22c)]()]=_0x5c22fc[_0x2aaefa(0x1fd)](),_0x3fcd80;},{});try{if(_0x504bd5!==_0x3b5414(0x220))throw new Error(_0x3b5414(0x21b));if(_0x26162d[_0x3b5414(0x21d)]!==_0x591c8a)throw new Error('The\x20sec-websocket-key\x20isn\x27t\x20valid');this['socket']=_0x42e969,this[_0x3b5414(0x264)]['on'](_0x3b5414(0x257),_0x3b1ddd=>this[_0x3b5414(0x1f3)](_0x3b1ddd)),this[_0x3b5414(0x264)]['on'](_0x3b5414(0x232),_0x4bbc65=>this[_0x3b5414(0x213)](_0x3b5414(0x232),_0x4bbc65)),this[_0x3b5414(0x260)]=_0x3b5414(0x239);if(_0x183056[_0x3b5414(0x21c)]>_0xc3848c)this[_0x3b5414(0x1f3)](_0x183056[_0x3b5414(0x24c)](_0xc3848c));this[_0x3b5414(0x1f4)](_0x3b5414(0x214),this[_0x3b5414(0x223)]((_0x39b928=this[_0x3b5414(0x239)])!==null&&_0x39b928!==void 0x0?_0x39b928:null)),_0xd29fa3();}catch(_0x32041a){_0x489555(_0x32041a);}});});}catch(_0x2946a9){this[_0x13d9ee(0x213)](_0x13d9ee(0x232),_0x2946a9),this['_status']='closed';this[_0x13d9ee(0x264)]!=undefined&&(this[_0x13d9ee(0x264)]['end'](),delete this['socket']);if(this['reconnectTimeout']!=undefined)setTimeout(()=>{const _0x3027c1=_0x13d9ee;this[_0x3027c1(0x241)](this['url'],{'handshake':this[_0x3027c1(0x239)],'reconnectTimeout':this[_0x3027c1(0x210)]})['catch'](()=>{});},this['reconnectTimeout']);throw _0x2946a9;}});}['disconnect'](){return __awaiter(this,arguments,void 0x0,function*(_0x3df019=0x3e8,_0x23bfb1='',_0x64feb=0x1388){return new Promise((_0x578e58,_0x2f286b)=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x295d77=a0_0x11fd;if(this[_0x295d77(0x264)]==undefined||(this['_status']===_0x295d77(0x240)||this[_0x295d77(0x260)]==='closed'))return _0x2f286b(new Error('The\x20websocket\x20is\x20already\x20disconnected'));const _0xed9f61=Buffer[_0x295d77(0x222)](_0x23bfb1,_0x295d77(0x22f)),_0x82e35a=Buffer[_0x295d77(0x230)](0x2+_0xed9f61[_0x295d77(0x21c)]);_0x82e35a[_0x295d77(0x23e)](_0x3df019,0x0),_0xed9f61['copy'](_0x82e35a,0x2);const _0x3e0379=_0x82e35a[_0x295d77(0x21c)],_0x2afc4f=_0x3e0379<0x7e?_0x3e0379:_0x3e0379<0x10000?0x7e:0x7f,_0x1e135f=_0x2afc4f===0x7e?Buffer[_0x295d77(0x222)]([0x88,0x7e,_0x3e0379>>0x8&0xff,_0x3e0379&0xff]):_0x2afc4f===0x7f?Buffer[_0x295d77(0x222)]([0x88,0x7f,0x0,0x0,0x0,0x0,0x0,0x0,_0x3e0379>>0x8&0xff,_0x3e0379&0xff]):Buffer[_0x295d77(0x222)]([0x88,_0x3e0379]),_0x12a9b4=Buffer[_0x295d77(0x25d)]([_0x1e135f,_0x82e35a]);this[_0x295d77(0x264)][_0x295d77(0x1f8)](_0x12a9b4),this[_0x295d77(0x260)]='closing',this['socket']['once'](_0x295d77(0x257),_0x4e6fa2=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x2056e7=_0x295d77;if(this['_status']===_0x2056e7(0x23b))return;_0x4e6fa2[0x0]===0x88?(this[_0x2056e7(0x25f)](_0x3df019,_0x23bfb1),_0x578e58()):_0x2f286b(new Error(_0x2056e7(0x256)));})),_0x64feb>0x0?setTimeout(()=>{const _0x550ad9=_0x295d77;this[_0x550ad9(0x25f)](_0x3df019,_0x23bfb1),_0x2f286b(new Error(_0x550ad9(0x226)));},_0x64feb):(this[_0x295d77(0x25f)](_0x3df019,_0x23bfb1),_0x578e58());}));});}[a0_0x326bbf(0x25f)](){return __awaiter(this,arguments,void 0x0,function*(_0x2b3d39=0x3e8,_0x372b27=''){const _0x1708cf=a0_0x11fd;if(this[_0x1708cf(0x264)]==undefined||this[_0x1708cf(0x260)]===_0x1708cf(0x23b))return;this[_0x1708cf(0x260)]=_0x1708cf(0x23b),yield new Promise(_0x43c91f=>this['socket'][_0x1708cf(0x20a)](()=>_0x43c91f())),this['raise'](_0x1708cf(0x25f),{'code':_0x2b3d39,'reason':_0x372b27});if(this[_0x1708cf(0x210)]!=undefined)setTimeout(()=>{const _0x22eb4b=_0x1708cf;this[_0x22eb4b(0x241)](this['url'],{'handshake':this[_0x22eb4b(0x239)],'reconnectTimeout':this[_0x22eb4b(0x210)]})['catch'](()=>{});},this[_0x1708cf(0x210)]);});}get[a0_0x326bbf(0x247)](){return this['_status'];}[a0_0x326bbf(0x233)](){const _0x32e13d=a0_0x326bbf;if(this[_0x32e13d(0x250)]!=undefined)clearTimeout(this[_0x32e13d(0x250)]);this[_0x32e13d(0x250)]=setTimeout(()=>{const _0x4d5ead=_0x32e13d;if(this['_status']!==_0x4d5ead(0x24b))return;this[_0x4d5ead(0x259)]()[_0x4d5ead(0x243)](()=>{});},this['heartbeatInterval']);}[a0_0x326bbf(0x1f3)](_0x31ca18){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2c9b3a=a0_0x11fd;var _0x376081;if(this[_0x2c9b3a(0x260)]==='closed')return;const _0x5b981a=_0x31ca18[0x0],_0x1e3b7c=(_0x5b981a&0x80)!==0x0,_0x43787b=_0x5b981a&0xf,_0x34fedc=_0x31ca18[0x1],_0x3c52bc=(_0x34fedc&0x80)!==0x0;let _0x572ed4=_0x34fedc&0x7f,_0x11b189=0x2;if(_0x572ed4===0x7e)_0x572ed4=_0x31ca18[_0x2c9b3a(0x22d)](_0x11b189),_0x11b189+=0x2;else _0x572ed4===0x7f&&(_0x572ed4=Number(_0x31ca18[_0x2c9b3a(0x21a)](_0x11b189)),_0x11b189+=0x8);const _0x1603d9=_0x3c52bc?_0x31ca18[_0x2c9b3a(0x258)](_0x11b189,_0x11b189+0x4):Buffer[_0x2c9b3a(0x230)](0x0);if(_0x3c52bc)_0x11b189+=0x4;let _0xf6e074=_0x31ca18[_0x2c9b3a(0x258)](_0x11b189,_0x11b189+_0x572ed4);if(_0x3c52bc){const _0x419320=Buffer[_0x2c9b3a(0x230)](_0xf6e074[_0x2c9b3a(0x21c)]);for(let _0x5eb3a1=0x0;_0x5eb3a1<_0xf6e074[_0x2c9b3a(0x21c)];_0x5eb3a1++)_0x419320[_0x5eb3a1]=_0xf6e074[_0x5eb3a1]^_0x1603d9[_0x5eb3a1%0x4];_0xf6e074=_0x419320;}switch(_0x43787b){case 0x1:this['raise'](_0x2c9b3a(0x232),new Error(_0x2c9b3a(0x21f)+_0xf6e074[_0x2c9b3a(0x23a)]('utf-8')));break;case 0x2:{if(this[_0x2c9b3a(0x260)]===_0x2c9b3a(0x239)){const {pingInterval:_0x339de7}=this[_0x2c9b3a(0x23f)](_0xf6e074);this[_0x2c9b3a(0x234)]=_0x339de7+0x1f4,this[_0x2c9b3a(0x260)]=_0x2c9b3a(0x24b),this[_0x2c9b3a(0x233)]();break;}const _0x5d7cd8=_0xf6e074[_0x2c9b3a(0x238)](0x0);switch(_0x5d7cd8){case 0x0:{const _0x17fd71=_0xf6e074[_0x2c9b3a(0x24c)](0x1),_0x40351f=Buffer['alloc'](0x5+_0xf6e074[_0x2c9b3a(0x21c)]);_0x40351f[_0x2c9b3a(0x237)](0x1,0x0),_0x17fd71['copy'](_0x40351f,0x1),this[_0x2c9b3a(0x1f4)](_0x2c9b3a(0x214),_0x40351f),this[_0x2c9b3a(0x233)]();break;}case 0x1:{break;}case 0x2:{const _0x27cd32=_0xf6e074[_0x2c9b3a(0x238)](0x1),_0x47ce7f=_0xf6e074[_0x2c9b3a(0x238)](0x2),_0x5e16b2=_0xf6e074[_0x2c9b3a(0x24c)](0x3,0x3+_0x47ce7f)[_0x2c9b3a(0x23a)]('utf-8');if([_0x2c9b3a(0x239),_0x2c9b3a(0x24b),_0x2c9b3a(0x232),'close','*'][_0x2c9b3a(0x231)](_0x5e16b2)){this[_0x2c9b3a(0x213)]('error',new Error(_0x2c9b3a(0x225)+_0x5e16b2));return;}const _0x4c88cf=this[_0x2c9b3a(0x23f)](_0xf6e074['subarray'](0x3+_0x47ce7f)),_0x1f9f66=(_0x376081=this['handlers'][_0x5e16b2])!==null&&_0x376081!==void 0x0?_0x376081:[];let _0x10e95b;for(const _0x17a80c of _0x1f9f66){const _0x274302=yield _0x17a80c[_0x2c9b3a(0x236)](undefined,_0x4c88cf);if(_0x10e95b===undefined)_0x10e95b=_0x274302;}if(_0x27cd32!==0x0){if(_0x10e95b===undefined)this[_0x2c9b3a(0x213)](_0x2c9b3a(0x232),new Error('No\x20handler\x20returns\x20a\x20value\x20for\x20event\x20'+_0x5e16b2+',\x20that\x20requires\x20a\x20response.'));const _0x38733c=this['encode'](_0x10e95b!==null&&_0x10e95b!==void 0x0?_0x10e95b:null),_0x44b719=Buffer[_0x2c9b3a(0x230)](0x2+_0x38733c[_0x2c9b3a(0x21c)]);_0x44b719[_0x2c9b3a(0x237)](0x3,0x0),_0x44b719[_0x2c9b3a(0x237)](_0x27cd32,0x1),_0x38733c[_0x2c9b3a(0x261)](_0x44b719,0x2),yield this[_0x2c9b3a(0x1f4)](_0x2c9b3a(0x214),_0x44b719);}break;}case 0x3:{const _0xe90cb8=_0xf6e074[_0x2c9b3a(0x238)](0x1),_0x35f573=this['pendingRequests'][_0xe90cb8];if(_0x35f573==undefined){this[_0x2c9b3a(0x213)](_0x2c9b3a(0x232),new Error(_0x2c9b3a(0x206)+_0xe90cb8+_0x2c9b3a(0x1f9)));break;}const _0x284912=this[_0x2c9b3a(0x23f)](_0xf6e074['subarray'](0x2));_0x35f573(_0x284912);break;}}break;}case 0x9:this[_0x2c9b3a(0x1f4)]('pong',_0xf6e074);break;case 0xa:break;case 0x8:if(this[_0x2c9b3a(0x260)]===_0x2c9b3a(0x240))return;let _0x355647=0x3e8,_0x34990e='';_0xf6e074[_0x2c9b3a(0x21c)]>=0x2&&(_0x355647=_0xf6e074[_0x2c9b3a(0x22d)](0x0),_0x34990e=_0xf6e074[_0x2c9b3a(0x24c)](0x2)[_0x2c9b3a(0x23a)]('utf-8'));this[_0x2c9b3a(0x259)](_0x355647,_0x34990e,0x0);break;default:this[_0x2c9b3a(0x213)]('error',new Error(_0x2c9b3a(0x25a)+_0x43787b));}if(_0x31ca18['length']>_0x11b189+_0x572ed4)this['receive'](_0x31ca18[_0x2c9b3a(0x24c)](_0x11b189+_0x572ed4));});}[a0_0x326bbf(0x1f4)](_0x29a793,_0x5e82a7){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x51bfe9=a0_0x11fd;if(this[_0x51bfe9(0x264)]==undefined||this[_0x51bfe9(0x247)]==='closed')return;let _0xa26c2b,_0x4aca42;switch(_0x29a793){case _0x51bfe9(0x248):_0xa26c2b=Buffer['from'](_0x5e82a7,_0x51bfe9(0x22f)),_0x4aca42=0x1;break;case _0x51bfe9(0x214):_0xa26c2b=_0x5e82a7,_0x4aca42=0x2;break;case _0x51bfe9(0x24e):_0xa26c2b=_0x5e82a7,_0x4aca42=0x9;break;case _0x51bfe9(0x217):_0xa26c2b=_0x5e82a7,_0x4aca42=0xa;break;}let _0x5502ea;if(_0xa26c2b['length']<=0x7d)_0x5502ea=Buffer[_0x51bfe9(0x222)]([0x80|_0xa26c2b[_0x51bfe9(0x21c)]]);else _0xa26c2b['length']<=0xffff?(_0x5502ea=Buffer[_0x51bfe9(0x25d)]([Buffer[_0x51bfe9(0x222)]([0x80|0x7e]),Buffer[_0x51bfe9(0x230)](0x2)]),_0x5502ea['writeUInt16BE'](_0xa26c2b[_0x51bfe9(0x21c)],0x1)):(_0x5502ea=Buffer[_0x51bfe9(0x25d)]([Buffer[_0x51bfe9(0x222)]([0x80|0x7f]),Buffer['alloc'](0x8)]),_0x5502ea[_0x51bfe9(0x22e)](BigInt(_0xa26c2b[_0x51bfe9(0x21c)]),0x1));const _0x57707f=crypto_1[_0x51bfe9(0x22a)][_0x51bfe9(0x253)](0x4),_0x125620=Buffer[_0x51bfe9(0x230)](_0xa26c2b[_0x51bfe9(0x21c)]);for(let _0xfd565f=0x0;_0xfd565f<_0xa26c2b[_0x51bfe9(0x21c)];_0xfd565f++)_0x125620[_0xfd565f]=_0xa26c2b[_0xfd565f]^_0x57707f[_0xfd565f%0x4];const _0x2762cf=Buffer['concat']([Buffer[_0x51bfe9(0x222)]([0x80|_0x4aca42]),_0x5502ea,_0x57707f,_0x125620]);return new Promise((_0x16398a,_0x3217d9)=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x209a93=_0x51bfe9,_0x2113cc=this[_0x209a93(0x264)][_0x209a93(0x1f8)](_0x2762cf,undefined,_0x46c5a6=>{if(_0x46c5a6==undefined)return;_0x3217d9(_0x46c5a6);});if(!_0x2113cc)yield new Promise(_0x47aaa8=>this['socket'][_0x209a93(0x20d)](_0x209a93(0x1fe),_0x47aaa8));_0x16398a();}));});}[a0_0x326bbf(0x223)](_0x469a82){const _0x121a01=a0_0x326bbf;return Buffer[_0x121a01(0x222)](JSON[_0x121a01(0x228)](_0x469a82),'utf-8');}[a0_0x326bbf(0x23f)](_0xacecaf){const _0x55873c=a0_0x326bbf;return JSON[_0x55873c(0x20b)](_0xacecaf[_0x55873c(0x23a)](_0x55873c(0x22f)));}['emit'](_0x13743e,_0x50baa7,_0x2c6c03){return __awaiter(this,arguments,void 0x0,function*(_0x5acfec,_0x584cd1,_0x2b56eb,_0x4f07f0=0x5*0x3e8){const _0x497c30=a0_0x11fd;if(this[_0x497c30(0x264)]==undefined||this[_0x497c30(0x247)]!==_0x497c30(0x24b))throw new Error('The\x20websocket\x20is\x20not\x20connected');if([_0x497c30(0x239),'open',_0x497c30(0x232),_0x497c30(0x25f),'*'][_0x497c30(0x231)](_0x5acfec))throw new Error(_0x497c30(0x212));const _0x41f0ea=Buffer[_0x497c30(0x222)](_0x5acfec,_0x497c30(0x22f));if(_0x41f0ea['length']>0xff)throw new Error(_0x497c30(0x229));const _0x247b05=_0x2b56eb==undefined?0x0:this[_0x497c30(0x20c)];if(_0x2b56eb!=undefined){this[_0x497c30(0x20c)]=(this[_0x497c30(0x20c)]+0x1)%0x100||0x1;const _0x4741bb=setTimeout(()=>{const _0x50493c=_0x497c30;delete this[_0x50493c(0x25c)][_0x247b05],_0x2b56eb[_0x50493c(0x236)](undefined,new Error(_0x50493c(0x251)));},_0x4f07f0);this[_0x497c30(0x25c)][_0x247b05]=_0x106baa=>{clearTimeout(_0x4741bb),_0x2b56eb['call'](undefined,_0x106baa);};}const _0x5414fc=this[_0x497c30(0x223)](_0x584cd1),_0xa32e2c=Buffer[_0x497c30(0x230)](0x3+_0x41f0ea[_0x497c30(0x21c)]+_0x5414fc[_0x497c30(0x21c)]);_0xa32e2c[_0x497c30(0x237)](0x2,0x0),_0xa32e2c[_0x497c30(0x237)](_0x247b05,0x1),_0xa32e2c[_0x497c30(0x237)](_0x41f0ea[_0x497c30(0x21c)],0x2),_0x41f0ea[_0x497c30(0x261)](_0xa32e2c,0x3),_0x5414fc[_0x497c30(0x261)](_0xa32e2c,0x3+_0x41f0ea['length']),yield this['send'](_0x497c30(0x214),_0xa32e2c);});}['on'](_0x30fe01,_0x249914){const _0x10e92f=a0_0x326bbf;if(this['handlers'][_0x30fe01]==undefined)this[_0x10e92f(0x1f6)][_0x30fe01]=[];this[_0x10e92f(0x1f6)][_0x30fe01]['push'](_0x249914);}[a0_0x326bbf(0x246)](_0x53c8c3,_0x117ee7){const _0x39dd3f=a0_0x326bbf;if(_0x117ee7==undefined){this[_0x39dd3f(0x1f6)][_0x53c8c3]=[];return;}const _0x264abe=this[_0x39dd3f(0x1f6)][_0x53c8c3],_0x29758e=(_0x264abe!==null&&_0x264abe!==void 0x0?_0x264abe:[])[_0x39dd3f(0x1fb)](_0x387454=>_0x387454===_0x117ee7);if(_0x29758e===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x53c8c3+_0x39dd3f(0x1fa));_0x264abe[_0x39dd3f(0x224)](_0x29758e,0x1);}[a0_0x326bbf(0x213)](_0x7f856c,_0x2cb61c){const _0x486800=a0_0x326bbf;var _0x1a95d9;const _0x757f90=(_0x1a95d9=this[_0x486800(0x1f6)][_0x7f856c])!==null&&_0x1a95d9!==void 0x0?_0x1a95d9:[];for(const _0xf31d01 of _0x757f90)_0xf31d01(_0x2cb61c);}}function a0_0x11fd(_0x42e2be,_0x1f66dd){const _0x20a8f7=a0_0x20a8();return a0_0x11fd=function(_0x11fdc0,_0x222b0b){_0x11fdc0=_0x11fdc0-0x1f3;let _0x4d7ae3=_0x20a8f7[_0x11fdc0];return _0x4d7ae3;},a0_0x11fd(_0x42e2be,_0x1f66dd);}exports['default']=Client;