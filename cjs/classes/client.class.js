'use strict';const a0_0xbdce78=a0_0xc747;(function(_0x17741e,_0x33731d){const _0x44201b=a0_0xc747,_0x316c85=_0x17741e();while(!![]){try{const _0x572d4a=parseInt(_0x44201b(0xaf))/0x1*(-parseInt(_0x44201b(0xc7))/0x2)+-parseInt(_0x44201b(0xac))/0x3+parseInt(_0x44201b(0xa2))/0x4*(parseInt(_0x44201b(0xd5))/0x5)+parseInt(_0x44201b(0xbd))/0x6+-parseInt(_0x44201b(0xc9))/0x7*(parseInt(_0x44201b(0x9c))/0x8)+parseInt(_0x44201b(0xbe))/0x9+parseInt(_0x44201b(0xc3))/0xa;if(_0x572d4a===_0x33731d)break;else _0x316c85['push'](_0x316c85['shift']());}catch(_0x1dee2e){_0x316c85['push'](_0x316c85['shift']());}}}(a0_0x4347,0x7670e));var __awaiter=this&&this[a0_0xbdce78(0xd1)]||function(_0x570079,_0x24e4e2,_0x452bee,_0x4ec259){function _0xc7f024(_0x4d4f3a){return _0x4d4f3a instanceof _0x452bee?_0x4d4f3a:new _0x452bee(function(_0xb2d00b){_0xb2d00b(_0x4d4f3a);});}return new(_0x452bee||(_0x452bee=Promise))(function(_0x21e038,_0x3b78ea){const _0x245eb8=a0_0xc747;function _0x62652a(_0x4cbad0){try{_0x18af69(_0x4ec259['next'](_0x4cbad0));}catch(_0x1ae3b1){_0x3b78ea(_0x1ae3b1);}}function _0x288712(_0x50c434){const _0xbaf728=a0_0xc747;try{_0x18af69(_0x4ec259[_0xbaf728(0xcc)](_0x50c434));}catch(_0x371749){_0x3b78ea(_0x371749);}}function _0x18af69(_0x35af75){const _0x3d03cd=a0_0xc747;_0x35af75[_0x3d03cd(0xb2)]?_0x21e038(_0x35af75[_0x3d03cd(0xae)]):_0xc7f024(_0x35af75[_0x3d03cd(0xae)])['then'](_0x62652a,_0x288712);}_0x18af69((_0x4ec259=_0x4ec259['apply'](_0x570079,_0x24e4e2||[]))[_0x245eb8(0xa9)]());});},__importDefault=this&&this[a0_0xbdce78(0xa4)]||function(_0x2ab15c){const _0x1a64fd=a0_0xbdce78;return _0x2ab15c&&_0x2ab15c[_0x1a64fd(0xe0)]?_0x2ab15c:{'default':_0x2ab15c};};Object['defineProperty'](exports,a0_0xbdce78(0xe0),{'value':!![]});const ws_1=__importDefault(require('ws'));class Client{constructor(){const _0x49bcc5=a0_0xbdce78;this['heartbeatInterval']=0x5*0x3e8+0x1f4,this[_0x49bcc5(0xd8)]=null,this[_0x49bcc5(0xbb)]=_0x49bcc5(0xaa),this['requestId']=0x1,this[_0x49bcc5(0xb0)]={},this[_0x49bcc5(0x9a)]={},this[_0x49bcc5(0xcd)]=()=>{const _0x220813=_0x49bcc5;if(this['heartbeatTimeout']!=undefined)clearTimeout(this[_0x220813(0xb4)]);this['heartbeatTimeout']=setTimeout(()=>{const _0x126ee4=_0x220813;var _0x531e57;if(this['socket']!=undefined&&this[_0x126ee4(0xd9)][_0x126ee4(0xad)]!==ws_1[_0x126ee4(0xb7)][_0x126ee4(0xc5)])return;(_0x531e57=this['socket'])===null||_0x531e57===void 0x0?void 0x0:_0x531e57[_0x126ee4(0xde)]();},this[_0x220813(0xcf)]);};}['connect'](){return __awaiter(this,arguments,void 0x0,function*({url:_0x15f504,allowReject:_0x2f9375,handshakeData:_0x31455f,reconnectTimeout:_0x180bbb}={}){return new Promise((_0x1ab579,_0x268b4a)=>{const _0x427f48=a0_0xc747;if(this[_0x427f48(0xd9)]!=undefined&&this['socket']['readyState']===ws_1['default']['OPEN']){if(_0x2f9375!==!![])_0x268b4a(new Error(_0x427f48(0xe4)));else _0x1ab579();}this['socket']!=undefined&&(this[_0x427f48(0xd9)][_0x427f48(0xa5)](),this[_0x427f48(0xd9)][_0x427f48(0xbf)]('ping',this[_0x427f48(0xcd)]),this['handshakeStatus']=_0x427f48(0xaa));if(this['url']==undefined&&_0x15f504==undefined)_0x268b4a(new Error(_0x427f48(0xe5)));this[_0x427f48(0xa6)]=_0x15f504||this[_0x427f48(0xa6)];if(_0x180bbb!==undefined)this[_0x427f48(0xd8)]=_0x180bbb;if(_0x31455f!==undefined)this[_0x427f48(0xa0)]=_0x31455f;this[_0x427f48(0xd9)]=new ws_1['default'](this['url']),this[_0x427f48(0xd9)][_0x427f48(0xce)]('open',this[_0x427f48(0xcd)]),this['socket']['addEventListener'](_0x427f48(0xb6),this['checkHeartbeat']),this['socket']['on'](_0x427f48(0xb1),_0xcf7d0=>{const _0x4e3b72=_0x427f48;var _0x5799da;(_0x5799da=this[_0x4e3b72(0xd9)])===null||_0x5799da===void 0x0?void 0x0:_0x5799da[_0x4e3b72(0xcb)](_0xcf7d0),this['checkHeartbeat']();}),this[_0x427f48(0xd9)][_0x427f48(0xce)](_0x427f48(0xde),()=>{const _0x745815=_0x427f48;if(this[_0x745815(0xb4)]!=undefined)clearTimeout(this[_0x745815(0xb4)]);});if(this[_0x427f48(0xd8)]!=undefined)this['socket'][_0x427f48(0xce)](_0x427f48(0xde),()=>{const _0x1759cf=_0x427f48;setTimeout(()=>this[_0x1759cf(0xbc)](),this[_0x1759cf(0xd8)]);});this['socket'][_0x427f48(0xce)](_0x427f48(0xb6),_0x2cf9ff=>this[_0x427f48(0xa8)](_0x2cf9ff)),this[_0x427f48(0xd9)][_0x427f48(0xce)]('open',_0x4d57fa=>this[_0x427f48(0xda)](_0x427f48(0xe3),_0x4d57fa)),this[_0x427f48(0xd9)][_0x427f48(0xce)](_0x427f48(0xe1),_0x2da988=>this[_0x427f48(0xda)]('error',_0x2da988)),this[_0x427f48(0xd9)][_0x427f48(0xce)](_0x427f48(0xde),_0x1c244f=>this[_0x427f48(0xda)](_0x427f48(0xde),_0x1c244f));const _0x36b23a=()=>{_0x1ab579(),_0x5a6343();},_0x1de15f=_0x2aec05=>{_0x2f9375?_0x268b4a(_0x2aec05):_0x1ab579(),_0x5a6343();};this[_0x427f48(0xd9)][_0x427f48(0xce)](_0x427f48(0xe3),_0x36b23a,{'once':!![]}),this[_0x427f48(0xd9)][_0x427f48(0xce)](_0x427f48(0xe1),_0x1de15f,{'once':!![]});const _0x5a6343=()=>{const _0x55487d=_0x427f48;var _0x1816b7,_0x49551c;(_0x1816b7=this[_0x55487d(0xd9)])===null||_0x1816b7===void 0x0?void 0x0:_0x1816b7['removeEventListener'](_0x55487d(0xe3),_0x36b23a),(_0x49551c=this[_0x55487d(0xd9)])===null||_0x49551c===void 0x0?void 0x0:_0x49551c[_0x55487d(0xd3)](_0x55487d(0xe1),_0x1de15f);};});});}[a0_0xbdce78(0xdb)](_0x4d0dd9,_0x4f0c65){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x323ad9,_0x2ba01f)=>{const _0x5cd45e=a0_0xc747;if(this[_0x5cd45e(0xd9)]==undefined||this[_0x5cd45e(0xd9)]['readyState']===ws_1[_0x5cd45e(0xb7)][_0x5cd45e(0x9b)]||this['socket'][_0x5cd45e(0xad)]===ws_1[_0x5cd45e(0xb7)][_0x5cd45e(0xd4)])return _0x2ba01f(new Error(_0x5cd45e(0xca)));this[_0x5cd45e(0xd9)][_0x5cd45e(0xde)](_0x4d0dd9,_0x4f0c65);const _0x119ca6=()=>{_0x323ad9(),_0x2c740d();},_0x417a1f=_0x2fbe38=>{_0x2ba01f(_0x2fbe38),_0x2c740d();};this[_0x5cd45e(0xd9)][_0x5cd45e(0xce)]('close',_0x119ca6,{'once':!![]}),this[_0x5cd45e(0xd9)]['addEventListener']('error',_0x417a1f,{'once':!![]});const _0x2c740d=()=>{const _0x125fc3=_0x5cd45e;var _0x562d49,_0x1a67f6;(_0x562d49=this[_0x125fc3(0xd9)])===null||_0x562d49===void 0x0?void 0x0:_0x562d49[_0x125fc3(0xd3)]('close',_0x119ca6),(_0x1a67f6=this['socket'])===null||_0x1a67f6===void 0x0?void 0x0:_0x1a67f6['removeEventListener'](_0x125fc3(0xe1),_0x417a1f);};});});}get['status'](){const _0x37e299=a0_0xbdce78;var _0x215007;switch((_0x215007=this[_0x37e299(0xd9)])===null||_0x215007===void 0x0?void 0x0:_0x215007[_0x37e299(0xad)]){case ws_1[_0x37e299(0xb7)][_0x37e299(0xc0)]:return _0x37e299(0xd2);case ws_1[_0x37e299(0xb7)][_0x37e299(0xc5)]:return this['handshakeStatus']===_0x37e299(0xc4)?_0x37e299(0xe3):_0x37e299(0xe7);case ws_1[_0x37e299(0xb7)][_0x37e299(0x9b)]:return'closing';case ws_1[_0x37e299(0xb7)][_0x37e299(0xd4)]:default:return _0x37e299(0xc1);}}[a0_0xbdce78(0xc6)](_0x11ea1d,_0x2d2216,_0x26fb02,_0x247f70=0x5*0x3e8){const _0x5bc8a9=a0_0xbdce78;if(this[_0x5bc8a9(0xd9)]==undefined||this[_0x5bc8a9(0x99)]!=='open')throw new Error(_0x5bc8a9(0xe6));if(['handshake',_0x5bc8a9(0xe3),_0x5bc8a9(0xe1),'close']['includes'](_0x11ea1d))throw new Error(_0x5bc8a9(0xc2));const _0x114c77=_0x26fb02==undefined?0x0:this[_0x5bc8a9(0xe2)],_0x1db67e=Buffer['from'](_0x11ea1d,'utf-8');if(_0x1db67e[_0x5bc8a9(0xd6)]>0xff)throw new Error(_0x5bc8a9(0x9e));if(_0x26fb02!=undefined){this[_0x5bc8a9(0xe2)]=(this[_0x5bc8a9(0xe2)]+0x1)%0x80||0x1;const _0x48ead0=setTimeout(()=>{const _0xbb466a=_0x5bc8a9;delete this[_0xbb466a(0xb0)][_0x114c77],_0x26fb02(new Error('Timeout'));},_0x247f70);this['pendingRequests'][_0x114c77]=_0xbdde72=>{if(!(_0xbdde72 instanceof Error))clearTimeout(_0x48ead0);_0x26fb02(_0xbdde72);};}const _0xd483a7=Buffer['concat']([Buffer[_0x5bc8a9(0xb3)]([_0x114c77|0x80,_0x1db67e[_0x5bc8a9(0xd6)]]),_0x1db67e,this[_0x5bc8a9(0xd0)](_0x2d2216)]);this['socket'][_0x5bc8a9(0xb8)](_0xd483a7);}[a0_0xbdce78(0xa8)]({data:_0x237a0d}){const _0x3cee2c=a0_0xbdce78;var _0x44de91,_0x15e655;let _0x479e7f=Buffer[_0x3cee2c(0xb9)](0x0);if(_0x237a0d instanceof Buffer)_0x479e7f=_0x237a0d;if(typeof _0x237a0d===_0x3cee2c(0xa1))_0x479e7f=Buffer[_0x3cee2c(0xb3)](_0x237a0d,'utf-8');if(_0x237a0d instanceof ArrayBuffer)_0x479e7f=Buffer['from'](_0x237a0d);if(Array['isArray'](_0x237a0d))_0x479e7f=Buffer[_0x3cee2c(0xa3)](_0x237a0d);if(this[_0x3cee2c(0xbb)]===_0x3cee2c(0xaa)){const {pingInterval:_0x27eef6}=this[_0x3cee2c(0xdf)](_0x479e7f);this[_0x3cee2c(0xcf)]=_0x27eef6+0x1f4;const _0x434c0d=this[_0x3cee2c(0xd0)](this[_0x3cee2c(0xa0)]===undefined?null:this['handshakeData']);(_0x44de91=this[_0x3cee2c(0xd9)])===null||_0x44de91===void 0x0?void 0x0:_0x44de91[_0x3cee2c(0xb8)](_0x434c0d),this['handshakeStatus']=_0x3cee2c(0xc8);return;}else{if(this[_0x3cee2c(0xbb)]===_0x3cee2c(0xc8)){this['handshakeStatus']=_0x3cee2c(0xc4);return;}}const _0x2c6bf5=_0x479e7f[_0x3cee2c(0xdc)](0x0),_0xf6eafd=_0x2c6bf5&0x7f,_0x358fd8=(_0x2c6bf5&0x80)!==0x0;if(_0x358fd8){const _0x4adbb0=_0x479e7f[_0x3cee2c(0xdc)](0x1),_0x4300c5=_0x479e7f['slice'](0x2,0x2+_0x4adbb0)[_0x3cee2c(0xb5)]('utf-8');if([_0x3cee2c(0xe7),_0x3cee2c(0xe3),_0x3cee2c(0xe1),_0x3cee2c(0xde)][_0x3cee2c(0x9d)](_0x4300c5))return;const _0x5ad6d0=this['decode'](_0x479e7f[_0x3cee2c(0xba)](0x2+_0x4adbb0)),_0x3c9f3e=(_0x15e655=this['handlers'][_0x4300c5])!==null&&_0x15e655!==void 0x0?_0x15e655:[];let _0x28ca7d=![];const _0x175386=_0x2323e7=>{const _0x42a508=_0x3cee2c;var _0x2280be;if(_0xf6eafd===0x0&&_0x28ca7d)return;if(_0x2323e7===undefined)return;const _0x1bb70f=Buffer[_0x42a508(0xa3)]([Buffer[_0x42a508(0xb3)]([_0xf6eafd&0x7f]),this[_0x42a508(0xd0)](_0x2323e7)]);(_0x2280be=this[_0x42a508(0xd9)])===null||_0x2280be===void 0x0?void 0x0:_0x2280be['send'](_0x1bb70f),_0x28ca7d=!![];};for(const _0x1a0deb of _0x3c9f3e)_0x1a0deb[_0x3cee2c(0xa7)](undefined,_0x5ad6d0,_0x175386);if(!_0x28ca7d&&_0xf6eafd!==0x0){}return;}const _0x49b04e=this[_0x3cee2c(0xb0)][_0xf6eafd];if(_0x49b04e==undefined)return;const _0x47ee91=this[_0x3cee2c(0xdf)](_0x479e7f[_0x3cee2c(0xba)](0x1));_0x49b04e(_0x47ee91);}[a0_0xbdce78(0xd0)](_0x4090d3){const _0x4297bb=a0_0xbdce78;return Buffer['from'](JSON[_0x4297bb(0xd7)](_0x4090d3),'utf-8');}[a0_0xbdce78(0xdf)](_0x261668){const _0x172262=a0_0xbdce78;return JSON['parse'](_0x261668[_0x172262(0xb5)](_0x172262(0xab)));}['on'](_0x28c1a5,_0x14e58b){const _0x2eaffd=a0_0xbdce78;if(this[_0x2eaffd(0x9a)][_0x28c1a5]==undefined)this[_0x2eaffd(0x9a)][_0x28c1a5]=[];this[_0x2eaffd(0x9a)][_0x28c1a5]['push'](_0x14e58b);}['off'](_0x3eacc8,_0x47a6b5){const _0x4ab990=a0_0xbdce78;if(_0x47a6b5==undefined){delete this[_0x4ab990(0x9a)][_0x3eacc8];return;}const _0x422110=this[_0x4ab990(0x9a)][_0x3eacc8],_0xa32f9=(_0x422110!==null&&_0x422110!==void 0x0?_0x422110:[])[_0x4ab990(0xdd)](_0x46df39=>_0x46df39===_0x47a6b5);if(_0xa32f9===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x3eacc8+_0x4ab990(0x9f));_0x422110['splice'](_0xa32f9,0x1);}['raise'](_0x4db9ef,_0x107c8f){const _0x49cea1=a0_0xbdce78;var _0x6339ea;const _0x1ae92c=(_0x6339ea=this[_0x49cea1(0x9a)][_0x4db9ef])!==null&&_0x6339ea!==void 0x0?_0x6339ea:[];for(const _0x19613c of _0x1ae92c)_0x19613c(_0x107c8f);}}exports[a0_0xbdce78(0xb7)]=Client;function a0_0xc747(_0x1d53c9,_0x4290a8){const _0x43470f=a0_0x4347();return a0_0xc747=function(_0xc74752,_0x41f645){_0xc74752=_0xc74752-0x99;let _0x3ff0f5=_0x43470f[_0xc74752];return _0x3ff0f5;},a0_0xc747(_0x1d53c9,_0x4290a8);}function a0_0x4347(){const _0x48fdf6=['done','from','heartbeatTimeout','toString','message','default','send','alloc','slice','handshakeStatus','connect','453516VMWHWr','1089513MYvhLU','off','CONNECTING','closed','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error\x20or\x20close','10843520EtWrLQ','completed','OPEN','emit','12iLpIXD','sent-info','133567qlWLuc','The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','pong','throw','checkHeartbeat','addEventListener','heartbeatInterval','encode','__awaiter','connecting','removeEventListener','CLOSED','2610ewFDXj','length','stringify','reconnectTimeout','socket','raise','disconnect','readUInt8','findIndex','close','decode','__esModule','error','requestId','open','The\x20websocket\x20is\x20already\x20connected','No\x20url\x20specified','The\x20websocket\x20is\x20not\x20connected','handshake','status','handlers','CLOSING','160esyzXC','includes','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','handshakeData','string','2076ktnPsg','concat','__importDefault','removeAllListeners','url','call','handle','next','waiting','utf-8','166215XKTZnn','readyState','value','104959WXtPVl','pendingRequests','ping'];a0_0x4347=function(){return _0x48fdf6;};return a0_0x4347();}