'use strict';function a0_0x3ff6(_0x599236,_0x545bb0){const _0x59cc39=a0_0x59cc();return a0_0x3ff6=function(_0x3ff64d,_0x479780){_0x3ff64d=_0x3ff64d-0x1c5;let _0x1ecbba=_0x59cc39[_0x3ff64d];return _0x1ecbba;},a0_0x3ff6(_0x599236,_0x545bb0);}function a0_0x59cc(){const _0x3fb108=['The\x20websocket\x20is\x20not\x20connected','The\x20websocket\x20is\x20already\x20connected','value','socket','9300420lTOUQB','send','waiting','disconnect','__awaiter','encode','No\x20url\x20specified','status','readyState','throw','handshakeStatus','CLOSING','next','closing','heartbeatInterval','requestId','972351bJXoeh','emit','length','4LtSGGJ','error','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','8925210xzvQZT','handshake','12586064EKotON','10924qvsKle','Timeout','url','close','concat','open','message','raise','stringify','string','defineProperty','reconnectTimeout','utf-8','The\x20websocket\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','removeEventListener','__importDefault','removeAllListeners','handlers','call','handshakeData','decode','connect','checkHeartbeat','toString','603IBdbpX','ping','includes','completed','addEventListener','heartbeatTimeout','push','sent-info','default','858180gjFnXT','off','findIndex','850038wBHyLh','CLOSED','slice','then','handle','closed','103gAGGLg','OPEN','readUInt8','pendingRequests','from'];a0_0x59cc=function(){return _0x3fb108;};return a0_0x59cc();}const a0_0x2dc7ed=a0_0x3ff6;(function(_0x752161,_0x29a733){const _0x2d498d=a0_0x3ff6,_0x1de0d9=_0x752161();while(!![]){try{const _0x25e229=-parseInt(_0x2d498d(0x1f0))/0x1*(parseInt(_0x2d498d(0x1c6))/0x2)+parseInt(_0x2d498d(0x209))/0x3*(parseInt(_0x2d498d(0x20c))/0x4)+-parseInt(_0x2d498d(0x1f9))/0x5+parseInt(_0x2d498d(0x1ea))/0x6+-parseInt(_0x2d498d(0x20f))/0x7+-parseInt(_0x2d498d(0x1c5))/0x8+parseInt(_0x2d498d(0x1de))/0x9*(parseInt(_0x2d498d(0x1e7))/0xa);if(_0x25e229===_0x29a733)break;else _0x1de0d9['push'](_0x1de0d9['shift']());}catch(_0x468e49){_0x1de0d9['push'](_0x1de0d9['shift']());}}}(a0_0x59cc,0xe69fe));var __awaiter=this&&this[a0_0x2dc7ed(0x1fd)]||function(_0x1d9281,_0x53939d,_0x1397b8,_0x4d043d){function _0xf37356(_0x569e0e){return _0x569e0e instanceof _0x1397b8?_0x569e0e:new _0x1397b8(function(_0x434d8b){_0x434d8b(_0x569e0e);});}return new(_0x1397b8||(_0x1397b8=Promise))(function(_0x2dc28b,_0xa78b6a){const _0x580a53=a0_0x3ff6;function _0x289376(_0x5ea915){try{_0x3825e8(_0x4d043d['next'](_0x5ea915));}catch(_0x1cbde8){_0xa78b6a(_0x1cbde8);}}function _0x199369(_0x27429c){const _0x37c824=a0_0x3ff6;try{_0x3825e8(_0x4d043d[_0x37c824(0x202)](_0x27429c));}catch(_0xfec703){_0xa78b6a(_0xfec703);}}function _0x3825e8(_0x1b00f5){const _0x4c0dc6=a0_0x3ff6;_0x1b00f5['done']?_0x2dc28b(_0x1b00f5['value']):_0xf37356(_0x1b00f5[_0x4c0dc6(0x1f7)])[_0x4c0dc6(0x1ed)](_0x289376,_0x199369);}_0x3825e8((_0x4d043d=_0x4d043d['apply'](_0x1d9281,_0x53939d||[]))[_0x580a53(0x205)]());});},__importDefault=this&&this[a0_0x2dc7ed(0x1d5)]||function(_0x435e4){return _0x435e4&&_0x435e4['__esModule']?_0x435e4:{'default':_0x435e4};};Object[a0_0x2dc7ed(0x1d0)](exports,'__esModule',{'value':!![]});const ws_1=__importDefault(require('ws'));class Client{constructor(){const _0x304bb3=a0_0x2dc7ed;this[_0x304bb3(0x207)]=0x5*0x3e8+0x1f4,this[_0x304bb3(0x1d1)]=null,this[_0x304bb3(0x203)]=_0x304bb3(0x1fb),this[_0x304bb3(0x208)]=0x1,this[_0x304bb3(0x1f3)]={},this[_0x304bb3(0x1d7)]={},this[_0x304bb3(0x1dc)]=()=>{const _0x352fe8=_0x304bb3;if(this[_0x352fe8(0x1e3)]!=undefined)clearTimeout(this[_0x352fe8(0x1e3)]);this[_0x352fe8(0x1e3)]=setTimeout(()=>{const _0x4d6a88=_0x352fe8;var _0x596d1c;if(this['socket']!=undefined&&this[_0x4d6a88(0x1f8)][_0x4d6a88(0x201)]!==ws_1['default'][_0x4d6a88(0x1f1)])return;(_0x596d1c=this[_0x4d6a88(0x1f8)])===null||_0x596d1c===void 0x0?void 0x0:_0x596d1c[_0x4d6a88(0x1c9)]();},this[_0x352fe8(0x207)]);};}[a0_0x2dc7ed(0x1db)](){return __awaiter(this,arguments,void 0x0,function*({url:_0x1fcd39,allowReject:_0x1d36c2,handshakeData:_0x44fc1d,reconnectTimeout:_0x34473c}={}){return new Promise((_0x164362,_0x2cb1f6)=>{const _0xa32075=a0_0x3ff6;if(this[_0xa32075(0x1f8)]!=undefined&&this[_0xa32075(0x1f8)]['readyState']===ws_1[_0xa32075(0x1e6)]['OPEN']){if(_0x1d36c2!==!![])_0x2cb1f6(new Error(_0xa32075(0x1f6)));else _0x164362();}this['socket']!=undefined&&(this[_0xa32075(0x1f8)][_0xa32075(0x1d6)](),this['socket'][_0xa32075(0x1e8)](_0xa32075(0x1df),this[_0xa32075(0x1dc)]),this[_0xa32075(0x203)]=_0xa32075(0x1fb));if(this[_0xa32075(0x1c8)]==undefined&&_0x1fcd39==undefined)_0x2cb1f6(new Error(_0xa32075(0x1ff)));this['url']=_0x1fcd39||this[_0xa32075(0x1c8)];if(_0x34473c!==undefined)this[_0xa32075(0x1d1)]=_0x34473c;if(_0x44fc1d!==undefined)this[_0xa32075(0x1d9)]=_0x44fc1d;this['socket']=new ws_1[(_0xa32075(0x1e6))](this['url']),this['socket'][_0xa32075(0x1e2)](_0xa32075(0x1cb),this[_0xa32075(0x1dc)]),this[_0xa32075(0x1f8)][_0xa32075(0x1e2)](_0xa32075(0x1cc),this[_0xa32075(0x1dc)]),this[_0xa32075(0x1f8)]['on'](_0xa32075(0x1df),_0x288dc7=>{const _0x324cce=_0xa32075;var _0x18d7ad;(_0x18d7ad=this['socket'])===null||_0x18d7ad===void 0x0?void 0x0:_0x18d7ad['pong'](_0x288dc7),this[_0x324cce(0x1dc)]();}),this[_0xa32075(0x1f8)][_0xa32075(0x1e2)]('close',()=>{const _0x37a6fd=_0xa32075;if(this['heartbeatTimeout']!=undefined)clearTimeout(this[_0x37a6fd(0x1e3)]);});if(this[_0xa32075(0x1d1)]!=undefined)this['socket'][_0xa32075(0x1e2)](_0xa32075(0x1c9),()=>{const _0x2d52f0=_0xa32075;setTimeout(()=>this[_0x2d52f0(0x1db)](),this[_0x2d52f0(0x1d1)]);});this['socket'][_0xa32075(0x1e2)](_0xa32075(0x1cc),_0x4dbd21=>this[_0xa32075(0x1ee)](_0x4dbd21)),this['socket'][_0xa32075(0x1e2)](_0xa32075(0x1cb),_0x3c68d4=>this[_0xa32075(0x1cd)](_0xa32075(0x1cb),_0x3c68d4)),this[_0xa32075(0x1f8)][_0xa32075(0x1e2)](_0xa32075(0x20d),_0x5ba951=>this[_0xa32075(0x1cd)](_0xa32075(0x20d),_0x5ba951)),this[_0xa32075(0x1f8)]['addEventListener']('close',_0x4eb98f=>this[_0xa32075(0x1cd)]('close',_0x4eb98f));const _0xed055e=()=>{_0x164362(),_0x493942();},_0x5a081c=_0x3926fa=>{_0x1d36c2?_0x2cb1f6(_0x3926fa):_0x164362(),_0x493942();};this['socket'][_0xa32075(0x1e2)](_0xa32075(0x1cb),_0xed055e,{'once':!![]}),this[_0xa32075(0x1f8)][_0xa32075(0x1e2)](_0xa32075(0x20d),_0x5a081c,{'once':!![]});const _0x493942=()=>{const _0x2e558f=_0xa32075;var _0x59cc71,_0x38923b;(_0x59cc71=this[_0x2e558f(0x1f8)])===null||_0x59cc71===void 0x0?void 0x0:_0x59cc71[_0x2e558f(0x1d4)](_0x2e558f(0x1cb),_0xed055e),(_0x38923b=this[_0x2e558f(0x1f8)])===null||_0x38923b===void 0x0?void 0x0:_0x38923b[_0x2e558f(0x1d4)]('error',_0x5a081c);};});});}[a0_0x2dc7ed(0x1fc)](_0x18caa6,_0x406a22){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x1ce951,_0x3ed3ab)=>{const _0x46da39=a0_0x3ff6;if(this[_0x46da39(0x1f8)]==undefined||this[_0x46da39(0x1f8)][_0x46da39(0x201)]===ws_1[_0x46da39(0x1e6)][_0x46da39(0x204)]||this['socket'][_0x46da39(0x201)]===ws_1['default']['CLOSED'])return _0x3ed3ab(new Error(_0x46da39(0x1d3)));this['socket']['close'](_0x18caa6,_0x406a22);const _0x27275f=()=>{_0x1ce951(),_0x3f1d18();},_0x2d5379=_0x4834d5=>{_0x3ed3ab(_0x4834d5),_0x3f1d18();};this[_0x46da39(0x1f8)][_0x46da39(0x1e2)](_0x46da39(0x1c9),_0x27275f,{'once':!![]}),this[_0x46da39(0x1f8)][_0x46da39(0x1e2)](_0x46da39(0x20d),_0x2d5379,{'once':!![]});const _0x3f1d18=()=>{const _0x47a8e5=_0x46da39;var _0x2a2b3b,_0x1da2a3;(_0x2a2b3b=this['socket'])===null||_0x2a2b3b===void 0x0?void 0x0:_0x2a2b3b[_0x47a8e5(0x1d4)](_0x47a8e5(0x1c9),_0x27275f),(_0x1da2a3=this[_0x47a8e5(0x1f8)])===null||_0x1da2a3===void 0x0?void 0x0:_0x1da2a3[_0x47a8e5(0x1d4)](_0x47a8e5(0x20d),_0x2d5379);};});});}get[a0_0x2dc7ed(0x200)](){const _0x202c86=a0_0x2dc7ed;var _0x272d01;switch((_0x272d01=this['socket'])===null||_0x272d01===void 0x0?void 0x0:_0x272d01[_0x202c86(0x201)]){case ws_1[_0x202c86(0x1e6)]['CONNECTING']:return'connecting';case ws_1[_0x202c86(0x1e6)][_0x202c86(0x1f1)]:return this[_0x202c86(0x203)]===_0x202c86(0x1e1)?_0x202c86(0x1cb):'handshake';case ws_1[_0x202c86(0x1e6)]['CLOSING']:return _0x202c86(0x206);case ws_1[_0x202c86(0x1e6)][_0x202c86(0x1eb)]:default:return _0x202c86(0x1ef);}}[a0_0x2dc7ed(0x20a)](_0x4e4d58,_0x4e2b9f,_0x588b40,_0x5d832c=0x5*0x3e8){const _0x1327fa=a0_0x2dc7ed;if(this[_0x1327fa(0x1f8)]==undefined||this[_0x1327fa(0x200)]!==_0x1327fa(0x1cb))throw new Error(_0x1327fa(0x1f5));if([_0x1327fa(0x210),'open',_0x1327fa(0x20d),_0x1327fa(0x1c9)]['includes'](_0x4e4d58))throw new Error('Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error\x20or\x20close');const _0x2091b8=_0x588b40==undefined?0x0:this['requestId'],_0x5d4695=Buffer[_0x1327fa(0x1f4)](_0x4e4d58,_0x1327fa(0x1d2));if(_0x5d4695[_0x1327fa(0x20b)]>0xff)throw new Error(_0x1327fa(0x20e));if(_0x588b40!=undefined){this[_0x1327fa(0x208)]=(this[_0x1327fa(0x208)]+0x1)%0x80||0x1;const _0x4e0bd9=setTimeout(()=>{const _0x37fe49=_0x1327fa;delete this['pendingRequests'][_0x2091b8],_0x588b40(new Error(_0x37fe49(0x1c7)));},_0x5d832c);this[_0x1327fa(0x1f3)][_0x2091b8]=_0x30c223=>{if(!(_0x30c223 instanceof Error))clearTimeout(_0x4e0bd9);_0x588b40(_0x30c223);};}const _0xfe085b=Buffer[_0x1327fa(0x1ca)]([Buffer[_0x1327fa(0x1f4)]([_0x2091b8|0x80,_0x5d4695[_0x1327fa(0x20b)]]),_0x5d4695,this[_0x1327fa(0x1fe)](_0x4e2b9f)]);this['socket'][_0x1327fa(0x1fa)](_0xfe085b);}['handle']({data:_0x3ee70b}){const _0x20d7b5=a0_0x2dc7ed;var _0x4d3f04,_0x25a5c3;let _0xa28356=Buffer['alloc'](0x0);if(_0x3ee70b instanceof Buffer)_0xa28356=_0x3ee70b;if(typeof _0x3ee70b===_0x20d7b5(0x1cf))_0xa28356=Buffer[_0x20d7b5(0x1f4)](_0x3ee70b,'utf-8');if(_0x3ee70b instanceof ArrayBuffer)_0xa28356=Buffer[_0x20d7b5(0x1f4)](_0x3ee70b);if(Array['isArray'](_0x3ee70b))_0xa28356=Buffer[_0x20d7b5(0x1ca)](_0x3ee70b);if(this[_0x20d7b5(0x203)]===_0x20d7b5(0x1fb)){const {pingInterval:_0x3a0e47}=this[_0x20d7b5(0x1da)](_0xa28356);this[_0x20d7b5(0x207)]=_0x3a0e47+0x1f4;const _0x175bf0=this[_0x20d7b5(0x1fe)](this[_0x20d7b5(0x1d9)]===undefined?null:this['handshakeData']);(_0x4d3f04=this['socket'])===null||_0x4d3f04===void 0x0?void 0x0:_0x4d3f04['send'](_0x175bf0),this['handshakeStatus']=_0x20d7b5(0x1e5);return;}else{if(this[_0x20d7b5(0x203)]===_0x20d7b5(0x1e5)){this[_0x20d7b5(0x203)]=_0x20d7b5(0x1e1);return;}}const _0x3ced28=_0xa28356[_0x20d7b5(0x1f2)](0x0),_0x1e6413=_0x3ced28&0x7f,_0x7e0f41=(_0x3ced28&0x80)!==0x0;if(_0x7e0f41){const _0x3be2f4=_0xa28356[_0x20d7b5(0x1f2)](0x1),_0x44a981=_0xa28356[_0x20d7b5(0x1ec)](0x2,0x2+_0x3be2f4)[_0x20d7b5(0x1dd)]('utf-8');if([_0x20d7b5(0x210),_0x20d7b5(0x1cb),_0x20d7b5(0x20d),'close'][_0x20d7b5(0x1e0)](_0x44a981))return;const _0x1b63c9=this['decode'](_0xa28356[_0x20d7b5(0x1ec)](0x2+_0x3be2f4)),_0xc2fa40=(_0x25a5c3=this[_0x20d7b5(0x1d7)][_0x44a981])!==null&&_0x25a5c3!==void 0x0?_0x25a5c3:[];let _0x33c13b=![];const _0x503a22=_0x12d9ca=>{const _0x34812d=_0x20d7b5;var _0x194711;if(_0x1e6413===0x0&&_0x33c13b)return;if(_0x12d9ca===undefined)return;const _0x345271=Buffer['concat']([Buffer[_0x34812d(0x1f4)]([_0x1e6413&0x7f]),this['encode'](_0x12d9ca)]);(_0x194711=this[_0x34812d(0x1f8)])===null||_0x194711===void 0x0?void 0x0:_0x194711[_0x34812d(0x1fa)](_0x345271),_0x33c13b=!![];};for(const _0x355309 of _0xc2fa40)_0x355309[_0x20d7b5(0x1d8)](undefined,_0x1b63c9,_0x503a22);if(!_0x33c13b&&_0x1e6413!==0x0){}return;}const _0x311e06=this[_0x20d7b5(0x1f3)][_0x1e6413];if(_0x311e06==undefined)return;const _0x5f3bb8=this[_0x20d7b5(0x1da)](_0xa28356[_0x20d7b5(0x1ec)](0x1));_0x311e06(_0x5f3bb8);}['encode'](_0x2e6c34){const _0x3abb89=a0_0x2dc7ed;return Buffer[_0x3abb89(0x1f4)](JSON[_0x3abb89(0x1ce)](_0x2e6c34),_0x3abb89(0x1d2));}['decode'](_0x2bf4f9){const _0x16fae2=a0_0x2dc7ed;return JSON['parse'](_0x2bf4f9[_0x16fae2(0x1dd)]('utf-8'));}['on'](_0x557239,_0x2997ff){const _0x4b9f8d=a0_0x2dc7ed;if(this[_0x4b9f8d(0x1d7)][_0x557239]==undefined)this[_0x4b9f8d(0x1d7)][_0x557239]=[];this['handlers'][_0x557239][_0x4b9f8d(0x1e4)](_0x2997ff);}['off'](_0x466837,_0x8c5104){const _0x37002a=a0_0x2dc7ed;if(_0x8c5104==undefined){delete this[_0x37002a(0x1d7)][_0x466837];return;}const _0x13029b=this[_0x37002a(0x1d7)][_0x466837],_0x466e47=(_0x13029b!==null&&_0x13029b!==void 0x0?_0x13029b:[])[_0x37002a(0x1e9)](_0x4aad2c=>_0x4aad2c===_0x8c5104);if(_0x466e47===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x466837+'\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found');_0x13029b['splice'](_0x466e47,0x1);}['raise'](_0x2780b7,_0x221e3d){const _0x413e1c=a0_0x2dc7ed;var _0x1d7879;const _0x366274=(_0x1d7879=this[_0x413e1c(0x1d7)][_0x2780b7])!==null&&_0x1d7879!==void 0x0?_0x1d7879:[];for(const _0x4a68a of _0x366274)_0x4a68a(_0x221e3d);}}exports[a0_0x2dc7ed(0x1e6)]=Client;