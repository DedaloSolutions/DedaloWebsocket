'use strict';const a0_0x593a54=a0_0x579a;(function(_0x53fdc2,_0x7cd03){const _0x4d9557=a0_0x579a,_0x428a2b=_0x53fdc2();while(!![]){try{const _0x4554f5=parseInt(_0x4d9557(0x9e))/0x1+parseInt(_0x4d9557(0xbe))/0x2+parseInt(_0x4d9557(0xc1))/0x3+-parseInt(_0x4d9557(0xe2))/0x4+-parseInt(_0x4d9557(0x9f))/0x5+parseInt(_0x4d9557(0xe0))/0x6*(parseInt(_0x4d9557(0xb9))/0x7)+-parseInt(_0x4d9557(0xc6))/0x8;if(_0x4554f5===_0x7cd03)break;else _0x428a2b['push'](_0x428a2b['shift']());}catch(_0x468862){_0x428a2b['push'](_0x428a2b['shift']());}}}(a0_0x398c,0x9829f));function a0_0x398c(){const _0x3921c9=['removeEventListener','error','default','OPEN','2389296hOyNzs','close','resolve','2401473pLmIzC','byteOffset','WebSocket','arrayBuffer','url','5583688YIgNwE','__setModuleDefault','Event\x20name\x20too\x20long\x20(max\x20255\x20bytes)','raise','next','Cannot\x20emit\x20a\x20class\x20internal\x20event\x20as\x20handshake,\x20open,\x20error,\x20close\x20or\x20\x22*\x22','WebSocket\x20is\x20not\x20available.\x20Please\x20install\x20the\x20\x27ws\x27\x20package\x20with\x20\x27npm\x20install\x20ws\x27','handlers','readyState','onopen','create','done','waiting','defineProperty','__awaiter','hasOwnProperty','call','__esModule','off','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','includes','slice','then','The\x20WebSocketClass\x20is\x20not\x20connected','CONNECTING','encode','78IIQlAf','disconnect','4467960NURMxb','isArray','decode','completed','CLOSING','requestedDisconnected','handle','Unsupported\x20data\x20type','from','length','NaN','getOwnPropertyDescriptor','addEventListener','open','heartbeatInterval','pendingRequests','No\x20url\x20specified','heartbeatTimeout','closed','send','__createBinding','The\x20WebSocketClass\x20is\x20already\x20connected','prototype','byteLength','splice','requestId','The\x20WebSocketClass\x20isn\x27t\x20connected\x20or\x20is\x20already\x20trying\x20to\x20close\x20the\x20connection','onmessage','533113ZoLesH','2181140kAMUOT','push','concat','connecting','stringify','connect','undefined','sent-info','CLOSED','handshakeStatus','socket','apply','catch','checkHeartbeat','handshake','buffer','onclose','get','getOwnPropertyNames','reconnectTimeout','handshakeData','onerror','Timeout','value','set','parse','186410UHNDPn'];a0_0x398c=function(){return _0x3921c9;};return a0_0x398c();}var __createBinding=this&&this[a0_0x593a54(0x96)]||(Object['create']?function(_0x19faf9,_0x404d5f,_0x34a118,_0x30dc8a){const _0x3333f5=a0_0x593a54;if(_0x30dc8a===undefined)_0x30dc8a=_0x34a118;var _0x787495=Object[_0x3333f5(0xed)](_0x404d5f,_0x34a118);(!_0x787495||(_0x3333f5(0xb0)in _0x787495?!_0x404d5f[_0x3333f5(0xd7)]:_0x787495['writable']||_0x787495['configurable']))&&(_0x787495={'enumerable':!![],'get':function(){return _0x404d5f[_0x34a118];}}),Object['defineProperty'](_0x19faf9,_0x30dc8a,_0x787495);}:function(_0x3a82ef,_0x31bcb0,_0x43a4ef,_0x3efda7){if(_0x3efda7===undefined)_0x3efda7=_0x43a4ef;_0x3a82ef[_0x3efda7]=_0x31bcb0[_0x43a4ef];}),__setModuleDefault=this&&this[a0_0x593a54(0xc7)]||(Object[a0_0x593a54(0xd0)]?function(_0x85b43f,_0x2053a7){const _0x2b81cf=a0_0x593a54;Object[_0x2b81cf(0xd3)](_0x85b43f,_0x2b81cf(0xbc),{'enumerable':!![],'value':_0x2053a7});}:function(_0x549be1,_0x40262f){_0x549be1['default']=_0x40262f;}),__importStar=this&&this['__importStar']||(function(){var _0x54940b=function(_0x4ab0e2){const _0x1f85ac=a0_0x579a;return _0x54940b=Object[_0x1f85ac(0xb1)]||function(_0xa4fb4f){const _0x37358b=_0x1f85ac;var _0x21ebb8=[];for(var _0x3510d0 in _0xa4fb4f)if(Object[_0x37358b(0x98)][_0x37358b(0xd5)][_0x37358b(0xd6)](_0xa4fb4f,_0x3510d0))_0x21ebb8[_0x21ebb8[_0x37358b(0xeb)]]=_0x3510d0;return _0x21ebb8;},_0x54940b(_0x4ab0e2);};return function(_0x4226da){const _0x1671be=a0_0x579a;if(_0x4226da&&_0x4226da['__esModule'])return _0x4226da;var _0x40e733={};if(_0x4226da!=null){for(var _0x41cd09=_0x54940b(_0x4226da),_0x5202ec=0x0;_0x5202ec<_0x41cd09[_0x1671be(0xeb)];_0x5202ec++)if(_0x41cd09[_0x5202ec]!==_0x1671be(0xbc))__createBinding(_0x40e733,_0x4226da,_0x41cd09[_0x5202ec]);}return __setModuleDefault(_0x40e733,_0x4226da),_0x40e733;};}()),__awaiter=this&&this[a0_0x593a54(0xd4)]||function(_0x3c788c,_0xb856c,_0x6616c9,_0xdd150e){function _0x591187(_0x2d95cf){return _0x2d95cf instanceof _0x6616c9?_0x2d95cf:new _0x6616c9(function(_0x2ea82b){_0x2ea82b(_0x2d95cf);});}return new(_0x6616c9||(_0x6616c9=Promise))(function(_0xb6d1d8,_0x3be740){const _0x4887a1=a0_0x579a;function _0x51061a(_0x5e5f8b){try{_0x5cedae(_0xdd150e['next'](_0x5e5f8b));}catch(_0x346081){_0x3be740(_0x346081);}}function _0x1c70e0(_0x2971eb){try{_0x5cedae(_0xdd150e['throw'](_0x2971eb));}catch(_0x4c5aa9){_0x3be740(_0x4c5aa9);}}function _0x5cedae(_0x25741d){const _0x40908a=a0_0x579a;_0x25741d[_0x40908a(0xd1)]?_0xb6d1d8(_0x25741d[_0x40908a(0xb6)]):_0x591187(_0x25741d['value'])['then'](_0x51061a,_0x1c70e0);}_0x5cedae((_0xdd150e=_0xdd150e[_0x4887a1(0xaa)](_0x3c788c,_0xb856c||[]))[_0x4887a1(0xca)]());});};Object[a0_0x593a54(0xd3)](exports,'__esModule',{'value':!![]});let WebSocketClass;function a0_0x579a(_0x1b7a6f,_0x59197e){const _0x398c3a=a0_0x398c();return a0_0x579a=function(_0x579a6a,_0x15be41){_0x579a6a=_0x579a6a-0x8f;let _0x3f7d96=_0x398c3a[_0x579a6a];return _0x3f7d96;},a0_0x579a(_0x1b7a6f,_0x59197e);}if(typeof WebSocket===a0_0x593a54(0xa5))Promise[a0_0x593a54(0xc0)]()[a0_0x593a54(0xdc)](()=>__importStar(require('ws')))[a0_0x593a54(0xdc)](_0x1c7a82=>{const _0x189ce9=a0_0x593a54;WebSocketClass=_0x1c7a82[_0x189ce9(0xc3)];})[a0_0x593a54(0xab)](()=>{const _0x2ba4e0=a0_0x593a54;throw new Error(_0x2ba4e0(0xcc));});else WebSocketClass=WebSocket;class Client{constructor(){const _0x55d62c=a0_0x593a54;this[_0x55d62c(0x90)]=0x5*0x3e8+0x1f4,this[_0x55d62c(0xb2)]=null,this[_0x55d62c(0xa8)]='waiting',this[_0x55d62c(0xe7)]=![],this[_0x55d62c(0x9b)]=0x1,this[_0x55d62c(0x91)]={},this[_0x55d62c(0xcd)]={},this[_0x55d62c(0xac)]=()=>{const _0x54f33f=_0x55d62c;if(this[_0x54f33f(0x93)]!=undefined)clearTimeout(this[_0x54f33f(0x93)]);this[_0x54f33f(0x93)]=setTimeout(()=>{const _0x5623df=_0x54f33f;var _0x3c2206;if(this[_0x5623df(0xa9)]!=undefined&&this[_0x5623df(0xa9)]['readyState']!==WebSocketClass[_0x5623df(0xbd)])return;(_0x3c2206=this[_0x5623df(0xa9)])===null||_0x3c2206===void 0x0?void 0x0:_0x3c2206[_0x5623df(0xbf)]();},this[_0x54f33f(0x90)]);};}['connect'](){return __awaiter(this,arguments,void 0x0,function*({url:_0x8bc69f,allowReject:_0x4d7295,handshakeData:_0x5961d3,reconnectTimeout:_0x305035}={}){return new Promise((_0x3abb00,_0x44fc5b)=>{const _0x59a4cf=a0_0x579a;if(this[_0x59a4cf(0xa9)]!=undefined&&this['socket'][_0x59a4cf(0xce)]===WebSocketClass['OPEN']){if(_0x4d7295!==!![])_0x44fc5b(new Error(_0x59a4cf(0x97)));else _0x3abb00();}this[_0x59a4cf(0xa9)]!=undefined&&(this[_0x59a4cf(0xa9)][_0x59a4cf(0xcf)]=()=>{},this[_0x59a4cf(0xa9)]['onerror']=()=>{},this['socket'][_0x59a4cf(0x9d)]=()=>{},this['socket']['onclose']=()=>{},this['handshakeStatus']=_0x59a4cf(0xd2));if(this[_0x59a4cf(0xc5)]==undefined&&_0x8bc69f==undefined)_0x44fc5b(new Error(_0x59a4cf(0x92)));this[_0x59a4cf(0xc5)]=_0x8bc69f||this['url'];if(_0x305035!==undefined)this[_0x59a4cf(0xb2)]=_0x305035;if(_0x5961d3!==undefined)this['handshakeData']=_0x5961d3;this[_0x59a4cf(0xa9)]=new WebSocketClass(this[_0x59a4cf(0xc5)]),this[_0x59a4cf(0xa9)][_0x59a4cf(0xcf)]=_0x1941e2=>{const _0x40af66=_0x59a4cf;this[_0x40af66(0xc9)](_0x40af66(0x8f),_0x1941e2);},this[_0x59a4cf(0xa9)][_0x59a4cf(0xb4)]=_0x3150e8=>{const _0x335177=_0x59a4cf;this[_0x335177(0xc9)](_0x335177(0xbb),_0x3150e8);},this[_0x59a4cf(0xa9)][_0x59a4cf(0x9d)]=_0x3e0c8b=>{const _0x52036d=_0x59a4cf;this[_0x52036d(0xe8)](_0x3e0c8b),this[_0x52036d(0xac)]();},this[_0x59a4cf(0xa9)][_0x59a4cf(0xaf)]=_0x435b2b=>{const _0x5032a7=_0x59a4cf;if(this['heartbeatTimeout']!=undefined)clearTimeout(this[_0x5032a7(0x93)]);if(this[_0x5032a7(0xb2)]!=undefined&&!this[_0x5032a7(0xe7)])setTimeout(()=>this[_0x5032a7(0xa4)](),this['reconnectTimeout']);this[_0x5032a7(0xe7)]=![],this[_0x5032a7(0xc9)](_0x5032a7(0xbf),_0x435b2b);};const _0x5c7c72=()=>{_0x3abb00(),_0x1fd8a0();},_0x509905=_0xa40cc3=>{_0x4d7295?_0x44fc5b(_0xa40cc3):_0x3abb00(),_0x1fd8a0();};this[_0x59a4cf(0xa9)][_0x59a4cf(0xee)](_0x59a4cf(0x8f),_0x5c7c72,{'once':!![]}),this[_0x59a4cf(0xa9)][_0x59a4cf(0xee)](_0x59a4cf(0xbb),_0x509905,{'once':!![]});const _0x1fd8a0=()=>{const _0x5885bd=_0x59a4cf;var _0x1f4726,_0x179f7c;(_0x1f4726=this[_0x5885bd(0xa9)])===null||_0x1f4726===void 0x0?void 0x0:_0x1f4726['removeEventListener'](_0x5885bd(0x8f),_0x5c7c72),(_0x179f7c=this[_0x5885bd(0xa9)])===null||_0x179f7c===void 0x0?void 0x0:_0x179f7c['removeEventListener']('error',_0x509905);};});});}[a0_0x593a54(0xe1)](_0x18606d,_0x538f1d){return __awaiter(this,void 0x0,void 0x0,function*(){return new Promise((_0x10b15a,_0x45319e)=>{const _0x4a5dab=a0_0x579a;if(this[_0x4a5dab(0xa9)]==undefined||this['socket'][_0x4a5dab(0xce)]===WebSocketClass[_0x4a5dab(0xe6)]||this['socket']['readyState']===WebSocketClass[_0x4a5dab(0xa7)])return _0x45319e(new Error(_0x4a5dab(0x9c)));this[_0x4a5dab(0xe7)]=!![],this[_0x4a5dab(0xa9)][_0x4a5dab(0xbf)](_0x18606d,_0x538f1d);const _0x3c2aaf=()=>{_0x10b15a(),_0x20c728();},_0x25fcfb=_0x16333b=>{_0x45319e(_0x16333b),_0x20c728();};this['socket'][_0x4a5dab(0xee)](_0x4a5dab(0xbf),_0x3c2aaf,{'once':!![]}),this[_0x4a5dab(0xa9)]['addEventListener']('error',_0x25fcfb,{'once':!![]});const _0x20c728=()=>{const _0x2a8596=_0x4a5dab;var _0x403f04,_0x3eb2c7;(_0x403f04=this[_0x2a8596(0xa9)])===null||_0x403f04===void 0x0?void 0x0:_0x403f04['removeEventListener'](_0x2a8596(0xbf),_0x3c2aaf),(_0x3eb2c7=this['socket'])===null||_0x3eb2c7===void 0x0?void 0x0:_0x3eb2c7[_0x2a8596(0xba)](_0x2a8596(0xbb),_0x25fcfb);};});});}get['status'](){const _0x268d67=a0_0x593a54;var _0x2310be;switch((_0x2310be=this['socket'])===null||_0x2310be===void 0x0?void 0x0:_0x2310be[_0x268d67(0xce)]){case WebSocketClass[_0x268d67(0xde)]:return _0x268d67(0xa2);case WebSocketClass[_0x268d67(0xbd)]:return this['handshakeStatus']===_0x268d67(0xe5)?_0x268d67(0x8f):'handshake';case WebSocketClass['CLOSING']:return'closing';case WebSocketClass[_0x268d67(0xa7)]:default:return _0x268d67(0x94);}}['emit'](_0xad3d37,_0x4b0967,_0x5ef860,_0x52e80e=0x5*0x3e8){const _0x287e19=a0_0x593a54;if(this[_0x287e19(0xa9)]==undefined||this['status']!=='open')throw new Error(_0x287e19(0xdd));if([_0x287e19(0xad),_0x287e19(0x8f),'error','close','*'][_0x287e19(0xda)](_0xad3d37))throw new Error(_0x287e19(0xcb));const _0x1a7b05=new TextEncoder()['encode'](_0xad3d37);if(_0x1a7b05[_0x287e19(0xeb)]>0xff)throw new Error(_0x287e19(0xc8));const _0x1ba306=this[_0x287e19(0x9b)];if(_0x5ef860!=undefined){this[_0x287e19(0x9b)]=(this[_0x287e19(0x9b)]+0x1)%0x100;const _0xeec2ad=setTimeout(()=>{const _0x4f1e2a=_0x287e19;delete this[_0x4f1e2a(0x91)][_0x1ba306],_0x5ef860(new Error(_0x4f1e2a(0xb5)));},_0x52e80e);this[_0x287e19(0x91)][_0x1ba306]=_0x340e61=>{if(!(_0x340e61 instanceof Error))clearTimeout(_0xeec2ad);_0x5ef860(_0x340e61);};}const _0x36fd1f=this['encode'](_0x4b0967),_0x178c7b=new Uint8Array(0x2+(_0x5ef860==undefined?0x0:0x1)+_0x1a7b05[_0x287e19(0xeb)]+_0x36fd1f[_0x287e19(0xeb)]);_0x178c7b[0x0]=_0x5ef860==undefined?0x2:0x3;if(_0x5ef860!=undefined)_0x178c7b[0x1]=_0x1ba306;_0x178c7b[0x1+(_0x5ef860!=undefined?0x1:0x0)]=_0x1a7b05[_0x287e19(0xeb)],_0x178c7b[_0x287e19(0xb7)](_0x1a7b05,0x2+(_0x5ef860!=undefined?0x1:0x0)),_0x178c7b[_0x287e19(0xb7)](_0x36fd1f,0x2+(_0x5ef860!=undefined?0x1:0x0)+_0x1a7b05[_0x287e19(0xeb)]),this[_0x287e19(0xa9)][_0x287e19(0x95)](_0x178c7b);}['handle'](_0x4f8818){return __awaiter(this,arguments,void 0x0,function*({data:_0x17f6b0}){const _0x2c5623=a0_0x579a;var _0x1a35e4,_0x335655,_0x194976;let _0x353e04=new Uint8Array();if(typeof _0x17f6b0==='string')_0x353e04=new TextEncoder()[_0x2c5623(0xdf)](_0x17f6b0);else{if(_0x17f6b0 instanceof Buffer)_0x353e04=new Uint8Array(_0x17f6b0[_0x2c5623(0xae)],_0x17f6b0[_0x2c5623(0xc2)],_0x17f6b0['byteLength']);else{if(_0x17f6b0 instanceof ArrayBuffer)_0x353e04=new Uint8Array(_0x17f6b0);else{if(_0x17f6b0 instanceof Blob)_0x353e04=new Uint8Array(yield _0x17f6b0[_0x2c5623(0xc4)]());else{if(Array[_0x2c5623(0xe3)](_0x17f6b0)){const _0x37a81b=_0x17f6b0['reduce']((_0x546e58,_0x5dcc46)=>_0x546e58+_0x5dcc46['length'],0x0);_0x353e04=new Uint8Array(_0x37a81b);let _0xa3b81f=0x0;for(const _0x3bce7f of _0x17f6b0){_0x353e04[_0x2c5623(0xb7)](new Uint8Array(_0x3bce7f[_0x2c5623(0xae)],_0x3bce7f[_0x2c5623(0xc2)],_0x3bce7f[_0x2c5623(0x99)]),_0xa3b81f),_0xa3b81f+=_0x3bce7f['length'];}}else throw new Error(_0x2c5623(0xe9));}}}}if(this[_0x2c5623(0xa8)]===_0x2c5623(0xd2)){const {pingInterval:_0x94a5bf}=this['decode'](_0x353e04);this[_0x2c5623(0x90)]=_0x94a5bf+0x1f4;const _0x33eec5=this[_0x2c5623(0xdf)]((_0x1a35e4=this[_0x2c5623(0xb3)])!==null&&_0x1a35e4!==void 0x0?_0x1a35e4:null);this['socket']['send'](_0x33eec5),this[_0x2c5623(0xa8)]=_0x2c5623(0xa6);return;}if(this[_0x2c5623(0xa8)]==='sent-info'){this[_0x2c5623(0xa8)]='completed';return;}const _0x12b8a1=_0x353e04[0x0];switch(_0x12b8a1){case 0x0:{this[_0x2c5623(0xac)](),_0x353e04[0x0]=0x1,this[_0x2c5623(0xa9)][_0x2c5623(0x95)](_0x353e04);break;}case 0x1:{break;}case 0x2:case 0x3:{const _0x117f4e=_0x12b8a1===0x2?Number[_0x2c5623(0xec)]:_0x353e04[0x1],_0x4a803a=_0x12b8a1===0x2?0x0:0x1,_0x10d67c=_0x353e04[0x1+_0x4a803a],_0x4e691f=new TextDecoder()['decode'](_0x353e04[_0x2c5623(0xdb)](0x2+_0x4a803a,0x2+_0x4a803a+_0x10d67c));if([_0x2c5623(0xad),_0x2c5623(0x8f),_0x2c5623(0xbb),_0x2c5623(0xbf),'*'][_0x2c5623(0xda)](_0x4e691f))return;const _0x383696=this[_0x2c5623(0xe4)](_0x353e04[_0x2c5623(0xdb)](0x2+_0x4a803a+_0x10d67c)),_0x3832cb=(_0x335655=this[_0x2c5623(0xcd)][_0x4e691f])!==null&&_0x335655!==void 0x0?_0x335655:[];let _0x28bedd=![];for(const _0x2ec46c of _0x3832cb){const _0x5615fe=_0x2ec46c[_0x2c5623(0xd6)](undefined,_0x383696);if(!_0x28bedd&&_0x5615fe!==undefined&&_0x117f4e!==0x0){_0x28bedd=!![];const _0x1353ef=Buffer[_0x2c5623(0xa1)]([Buffer[_0x2c5623(0xea)]([0x4,_0x117f4e]),this[_0x2c5623(0xdf)](_0x5615fe)]);this[_0x2c5623(0xa9)][_0x2c5623(0x95)](_0x1353ef);}}const _0x15818c=(_0x194976=this[_0x2c5623(0xcd)]['*'])!==null&&_0x194976!==void 0x0?_0x194976:[];for(const _0x91887c of _0x15818c)_0x91887c['call'](undefined,_0x4e691f,_0x383696);if(!_0x28bedd&&_0x12b8a1===0x3){}break;}case 0x4:{const _0x2e49aa=_0x353e04[0x1],_0x2070a2=this['pendingRequests'][_0x2e49aa];if(_0x2070a2==undefined)return;const _0x3f20c1=this[_0x2c5623(0xe4)](_0x353e04['slice'](0x2));_0x2070a2(_0x3f20c1);break;}}});}['encode'](_0x2a3da0){const _0x527e74=a0_0x593a54;return new TextEncoder()[_0x527e74(0xdf)](JSON[_0x527e74(0xa3)](_0x2a3da0));}['decode'](_0x9ae6d8){const _0xf7fa83=a0_0x593a54;return JSON[_0xf7fa83(0xb8)](new TextDecoder()[_0xf7fa83(0xe4)](_0x9ae6d8));}['on'](_0x1f13b3,_0x44bfda){const _0x3e5f0f=a0_0x593a54;if(this[_0x3e5f0f(0xcd)][_0x1f13b3]==undefined)this[_0x3e5f0f(0xcd)][_0x1f13b3]=[];this[_0x3e5f0f(0xcd)][_0x1f13b3][_0x3e5f0f(0xa0)](_0x44bfda);}[a0_0x593a54(0xd8)](_0x7c6035,_0x2baedb){const _0x1cc676=a0_0x593a54;if(_0x2baedb==undefined){delete this[_0x1cc676(0xcd)][_0x7c6035];return;}const _0x3b09eb=this[_0x1cc676(0xcd)][_0x7c6035],_0x53a9c2=(_0x3b09eb!==null&&_0x3b09eb!==void 0x0?_0x3b09eb:[])['findIndex'](_0x36d37e=>_0x36d37e===_0x2baedb);if(_0x53a9c2===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x7c6035+_0x1cc676(0xd9));_0x3b09eb[_0x1cc676(0x9a)](_0x53a9c2,0x1);}[a0_0x593a54(0xc9)](_0x2c18b6,_0x3a2283){const _0x4b487c=a0_0x593a54;var _0x1dc8f0,_0x291117;const _0x4408e9=(_0x1dc8f0=this['handlers'][_0x2c18b6])!==null&&_0x1dc8f0!==void 0x0?_0x1dc8f0:[];for(const _0x5b2e56 of _0x4408e9)_0x5b2e56(_0x3a2283);const _0xe82522=(_0x291117=this[_0x4b487c(0xcd)]['*'])!==null&&_0x291117!==void 0x0?_0x291117:[];for(const _0x52cdcc of _0xe82522)_0x52cdcc(_0x2c18b6,_0x3a2283);}}exports['default']=Client;