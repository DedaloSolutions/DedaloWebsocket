'use strict';const a1_0x2689d1=a1_0x34cb;function a1_0x3004(){const _0x58bdb0=['default','287838jiumup','1074tmFTBw','off','4855vnhwvk','upgrade','handlers','116611VoKwFN','connection','splice','crypto','sockets','6FrJQme','__esModule','881520NwrIga','9573kHnNVA','call','134036jtAPOU','fromUpgradeRequest','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','458992mdigpR','24glXIoy','randomUUID','handshake','./socket.class'];a1_0x3004=function(){return _0x58bdb0;};return a1_0x3004();}function a1_0x34cb(_0x169ecf,_0x355249){const _0x3004dd=a1_0x3004();return a1_0x34cb=function(_0x34cbed,_0x309864){_0x34cbed=_0x34cbed-0x189;let _0x3f6b56=_0x3004dd[_0x34cbed];return _0x3f6b56;},a1_0x34cb(_0x169ecf,_0x355249);}(function(_0x3a3dac,_0x242e3b){const _0x26347e=a1_0x34cb,_0x1b673b=_0x3a3dac();while(!![]){try{const _0x1d5e5c=-parseInt(_0x26347e(0x19f))/0x1+parseInt(_0x26347e(0x18b))/0x2*(-parseInt(_0x26347e(0x18e))/0x3)+parseInt(_0x26347e(0x193))/0x4+-parseInt(_0x26347e(0x19c))/0x5*(-parseInt(_0x26347e(0x19a))/0x6)+-parseInt(_0x26347e(0x190))/0x7+parseInt(_0x26347e(0x194))/0x8*(parseInt(_0x26347e(0x199))/0x9)+-parseInt(_0x26347e(0x18d))/0xa;if(_0x1d5e5c===_0x242e3b)break;else _0x1b673b['push'](_0x1b673b['shift']());}catch(_0x441a0d){_0x1b673b['push'](_0x1b673b['shift']());}}}(a1_0x3004,0x24deb));var __importDefault=this&&this['__importDefault']||function(_0x310c40){const _0x2bf268=a1_0x34cb;return _0x310c40&&_0x310c40[_0x2bf268(0x18c)]?_0x310c40:{'default':_0x310c40};};Object['defineProperty'](exports,a1_0x2689d1(0x18c),{'value':!![]});const crypto_1=__importDefault(require(a1_0x2689d1(0x189))),socket_class_1=__importDefault(require(a1_0x2689d1(0x197)));class Server{constructor(){const _0xefd754=a1_0x2689d1;this[_0xefd754(0x18a)]={},this[_0xefd754(0x19e)]={};}['listen'](_0x294de8){const _0x439a11=a1_0x2689d1;_0x294de8['on'](_0x439a11(0x19d),(_0x45d6ad,_0x24ab03)=>{const _0x29b4c8=_0x439a11,_0x7f5ab4=socket_class_1[_0x29b4c8(0x198)][_0x29b4c8(0x191)](_0x45d6ad,_0x24ab03),_0x283bfa=crypto_1[_0x29b4c8(0x198)][_0x29b4c8(0x195)]();if(_0x7f5ab4===null)return;this[_0x29b4c8(0x18a)][_0x283bfa]=_0x7f5ab4,_0x7f5ab4['on'](_0x29b4c8(0x196),_0x3b46fa=>{const _0x2347a5=_0x29b4c8;this['raise'](_0x2347a5(0x1a0),[_0x283bfa,_0x7f5ab4,_0x3b46fa]);}),_0x7f5ab4['on']('close',()=>{delete this['sockets'][_0x283bfa];});});}['on'](_0x11f184,_0x49c6e0){const _0x1118a4=a1_0x2689d1;if(this[_0x1118a4(0x19e)][_0x11f184]==undefined)this[_0x1118a4(0x19e)][_0x11f184]=[];this[_0x1118a4(0x19e)][_0x11f184]['push'](_0x49c6e0);}[a1_0x2689d1(0x19b)](_0x4b52ba,_0x3da2a9){const _0x15c31f=a1_0x2689d1;if(_0x3da2a9==undefined){this['handlers'][_0x4b52ba]=[];return;}const _0x4d49fe=this[_0x15c31f(0x19e)][_0x4b52ba],_0x1d2444=(_0x4d49fe!==null&&_0x4d49fe!==void 0x0?_0x4d49fe:[])['findIndex'](_0xd2a5d1=>_0xd2a5d1===_0x3da2a9);if(_0x1d2444===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x4b52ba+_0x15c31f(0x192));_0x4d49fe[_0x15c31f(0x1a1)](_0x1d2444,0x1);}['raise'](_0xa0a978,[_0x4fc7d2,_0x16460f,_0x146eef]){const _0x37519c=a1_0x2689d1;var _0x449ef5;const _0x57cc1c=(_0x449ef5=this['handlers'][_0xa0a978])!==null&&_0x449ef5!==void 0x0?_0x449ef5:[];for(const _0x158b63 of _0x57cc1c){_0x158b63[_0x37519c(0x18f)](undefined,...[_0x4fc7d2,_0x16460f,_0x146eef]);}}}exports[a1_0x2689d1(0x198)]=Server;