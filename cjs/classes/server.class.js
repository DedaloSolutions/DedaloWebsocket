'use strict';const a1_0x40ee6c=a1_0x2455;(function(_0x5662a2,_0x1512fa){const _0x928ea8=a1_0x2455,_0x40eb95=_0x5662a2();while(!![]){try{const _0x741dd5=-parseInt(_0x928ea8(0x10a))/0x1*(-parseInt(_0x928ea8(0x107))/0x2)+-parseInt(_0x928ea8(0xfb))/0x3+parseInt(_0x928ea8(0x10c))/0x4+parseInt(_0x928ea8(0xfe))/0x5*(parseInt(_0x928ea8(0x10f))/0x6)+parseInt(_0x928ea8(0x10b))/0x7*(-parseInt(_0x928ea8(0x103))/0x8)+-parseInt(_0x928ea8(0x101))/0x9*(-parseInt(_0x928ea8(0x106))/0xa)+-parseInt(_0x928ea8(0xfa))/0xb;if(_0x741dd5===_0x1512fa)break;else _0x40eb95['push'](_0x40eb95['shift']());}catch(_0xd6e175){_0x40eb95['push'](_0x40eb95['shift']());}}}(a1_0x19d9,0xe1cea));var __importDefault=this&&this['__importDefault']||function(_0x308eac){return _0x308eac&&_0x308eac['__esModule']?_0x308eac:{'default':_0x308eac};};function a1_0x19d9(){const _0x11d49e=['3542033ewIPbk','850194ExbiBI','handlers','upgrade','777110CJTdLE','handshake','sockets','1253961WxLgUQ','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','86552fKHojK','raise','close','10RwcaCf','4bGKmtB','push','splice','767235GoCzBa','245VTyJNw','319004zESMxj','randomUUID','default','6uEpQsB','connection','call','findIndex','defineProperty'];a1_0x19d9=function(){return _0x11d49e;};return a1_0x19d9();}Object[a1_0x40ee6c(0xf9)](exports,'__esModule',{'value':!![]});const crypto_1=__importDefault(require('crypto')),socket_class_1=__importDefault(require('./socket.class'));class Server{constructor(){this['sockets']={},this['handlers']={};}['listen'](_0xd4a452){const _0x20c152=a1_0x40ee6c;_0xd4a452['on'](_0x20c152(0xfd),(_0x2f0adf,_0x19b809)=>{const _0x58543f=_0x20c152,_0x4ba094=socket_class_1['default']['fromUpgradeRequest'](_0x2f0adf,_0x19b809),_0x1ce267=crypto_1['default'][_0x58543f(0x10d)]();if(_0x4ba094===null)return;this[_0x58543f(0x100)][_0x1ce267]=_0x4ba094,_0x4ba094['on'](_0x58543f(0xff),_0xc406f7=>{const _0xc05bf8=_0x58543f;this[_0xc05bf8(0x104)](_0xc05bf8(0x110),[_0x1ce267,_0x4ba094,_0xc406f7]);}),_0x4ba094['on'](_0x58543f(0x105),()=>{const _0xccac1b=_0x58543f;delete this[_0xccac1b(0x100)][_0x1ce267];});});}['on'](_0x26ab33,_0x11a991){const _0x311589=a1_0x40ee6c;if(this[_0x311589(0xfc)][_0x26ab33]==undefined)this[_0x311589(0xfc)][_0x26ab33]=[];this[_0x311589(0xfc)][_0x26ab33][_0x311589(0x108)](_0x11a991);}['off'](_0x43e121,_0x16543c){const _0x218ae6=a1_0x40ee6c;if(_0x16543c==undefined){this[_0x218ae6(0xfc)][_0x43e121]=[];return;}const _0x49b131=this[_0x218ae6(0xfc)][_0x43e121],_0x189b21=(_0x49b131!==null&&_0x49b131!==void 0x0?_0x49b131:[])[_0x218ae6(0xf8)](_0x2d51b6=>_0x2d51b6===_0x16543c);if(_0x189b21===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x43e121+_0x218ae6(0x102));_0x49b131[_0x218ae6(0x109)](_0x189b21,0x1);}[a1_0x40ee6c(0x104)](_0x5ad2c1,[_0x17e273,_0xbf7940,_0x23267c]){const _0x1dfc23=a1_0x40ee6c;var _0x4d1ae3;const _0x1edeb3=(_0x4d1ae3=this[_0x1dfc23(0xfc)][_0x5ad2c1])!==null&&_0x4d1ae3!==void 0x0?_0x4d1ae3:[];for(const _0x45d29f of _0x1edeb3){_0x45d29f[_0x1dfc23(0xf7)](undefined,...[_0x17e273,_0xbf7940,_0x23267c]);}}}function a1_0x2455(_0x263ad8,_0x336679){const _0x19d9a7=a1_0x19d9();return a1_0x2455=function(_0x24555a,_0x3210db){_0x24555a=_0x24555a-0xf7;let _0x5cb1e7=_0x19d9a7[_0x24555a];return _0x5cb1e7;},a1_0x2455(_0x263ad8,_0x336679);}exports[a1_0x40ee6c(0x10e)]=Server;