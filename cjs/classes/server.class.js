'use strict';function a1_0x5058(){const _0x3fdcd9=['16RvKAYJ','close','2354264WLqtvk','3PoMQYI','handshake','sockets','handlers','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','1241515MFxLIj','push','./socket.class','upgrade','raise','__importDefault','default','fromUpgradeRequest','1197316FUZEws','crypto','__esModule','353954pFFICc','5104932BWqYPu','1303056VOwgnY','defineProperty','call','5360994TMABHE','splice'];a1_0x5058=function(){return _0x3fdcd9;};return a1_0x5058();}function a1_0x47f6(_0x5e66b1,_0x10331b){const _0x505863=a1_0x5058();return a1_0x47f6=function(_0x47f65a,_0x5d8d7b){_0x47f65a=_0x47f65a-0x116;let _0x48b3e8=_0x505863[_0x47f65a];return _0x48b3e8;},a1_0x47f6(_0x5e66b1,_0x10331b);}const a1_0x3f3ba1=a1_0x47f6;(function(_0x349733,_0x57002f){const _0x176539=a1_0x47f6,_0x47b09e=_0x349733();while(!![]){try{const _0x3f116f=-parseInt(_0x176539(0x125))/0x1+parseInt(_0x176539(0x122))/0x2*(-parseInt(_0x176539(0x12f))/0x3)+-parseInt(_0x176539(0x12e))/0x4+parseInt(_0x176539(0x11a))/0x5+-parseInt(_0x176539(0x127))/0x6+parseInt(_0x176539(0x126))/0x7+-parseInt(_0x176539(0x12c))/0x8*(-parseInt(_0x176539(0x12a))/0x9);if(_0x3f116f===_0x57002f)break;else _0x47b09e['push'](_0x47b09e['shift']());}catch(_0x519cb5){_0x47b09e['push'](_0x47b09e['shift']());}}}(a1_0x5058,0x643bd));var __importDefault=this&&this[a1_0x3f3ba1(0x11f)]||function(_0x574ed4){const _0x107354=a1_0x3f3ba1;return _0x574ed4&&_0x574ed4[_0x107354(0x124)]?_0x574ed4:{'default':_0x574ed4};};Object[a1_0x3f3ba1(0x128)](exports,a1_0x3f3ba1(0x124),{'value':!![]});const crypto_1=__importDefault(require(a1_0x3f3ba1(0x123))),socket_class_1=__importDefault(require(a1_0x3f3ba1(0x11c)));class Server{constructor(){const _0x240352=a1_0x3f3ba1;this[_0x240352(0x117)]={},this[_0x240352(0x118)]={};}['listen'](_0xe3cc5d){const _0x3f4a16=a1_0x3f3ba1;_0xe3cc5d['on'](_0x3f4a16(0x11d),(_0x45f525,_0x15acdb)=>{const _0xbeef8a=_0x3f4a16,_0x174ced=socket_class_1[_0xbeef8a(0x120)][_0xbeef8a(0x121)](_0x45f525,_0x15acdb),_0x1a74bb=crypto_1[_0xbeef8a(0x120)]['randomUUID']();if(_0x174ced===null)return;this[_0xbeef8a(0x117)][_0x1a74bb]=_0x174ced,_0x174ced['on'](_0xbeef8a(0x116),_0x234404=>{const _0x1dd3e6=_0xbeef8a;this[_0x1dd3e6(0x11e)]('connection',[_0x1a74bb,_0x174ced,_0x234404]);}),_0x174ced['on'](_0xbeef8a(0x12d),()=>{const _0x2b7b60=_0xbeef8a;delete this[_0x2b7b60(0x117)][_0x1a74bb];});});}['on'](_0x501633,_0x5b9f40){const _0x4f2a7d=a1_0x3f3ba1;if(this[_0x4f2a7d(0x118)][_0x501633]==undefined)this[_0x4f2a7d(0x118)][_0x501633]=[];this[_0x4f2a7d(0x118)][_0x501633][_0x4f2a7d(0x11b)](_0x5b9f40);}['off'](_0x250491,_0x59414c){const _0x574f5c=a1_0x3f3ba1;if(_0x59414c==undefined){this[_0x574f5c(0x118)][_0x250491]=[];return;}const _0x5a86f5=this[_0x574f5c(0x118)][_0x250491],_0x48fea5=(_0x5a86f5!==null&&_0x5a86f5!==void 0x0?_0x5a86f5:[])['findIndex'](_0x59b0c9=>_0x59b0c9===_0x59414c);if(_0x48fea5===-0x1)throw new Error('Attempted\x20to\x20remove\x20an\x20handler\x20for\x20'+_0x250491+_0x574f5c(0x119));_0x5a86f5[_0x574f5c(0x12b)](_0x48fea5,0x1);}[a1_0x3f3ba1(0x11e)](_0x202e95,[_0x92fe59,_0x2a34e6,_0x31938f]){const _0xb2dd7b=a1_0x3f3ba1;var _0x33e573;const _0x3f7461=(_0x33e573=this[_0xb2dd7b(0x118)][_0x202e95])!==null&&_0x33e573!==void 0x0?_0x33e573:[];for(const _0x34048d of _0x3f7461){_0x34048d[_0xb2dd7b(0x129)](undefined,...[_0x92fe59,_0x2a34e6,_0x31938f]);}}}exports[a1_0x3f3ba1(0x120)]=Server;