'use strict';const a1_0x22ff80=a1_0x28ca;(function(_0x3c8c5d,_0x82fb8b){const _0x5103bf=a1_0x28ca,_0x2f4722=_0x3c8c5d();while(!![]){try{const _0x295be9=-parseInt(_0x5103bf(0xd4))/0x1*(parseInt(_0x5103bf(0xda))/0x2)+-parseInt(_0x5103bf(0xd7))/0x3+parseInt(_0x5103bf(0xe0))/0x4+-parseInt(_0x5103bf(0xcb))/0x5+-parseInt(_0x5103bf(0xd8))/0x6*(parseInt(_0x5103bf(0xd0))/0x7)+-parseInt(_0x5103bf(0xde))/0x8*(parseInt(_0x5103bf(0xce))/0x9)+parseInt(_0x5103bf(0xd9))/0xa;if(_0x295be9===_0x82fb8b)break;else _0x2f4722['push'](_0x2f4722['shift']());}catch(_0x5c2218){_0x2f4722['push'](_0x2f4722['shift']());}}}(a1_0x3d3a,0xc17c2));var __importDefault=this&&this['__importDefault']||function(_0x5dca0d){const _0x4e5c81=a1_0x28ca;return _0x5dca0d&&_0x5dca0d[_0x4e5c81(0xd2)]?_0x5dca0d:{'default':_0x5dca0d};};Object[a1_0x22ff80(0xdf)](exports,'__esModule',{'value':!![]});const crypto_1=__importDefault(require(a1_0x22ff80(0xdd))),socket_class_1=__importDefault(require(a1_0x22ff80(0xdc)));function a1_0x28ca(_0x232139,_0x47cdb1){const _0x3d3a7c=a1_0x3d3a();return a1_0x28ca=function(_0x28caad,_0x1d29fa){_0x28caad=_0x28caad-0xc9;let _0x2fdef6=_0x3d3a7c[_0x28caad];return _0x2fdef6;},a1_0x28ca(_0x232139,_0x47cdb1);}function a1_0x3d3a(){const _0x42971b=['3260444csHdpd','off','handshake','raise','2454725zAuuIx','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','default','9OjFJzF','upgrade','196IrAsFp','handlers','__esModule','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','1809QYxEYA','sockets','randomUUID','2914170mGwJFC','216534XDXQec','43718390MPTxTp','772qnZXrh','push','./socket.class','crypto','9786680zJtUFp','defineProperty'];a1_0x3d3a=function(){return _0x42971b;};return a1_0x3d3a();}class Server{constructor(){const _0x4c8838=a1_0x22ff80;this[_0x4c8838(0xd5)]={},this[_0x4c8838(0xd1)]={};}['listen'](_0x1823f2){const _0x209446=a1_0x22ff80;_0x1823f2['on'](_0x209446(0xcf),(_0x501dc2,_0x3e2b8e)=>{const _0x12ecff=_0x209446,_0x37b249=socket_class_1[_0x12ecff(0xcd)]['fromUpgradeRequest'](_0x501dc2,_0x3e2b8e),_0x263914=crypto_1['default'][_0x12ecff(0xd6)]();if(_0x37b249===null)return;this[_0x12ecff(0xd5)][_0x263914]=_0x37b249,_0x37b249['on'](_0x12ecff(0xc9),_0x3618be=>{const _0x46e686=_0x12ecff;this[_0x46e686(0xca)]('connection',[_0x263914,_0x37b249,_0x3618be]);}),_0x37b249['on']('close',()=>{const _0x46d92d=_0x12ecff;delete this[_0x46d92d(0xd5)][_0x263914];});});}['on'](_0x2f7c0a,_0x1aec77){const _0x2badd0=a1_0x22ff80;if(this[_0x2badd0(0xd1)][_0x2f7c0a]==undefined)this['handlers'][_0x2f7c0a]=[];this['handlers'][_0x2f7c0a][_0x2badd0(0xdb)](_0x1aec77);}[a1_0x22ff80(0xe1)](_0x169174,_0x333524){const _0xfbdc6=a1_0x22ff80;if(_0x333524==undefined){this['handlers'][_0x169174]=[];return;}const _0x435489=this[_0xfbdc6(0xd1)][_0x169174],_0x44de42=(_0x435489!==null&&_0x435489!==void 0x0?_0x435489:[])['findIndex'](_0x125152=>_0x125152===_0x333524);if(_0x44de42===-0x1)throw new Error(_0xfbdc6(0xd3)+_0x169174+_0xfbdc6(0xcc));_0x435489['splice'](_0x44de42,0x1);}['raise'](_0x47e358,[_0x512080,_0x13f271,_0x24fd72]){const _0x48b8fb=a1_0x22ff80;var _0x31d527;const _0x5562fe=(_0x31d527=this[_0x48b8fb(0xd1)][_0x47e358])!==null&&_0x31d527!==void 0x0?_0x31d527:[];for(const _0x320a13 of _0x5562fe){_0x320a13['call'](undefined,...[_0x512080,_0x13f271,_0x24fd72]);}}}exports['default']=Server;