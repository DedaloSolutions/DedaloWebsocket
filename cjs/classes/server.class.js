'use strict';const a1_0x28e27b=a1_0x3461;(function(_0x1373f4,_0x17cfc6){const _0x275171=a1_0x3461,_0x32cb67=_0x1373f4();while(!![]){try{const _0x273c8f=parseInt(_0x275171(0x9b))/0x1*(parseInt(_0x275171(0x95))/0x2)+parseInt(_0x275171(0xa2))/0x3+parseInt(_0x275171(0x8b))/0x4+-parseInt(_0x275171(0x9f))/0x5+-parseInt(_0x275171(0x8c))/0x6*(-parseInt(_0x275171(0x96))/0x7)+-parseInt(_0x275171(0xa5))/0x8*(-parseInt(_0x275171(0x8d))/0x9)+-parseInt(_0x275171(0xa6))/0xa;if(_0x273c8f===_0x17cfc6)break;else _0x32cb67['push'](_0x32cb67['shift']());}catch(_0x179173){_0x32cb67['push'](_0x32cb67['shift']());}}}(a1_0x4681,0xc86a1));var __importDefault=this&&this[a1_0x28e27b(0x99)]||function(_0x566b0c){return _0x566b0c&&_0x566b0c['__esModule']?_0x566b0c:{'default':_0x566b0c};};Object[a1_0x28e27b(0x97)](exports,a1_0x28e27b(0x94),{'value':!![]});function a1_0x4681(){const _0x488105=['3428DjFoIH','14vJKUtQ','defineProperty','handlers','__importDefault','connection','3IoeRNs','push','fromUpgradeRequest','call','6872090fDfKIi','handshake','crypto','3483288yABlQb','close','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','16376bnlZXU','11167760wfSMmb','splice','1925728FPVdSZ','1056882OKuwnf','5769ISrDiF','sockets','upgrade','default','./socket.class','raise','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','__esModule'];a1_0x4681=function(){return _0x488105;};return a1_0x4681();}function a1_0x3461(_0x21387d,_0x6ea362){const _0x468169=a1_0x4681();return a1_0x3461=function(_0x34612e,_0x5216c5){_0x34612e=_0x34612e-0x8b;let _0x56a856=_0x468169[_0x34612e];return _0x56a856;},a1_0x3461(_0x21387d,_0x6ea362);}const crypto_1=__importDefault(require(a1_0x28e27b(0xa1))),socket_class_1=__importDefault(require(a1_0x28e27b(0x91)));class Server{constructor(){const _0x1af3a3=a1_0x28e27b;this['sockets']={},this[_0x1af3a3(0x98)]={};}['listen'](_0x143897){const _0x57781d=a1_0x28e27b;_0x143897['on'](_0x57781d(0x8f),(_0xc26403,_0x441636)=>{const _0x278b52=_0x57781d,_0x59300f=socket_class_1[_0x278b52(0x90)][_0x278b52(0x9d)](_0xc26403,_0x441636),_0x2d7a8b=crypto_1[_0x278b52(0x90)]['randomUUID']();if(_0x59300f===null)return;this[_0x278b52(0x8e)][_0x2d7a8b]=_0x59300f,_0x59300f['on'](_0x278b52(0xa0),_0x1133ba=>{const _0x1fbdd1=_0x278b52;this[_0x1fbdd1(0x92)](_0x1fbdd1(0x9a),[_0x2d7a8b,_0x59300f,_0x1133ba]);}),_0x59300f['on'](_0x278b52(0xa3),()=>{const _0xb5d54e=_0x278b52;delete this[_0xb5d54e(0x8e)][_0x2d7a8b];});});}['on'](_0x4b6f40,_0x2790be){const _0x46dc84=a1_0x28e27b;if(this[_0x46dc84(0x98)][_0x4b6f40]==undefined)this[_0x46dc84(0x98)][_0x4b6f40]=[];this[_0x46dc84(0x98)][_0x4b6f40][_0x46dc84(0x9c)](_0x2790be);}['off'](_0x4af937,_0x42bc54){const _0x152073=a1_0x28e27b;if(_0x42bc54==undefined){this[_0x152073(0x98)][_0x4af937]=[];return;}const _0x4ebeaa=this[_0x152073(0x98)][_0x4af937],_0x9491db=(_0x4ebeaa!==null&&_0x4ebeaa!==void 0x0?_0x4ebeaa:[])['findIndex'](_0x569719=>_0x569719===_0x42bc54);if(_0x9491db===-0x1)throw new Error(_0x152073(0x93)+_0x4af937+_0x152073(0xa4));_0x4ebeaa[_0x152073(0xa7)](_0x9491db,0x1);}[a1_0x28e27b(0x92)](_0x1ca0dc,[_0x4fefe2,_0x4bcb92,_0x37a595]){const _0xc03f20=a1_0x28e27b;var _0x3450c1;const _0x1b2dc5=(_0x3450c1=this[_0xc03f20(0x98)][_0x1ca0dc])!==null&&_0x3450c1!==void 0x0?_0x3450c1:[];for(const _0x540b3d of _0x1b2dc5){_0x540b3d[_0xc03f20(0x9e)](undefined,...[_0x4fefe2,_0x4bcb92,_0x37a595]);}}}exports[a1_0x28e27b(0x90)]=Server;