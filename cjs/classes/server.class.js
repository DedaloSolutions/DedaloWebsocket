'use strict';const a1_0x584d7e=a1_0x576c;(function(_0x10e32a,_0x171518){const _0x3dbfc5=a1_0x576c,_0x4d378c=_0x10e32a();while(!![]){try{const _0x202bbc=-parseInt(_0x3dbfc5(0xf9))/0x1+-parseInt(_0x3dbfc5(0xfa))/0x2+-parseInt(_0x3dbfc5(0x10f))/0x3+-parseInt(_0x3dbfc5(0x100))/0x4*(parseInt(_0x3dbfc5(0x106))/0x5)+parseInt(_0x3dbfc5(0x10c))/0x6*(parseInt(_0x3dbfc5(0xf8))/0x7)+-parseInt(_0x3dbfc5(0x108))/0x8*(-parseInt(_0x3dbfc5(0x104))/0x9)+parseInt(_0x3dbfc5(0x103))/0xa;if(_0x202bbc===_0x171518)break;else _0x4d378c['push'](_0x4d378c['shift']());}catch(_0x1d9a69){_0x4d378c['push'](_0x4d378c['shift']());}}}(a1_0x1df6,0xa3b68));var __importDefault=this&&this['__importDefault']||function(_0x23e1b9){const _0x23b577=a1_0x576c;return _0x23e1b9&&_0x23e1b9[_0x23b577(0x107)]?_0x23e1b9:{'default':_0x23e1b9};};function a1_0x1df6(){const _0x166fb9=['raise','crypto','2022792iufThu','defineProperty','listen','fromUpgradeRequest','442624DpzWLN','208858VlHooW','1092438oyyIWc','handlers','Attempted\x20to\x20remove\x20an\x20handler\x20for\x20','call','splice','\x20event\x20type\x20but\x20it\x20wasn\x27t\x20found','4dZMMQD','upgrade','sockets','614860JFJCyn','279dqEqzl','push','1064740yRqTJk','__esModule','319912fxlluO','randomUUID','handshake','default','96nWqtNG'];a1_0x1df6=function(){return _0x166fb9;};return a1_0x1df6();}Object[a1_0x584d7e(0x110)](exports,a1_0x584d7e(0x107),{'value':!![]});const crypto_1=__importDefault(require(a1_0x584d7e(0x10e))),socket_class_1=__importDefault(require('./socket.class'));function a1_0x576c(_0x2b7b96,_0x51a4fa){const _0x1df626=a1_0x1df6();return a1_0x576c=function(_0x576c34,_0x493146){_0x576c34=_0x576c34-0xf6;let _0x381e24=_0x1df626[_0x576c34];return _0x381e24;},a1_0x576c(_0x2b7b96,_0x51a4fa);}class Server{constructor(){const _0x4d7390=a1_0x584d7e;this[_0x4d7390(0x102)]={},this[_0x4d7390(0xfb)]={};}[a1_0x584d7e(0xf6)](_0x4a5024){const _0x2c9948=a1_0x584d7e;_0x4a5024['on'](_0x2c9948(0x101),(_0x315e2f,_0xab652)=>{const _0x31740f=_0x2c9948,_0x414455=socket_class_1['default'][_0x31740f(0xf7)](_0x315e2f,_0xab652),_0x46c91f=crypto_1['default'][_0x31740f(0x109)]();if(_0x414455===null)return;this[_0x31740f(0x102)][_0x46c91f]=_0x414455,_0x414455['on'](_0x31740f(0x10a),_0xa44ed2=>{const _0x1dc71e=_0x31740f;this[_0x1dc71e(0x10d)]('connection',[_0x46c91f,_0x414455,_0xa44ed2]);}),_0x414455['on']('close',()=>{const _0x4fabc5=_0x31740f;delete this[_0x4fabc5(0x102)][_0x46c91f];});});}['on'](_0x32a90d,_0x5f5d31){const _0x4dfabd=a1_0x584d7e;if(this[_0x4dfabd(0xfb)][_0x32a90d]==undefined)this[_0x4dfabd(0xfb)][_0x32a90d]=[];this['handlers'][_0x32a90d][_0x4dfabd(0x105)](_0x5f5d31);}['off'](_0x261900,_0x4c31a5){const _0x28f85a=a1_0x584d7e;if(_0x4c31a5==undefined){this[_0x28f85a(0xfb)][_0x261900]=[];return;}const _0x8adcd0=this['handlers'][_0x261900],_0x485692=(_0x8adcd0!==null&&_0x8adcd0!==void 0x0?_0x8adcd0:[])['findIndex'](_0x5775aa=>_0x5775aa===_0x4c31a5);if(_0x485692===-0x1)throw new Error(_0x28f85a(0xfc)+_0x261900+_0x28f85a(0xff));_0x8adcd0[_0x28f85a(0xfe)](_0x485692,0x1);}['raise'](_0xe8fc74,[_0x4cf323,_0x22d74c,_0x38b7d8]){const _0xbd2dcb=a1_0x584d7e;var _0x962b93;const _0x300b15=(_0x962b93=this[_0xbd2dcb(0xfb)][_0xe8fc74])!==null&&_0x962b93!==void 0x0?_0x962b93:[];for(const _0x567b07 of _0x300b15){_0x567b07[_0xbd2dcb(0xfd)](undefined,...[_0x4cf323,_0x22d74c,_0x38b7d8]);}}}exports[a1_0x584d7e(0x10b)]=Server;